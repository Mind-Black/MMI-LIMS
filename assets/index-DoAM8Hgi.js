function vv(l,a){for(var i=0;i<a.length;i++){const r=a[i];if(typeof r!="string"&&!Array.isArray(r)){for(const c in r)if(c!=="default"&&!(c in l)){const d=Object.getOwnPropertyDescriptor(r,c);d&&Object.defineProperty(l,c,d.get?d:{enumerable:!0,get:()=>r[c]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function pv(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function bv(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var a=l.default;if(typeof a=="function"){var i=function r(){var c=!1;try{c=this instanceof r}catch{}return c?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};i.prototype=a.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(l).forEach(function(r){var c=Object.getOwnPropertyDescriptor(l,r);Object.defineProperty(i,r,c.get?c:{enumerable:!0,get:function(){return l[r]}})}),i}var Oo={exports:{}},_i={};var fg;function _v(){if(fg)return _i;fg=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(r,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:l,type:r,key:f,ref:c!==void 0?c:null,props:d}}return _i.Fragment=a,_i.jsx=i,_i.jsxs=i,_i}var hg;function wv(){return hg||(hg=1,Oo.exports=_v()),Oo.exports}var p=wv(),Ao={exports:{}},fe={};var gg;function Sv(){if(gg)return fe;gg=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function x(E){return E===null||typeof E!="object"?null:(E=b&&E[b]||E["@@iterator"],typeof E=="function"?E:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,N={};function z(E,M,K){this.props=E,this.context=M,this.refs=N,this.updater=K||_}z.prototype.isReactComponent={},z.prototype.setState=function(E,M){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,M,"setState")},z.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function V(){}V.prototype=z.prototype;function q(E,M,K){this.props=E,this.context=M,this.refs=N,this.updater=K||_}var G=q.prototype=new V;G.constructor=q,D(G,z.prototype),G.isPureReactComponent=!0;var ie=Array.isArray;function ne(){}var Q={H:null,A:null,T:null,S:null},Te=Object.prototype.hasOwnProperty;function Oe(E,M,K){var J=K.ref;return{$$typeof:l,type:E,key:M,ref:J!==void 0?J:null,props:K}}function Me(E,M){return Oe(E.type,M,E.props)}function Be(E){return typeof E=="object"&&E!==null&&E.$$typeof===l}function De(E){var M={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(K){return M[K]})}var lt=/\/+/g;function Ve(E,M){return typeof E=="object"&&E!==null&&E.key!=null?De(""+E.key):M.toString(36)}function Z(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(ne,ne):(E.status="pending",E.then(function(M){E.status==="pending"&&(E.status="fulfilled",E.value=M)},function(M){E.status==="pending"&&(E.status="rejected",E.reason=M)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function A(E,M,K,J,oe){var de=typeof E;(de==="undefined"||de==="boolean")&&(E=null);var ve=!1;if(E===null)ve=!0;else switch(de){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(E.$$typeof){case l:case a:ve=!0;break;case w:return ve=E._init,A(ve(E._payload),M,K,J,oe)}}if(ve)return oe=oe(E),ve=J===""?"."+Ve(E,0):J,ie(oe)?(K="",ve!=null&&(K=ve.replace(lt,"$&/")+"/"),A(oe,M,K,"",function(aa){return aa})):oe!=null&&(Be(oe)&&(oe=Me(oe,K+(oe.key==null||E&&E.key===oe.key?"":(""+oe.key).replace(lt,"$&/")+"/")+ve)),M.push(oe)),1;ve=0;var We=J===""?".":J+":";if(ie(E))for(var Qe=0;Qe<E.length;Qe++)J=E[Qe],de=We+Ve(J,Qe),ve+=A(J,M,K,de,oe);else if(Qe=x(E),typeof Qe=="function")for(E=Qe.call(E),Qe=0;!(J=E.next()).done;)J=J.value,de=We+Ve(J,Qe++),ve+=A(J,M,K,de,oe);else if(de==="object"){if(typeof E.then=="function")return A(Z(E),M,K,J,oe);throw M=String(E),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ve}function $(E,M,K){if(E==null)return E;var J=[],oe=0;return A(E,J,"","",function(de){return M.call(K,de,oe++)}),J}function I(E){if(E._status===-1){var M=E._result;M=M(),M.then(function(K){(E._status===0||E._status===-1)&&(E._status=1,E._result=K)},function(K){(E._status===0||E._status===-1)&&(E._status=2,E._result=K)}),E._status===-1&&(E._status=0,E._result=M)}if(E._status===1)return E._result.default;throw E._result}var X=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},ce={map:$,forEach:function(E,M,K){$(E,function(){M.apply(this,arguments)},K)},count:function(E){var M=0;return $(E,function(){M++}),M},toArray:function(E){return $(E,function(M){return M})||[]},only:function(E){if(!Be(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return fe.Activity=T,fe.Children=ce,fe.Component=z,fe.Fragment=i,fe.Profiler=c,fe.PureComponent=q,fe.StrictMode=r,fe.Suspense=g,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,fe.__COMPILER_RUNTIME={__proto__:null,c:function(E){return Q.H.useMemoCache(E)}},fe.cache=function(E){return function(){return E.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(E,M,K){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var J=D({},E.props),oe=E.key;if(M!=null)for(de in M.key!==void 0&&(oe=""+M.key),M)!Te.call(M,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&M.ref===void 0||(J[de]=M[de]);var de=arguments.length-2;if(de===1)J.children=K;else if(1<de){for(var ve=Array(de),We=0;We<de;We++)ve[We]=arguments[We+2];J.children=ve}return Oe(E.type,oe,J)},fe.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:d,_context:E},E},fe.createElement=function(E,M,K){var J,oe={},de=null;if(M!=null)for(J in M.key!==void 0&&(de=""+M.key),M)Te.call(M,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(oe[J]=M[J]);var ve=arguments.length-2;if(ve===1)oe.children=K;else if(1<ve){for(var We=Array(ve),Qe=0;Qe<ve;Qe++)We[Qe]=arguments[Qe+2];oe.children=We}if(E&&E.defaultProps)for(J in ve=E.defaultProps,ve)oe[J]===void 0&&(oe[J]=ve[J]);return Oe(E,de,oe)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(E){return{$$typeof:m,render:E}},fe.isValidElement=Be,fe.lazy=function(E){return{$$typeof:w,_payload:{_status:-1,_result:E},_init:I}},fe.memo=function(E,M){return{$$typeof:y,type:E,compare:M===void 0?null:M}},fe.startTransition=function(E){var M=Q.T,K={};Q.T=K;try{var J=E(),oe=Q.S;oe!==null&&oe(K,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ne,X)}catch(de){X(de)}finally{M!==null&&K.types!==null&&(M.types=K.types),Q.T=M}},fe.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},fe.use=function(E){return Q.H.use(E)},fe.useActionState=function(E,M,K){return Q.H.useActionState(E,M,K)},fe.useCallback=function(E,M){return Q.H.useCallback(E,M)},fe.useContext=function(E){return Q.H.useContext(E)},fe.useDebugValue=function(){},fe.useDeferredValue=function(E,M){return Q.H.useDeferredValue(E,M)},fe.useEffect=function(E,M){return Q.H.useEffect(E,M)},fe.useEffectEvent=function(E){return Q.H.useEffectEvent(E)},fe.useId=function(){return Q.H.useId()},fe.useImperativeHandle=function(E,M,K){return Q.H.useImperativeHandle(E,M,K)},fe.useInsertionEffect=function(E,M){return Q.H.useInsertionEffect(E,M)},fe.useLayoutEffect=function(E,M){return Q.H.useLayoutEffect(E,M)},fe.useMemo=function(E,M){return Q.H.useMemo(E,M)},fe.useOptimistic=function(E,M){return Q.H.useOptimistic(E,M)},fe.useReducer=function(E,M,K){return Q.H.useReducer(E,M,K)},fe.useRef=function(E){return Q.H.useRef(E)},fe.useState=function(E){return Q.H.useState(E)},fe.useSyncExternalStore=function(E,M,K){return Q.H.useSyncExternalStore(E,M,K)},fe.useTransition=function(){return Q.H.useTransition()},fe.version="19.2.0",fe}var mg;function sc(){return mg||(mg=1,Ao.exports=Sv()),Ao.exports}var F=sc(),No={exports:{}},wi={},Ro={exports:{}},Co={};var yg;function xv(){return yg||(yg=1,(function(l){function a(A,$){var I=A.length;A.push($);e:for(;0<I;){var X=I-1>>>1,ce=A[X];if(0<c(ce,$))A[X]=$,A[I]=ce,I=X;else break e}}function i(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var $=A[0],I=A.pop();if(I!==$){A[0]=I;e:for(var X=0,ce=A.length,E=ce>>>1;X<E;){var M=2*(X+1)-1,K=A[M],J=M+1,oe=A[J];if(0>c(K,I))J<ce&&0>c(oe,K)?(A[X]=oe,A[J]=I,X=J):(A[X]=K,A[M]=I,X=M);else if(J<ce&&0>c(oe,I))A[X]=oe,A[J]=I,X=J;else break e}}return $}function c(A,$){var I=A.sortIndex-$.sortIndex;return I!==0?I:A.id-$.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();l.unstable_now=function(){return f.now()-m}}var g=[],y=[],w=1,T=null,b=3,x=!1,_=!1,D=!1,N=!1,z=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function G(A){for(var $=i(y);$!==null;){if($.callback===null)r(y);else if($.startTime<=A)r(y),$.sortIndex=$.expirationTime,a(g,$);else break;$=i(y)}}function ie(A){if(D=!1,G(A),!_)if(i(g)!==null)_=!0,ne||(ne=!0,De());else{var $=i(y);$!==null&&Z(ie,$.startTime-A)}}var ne=!1,Q=-1,Te=5,Oe=-1;function Me(){return N?!0:!(l.unstable_now()-Oe<Te)}function Be(){if(N=!1,ne){var A=l.unstable_now();Oe=A;var $=!0;try{e:{_=!1,D&&(D=!1,V(Q),Q=-1),x=!0;var I=b;try{t:{for(G(A),T=i(g);T!==null&&!(T.expirationTime>A&&Me());){var X=T.callback;if(typeof X=="function"){T.callback=null,b=T.priorityLevel;var ce=X(T.expirationTime<=A);if(A=l.unstable_now(),typeof ce=="function"){T.callback=ce,G(A),$=!0;break t}T===i(g)&&r(g),G(A)}else r(g);T=i(g)}if(T!==null)$=!0;else{var E=i(y);E!==null&&Z(ie,E.startTime-A),$=!1}}break e}finally{T=null,b=I,x=!1}$=void 0}}finally{$?De():ne=!1}}}var De;if(typeof q=="function")De=function(){q(Be)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,Ve=lt.port2;lt.port1.onmessage=Be,De=function(){Ve.postMessage(null)}}else De=function(){z(Be,0)};function Z(A,$){Q=z(function(){A(l.unstable_now())},$)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(A){A.callback=null},l.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Te=0<A?Math.floor(1e3/A):5},l.unstable_getCurrentPriorityLevel=function(){return b},l.unstable_next=function(A){switch(b){case 1:case 2:case 3:var $=3;break;default:$=b}var I=b;b=$;try{return A()}finally{b=I}},l.unstable_requestPaint=function(){N=!0},l.unstable_runWithPriority=function(A,$){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var I=b;b=A;try{return $()}finally{b=I}},l.unstable_scheduleCallback=function(A,$,I){var X=l.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?X+I:X):I=X,A){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=I+ce,A={id:w++,callback:$,priorityLevel:A,startTime:I,expirationTime:ce,sortIndex:-1},I>X?(A.sortIndex=I,a(y,A),i(g)===null&&A===i(y)&&(D?(V(Q),Q=-1):D=!0,Z(ie,I-X))):(A.sortIndex=ce,a(g,A),_||x||(_=!0,ne||(ne=!0,De()))),A},l.unstable_shouldYield=Me,l.unstable_wrapCallback=function(A){var $=b;return function(){var I=b;b=$;try{return A.apply(this,arguments)}finally{b=I}}}})(Co)),Co}var vg;function Tv(){return vg||(vg=1,Ro.exports=xv()),Ro.exports}var Do={exports:{}},vt={};var pg;function Ev(){if(pg)return vt;pg=1;var l=sc();function a(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)y+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,y,w){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:T==null?null:""+T,children:g,containerInfo:y,implementation:w}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,vt.createPortal=function(g,y){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(a(299));return d(g,y,null,w)},vt.flushSync=function(g){var y=f.T,w=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=y,r.p=w,r.d.f()}},vt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},vt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},vt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var w=y.as,T=m(w,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,x=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;w==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:x}):w==="script"&&r.d.X(g,{crossOrigin:T,integrity:b,fetchPriority:x,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},vt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var w=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},vt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var w=y.as,T=m(w,y.crossOrigin);r.d.L(g,w,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},vt.preloadModule=function(g,y){if(typeof g=="string")if(y){var w=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},vt.requestFormReset=function(g){r.d.r(g)},vt.unstable_batchedUpdates=function(g,y){return g(y)},vt.useFormState=function(g,y,w){return f.H.useFormState(g,y,w)},vt.useFormStatus=function(){return f.H.useHostTransitionStatus()},vt.version="19.2.0",vt}var bg;function jv(){if(bg)return Do.exports;bg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Do.exports=Ev(),Do.exports}var _g;function Ov(){if(_g)return wi;_g=1;var l=Tv(),a=sc(),i=jv();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(r(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,s=t;;){var u=n.return;if(u===null)break;var o=u.alternate;if(o===null){if(s=u.return,s!==null){n=s;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===n)return g(u),e;if(o===s)return g(u),t;o=o.sibling}throw Error(r(188))}if(n.return!==s.return)n=u,s=o;else{for(var h=!1,v=u.child;v;){if(v===n){h=!0,n=u,s=o;break}if(v===s){h=!0,s=u,n=o;break}v=v.sibling}if(!h){for(v=o.child;v;){if(v===n){h=!0,n=o,s=u;break}if(v===s){h=!0,s=o,n=u;break}v=v.sibling}if(!h)throw Error(r(189))}}if(n.alternate!==s)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function w(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=w(e),t!==null)return t;e=e.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),q=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),Oe=Symbol.for("react.activity"),Me=Symbol.for("react.memo_cache_sentinel"),Be=Symbol.iterator;function De(e){return e===null||typeof e!="object"?null:(e=Be&&e[Be]||e["@@iterator"],typeof e=="function"?e:null)}var lt=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===lt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case z:return"Profiler";case N:return"StrictMode";case ie:return"Suspense";case ne:return"SuspenseList";case Oe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case q:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:Ve(e.type)||"Memo";case Te:t=e._payload,e=e._init;try{return Ve(e(t))}catch{}}return null}var Z=Array.isArray,A=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},X=[],ce=-1;function E(e){return{current:e}}function M(e){0>ce||(e.current=X[ce],X[ce]=null,ce--)}function K(e,t){ce++,X[ce]=e.current,e.current=t}var J=E(null),oe=E(null),de=E(null),ve=E(null);function We(e,t){switch(K(de,t),K(oe,e),K(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?zh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=zh(t),e=Mh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(J),K(J,e)}function Qe(){M(J),M(oe),M(de)}function aa(e){e.memoizedState!==null&&K(ve,e);var t=J.current,n=Mh(t,e.type);t!==n&&(K(oe,e),K(J,n))}function Na(e){oe.current===e&&(M(J),M(oe)),ve.current===e&&(M(ve),yi._currentValue=I)}var Os,Ri;function un(e){if(Os===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Os=t&&t[1]||"",Ri=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Os+e+Ri}var Y=!1;function te(e,t){if(!e||Y)return"";Y=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(k){var U=k}Reflect.construct(e,[],H)}else{try{H.call()}catch(k){U=k}e.call(H.prototype)}}else{try{throw Error()}catch(k){U=k}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(k){if(k&&U&&typeof k.stack=="string")return[k.stack,U.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=s.DetermineComponentFrameRoot(),h=o[0],v=o[1];if(h&&v){var S=h.split(`
`),C=v.split(`
`);for(u=s=0;s<S.length&&!S[s].includes("DetermineComponentFrameRoot");)s++;for(;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;if(s===S.length||u===C.length)for(s=S.length-1,u=C.length-1;1<=s&&0<=u&&S[s]!==C[u];)u--;for(;1<=s&&0<=u;s--,u--)if(S[s]!==C[u]){if(s!==1||u!==1)do if(s--,u--,0>u||S[s]!==C[u]){var B=`
`+S[s].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=s&&0<=u);break}}}finally{Y=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?un(n):""}function re(e,t){switch(e.tag){case 26:case 27:case 5:return un(e.type);case 16:return un("Lazy");case 13:return e.child!==t&&t!==null?un("Suspense Fallback"):un("Suspense");case 19:return un("SuspenseList");case 0:case 15:return te(e.type,!1);case 11:return te(e.type.render,!1);case 1:return te(e.type,!0);case 31:return un("Activity");default:return""}}function ye(e){try{var t="",n=null;do t+=re(e,n),n=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ne=Object.prototype.hasOwnProperty,Ye=l.unstable_scheduleCallback,ge=l.unstable_cancelCallback,pe=l.unstable_shouldYield,bt=l.unstable_requestPaint,Le=l.unstable_now,An=l.unstable_getCurrentPriorityLevel,ct=l.unstable_ImmediatePriority,hc=l.unstable_UserBlockingPriority,Ci=l.unstable_NormalPriority,Wm=l.unstable_LowPriority,gc=l.unstable_IdlePriority,Fm=l.log,e0=l.unstable_setDisableYieldValue,As=null,At=null;function Nn(e){if(typeof Fm=="function"&&e0(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(As,e)}catch{}}var Nt=Math.clz32?Math.clz32:a0,t0=Math.log,n0=Math.LN2;function a0(e){return e>>>=0,e===0?32:31-(t0(e)/n0|0)|0}var Di=256,Ui=262144,ki=4194304;function sa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function zi(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var u=0,o=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var v=s&134217727;return v!==0?(s=v&~o,s!==0?u=sa(s):(h&=v,h!==0?u=sa(h):n||(n=v&~e,n!==0&&(u=sa(n))))):(v=s&~o,v!==0?u=sa(v):h!==0?u=sa(h):n||(n=s&~e,n!==0&&(u=sa(n)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:u}function Ns(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function s0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mc(){var e=ki;return ki<<=1,(ki&62914560)===0&&(ki=4194304),e}function gl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function i0(e,t,n,s,u,o){var h=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,S=e.expirationTimes,C=e.hiddenUpdates;for(n=h&~n;0<n;){var B=31-Nt(n),H=1<<B;v[B]=0,S[B]=-1;var U=C[B];if(U!==null)for(C[B]=null,B=0;B<U.length;B++){var k=U[B];k!==null&&(k.lane&=-536870913)}n&=~H}s!==0&&yc(e,s,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(h&~t))}function yc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Nt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function vc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Nt(n),u=1<<s;u&t|e[s]&t&&(e[s]|=t),n&=~u}}function pc(e,t){var n=t&-t;return n=(n&42)!==0?1:ml(n),(n&(e.suspendedLanes|t))!==0?0:n}function ml(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function bc(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:ig(e.type))}function _c(e,t){var n=$.p;try{return $.p=e,t()}finally{$.p=n}}var Rn=Math.random().toString(36).slice(2),dt="__reactFiber$"+Rn,wt="__reactProps$"+Rn,Ra="__reactContainer$"+Rn,vl="__reactEvents$"+Rn,r0="__reactListeners$"+Rn,l0="__reactHandles$"+Rn,wc="__reactResources$"+Rn,Cs="__reactMarker$"+Rn;function pl(e){delete e[dt],delete e[wt],delete e[vl],delete e[r0],delete e[l0]}function Ca(e){var t=e[dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ra]||n[dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Vh(e);e!==null;){if(n=e[dt])return n;e=Vh(e)}return t}e=n,n=e.parentNode}return null}function Da(e){if(e=e[dt]||e[Ra]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ds(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Ua(e){var t=e[wc];return t||(t=e[wc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ut(e){e[Cs]=!0}var Sc=new Set,xc={};function ia(e,t){ka(e,t),ka(e+"Capture",t)}function ka(e,t){for(xc[e]=t,e=0;e<t.length;e++)Sc.add(t[e])}var u0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tc={},Ec={};function o0(e){return Ne.call(Ec,e)?!0:Ne.call(Tc,e)?!1:u0.test(e)?Ec[e]=!0:(Tc[e]=!0,!1)}function Mi(e,t,n){if(o0(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Bi(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function on(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}function Ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function c0(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,o=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(h){n=""+h,o.call(this,h)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(h){n=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bl(e){if(!e._valueTracker){var t=jc(e)?"checked":"value";e._valueTracker=c0(e,t,""+e[t])}}function Oc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=jc(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function qi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var d0=/[\n"\\]/g;function $t(e){return e.replace(d0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function _l(e,t,n,s,u,o,h,v){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ht(t)):e.value!==""+Ht(t)&&(e.value=""+Ht(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?wl(e,h,Ht(t)):n!=null?wl(e,h,Ht(n)):s!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Ht(v):e.removeAttribute("name")}function Ac(e,t,n,s,u,o,h,v){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){bl(e);return}n=n!=null?""+Ht(n):"",t=t!=null?""+Ht(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}s=s??u,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=v?e.checked:!!s,e.defaultChecked=!!s,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),bl(e)}function wl(e,t,n){t==="number"&&qi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function za(e,t,n,s){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ht(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Nc(e,t,n){if(t!=null&&(t=""+Ht(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ht(n):""}function Rc(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(r(92));if(Z(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=Ht(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),bl(e)}function Ma(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var f0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cc(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||f0.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Dc(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var u in t)s=t[u],t.hasOwnProperty(u)&&n[u]!==s&&Cc(e,u,s)}else for(var o in t)t.hasOwnProperty(o)&&Cc(e,o,t[o])}function Sl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),g0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Li(e){return g0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function cn(){}var xl=null;function Tl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ba=null,qa=null;function Uc(e){var t=Da(e);if(t&&(e=t.stateNode)){var n=e[wt]||null;e:switch(e=t.stateNode,t.type){case"input":if(_l(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+$t(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var u=s[wt]||null;if(!u)throw Error(r(90));_l(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&Oc(s)}break e;case"textarea":Nc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&za(e,!!n.multiple,t,!1)}}}var El=!1;function kc(e,t,n){if(El)return e(t,n);El=!0;try{var s=e(t);return s}finally{if(El=!1,(Ba!==null||qa!==null)&&(jr(),Ba&&(t=Ba,e=qa,qa=Ba=null,Uc(t),e)))for(t=0;t<e.length;t++)Uc(e[t])}}function Us(e,t){var n=e.stateNode;if(n===null)return null;var s=n[wt]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jl=!1;if(dn)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){jl=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{jl=!1}var Cn=null,Ol=null,Hi=null;function zc(){if(Hi)return Hi;var e,t=Ol,n=t.length,s,u="value"in Cn?Cn.value:Cn.textContent,o=u.length;for(e=0;e<n&&t[e]===u[e];e++);var h=n-e;for(s=1;s<=h&&t[n-s]===u[o-s];s++);return Hi=u.slice(e,1<s?1-s:void 0)}function $i(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function Mc(){return!1}function St(e){function t(n,s,u,o,h){this._reactName=n,this._targetInst=u,this.type=s,this.nativeEvent=o,this.target=h,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(o):o[v]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Gi:Mc,this.isPropagationStopped=Mc,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),t}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=St(ra),zs=T({},ra,{view:0,detail:0}),m0=St(zs),Al,Nl,Ms,Yi=T({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ms&&(Ms&&e.type==="mousemove"?(Al=e.screenX-Ms.screenX,Nl=e.screenY-Ms.screenY):Nl=Al=0,Ms=e),Al)},movementY:function(e){return"movementY"in e?e.movementY:Nl}}),Bc=St(Yi),y0=T({},Yi,{dataTransfer:0}),v0=St(y0),p0=T({},zs,{relatedTarget:0}),Rl=St(p0),b0=T({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),_0=St(b0),w0=T({},ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),S0=St(w0),x0=T({},ra,{data:0}),qc=St(x0),T0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=j0[e])?!!t[e]:!1}function Cl(){return O0}var A0=T({},zs,{key:function(e){if(e.key){var t=T0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?E0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cl,charCode:function(e){return e.type==="keypress"?$i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N0=St(A0),R0=T({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lc=St(R0),C0=T({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cl}),D0=St(C0),U0=T({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),k0=St(U0),z0=T({},Yi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),M0=St(z0),B0=T({},ra,{newState:0,oldState:0}),q0=St(B0),L0=[9,13,27,32],Dl=dn&&"CompositionEvent"in window,Bs=null;dn&&"documentMode"in document&&(Bs=document.documentMode);var H0=dn&&"TextEvent"in window&&!Bs,Hc=dn&&(!Dl||Bs&&8<Bs&&11>=Bs),$c=" ",Gc=!1;function Vc(e,t){switch(e){case"keyup":return L0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var La=!1;function $0(e,t){switch(e){case"compositionend":return Yc(t);case"keypress":return t.which!==32?null:(Gc=!0,$c);case"textInput":return e=t.data,e===$c&&Gc?null:e;default:return null}}function G0(e,t){if(La)return e==="compositionend"||!Dl&&Vc(e,t)?(e=zc(),Hi=Ol=Cn=null,La=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hc&&t.locale!=="ko"?null:t.data;default:return null}}var V0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!V0[e.type]:t==="textarea"}function Qc(e,t,n,s){Ba?qa?qa.push(s):qa=[s]:Ba=s,t=Ur(t,"onChange"),0<t.length&&(n=new Vi("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var qs=null,Ls=null;function Y0(e){Nh(e,0)}function Ki(e){var t=Ds(e);if(Oc(t))return e}function Xc(e,t){if(e==="change")return t}var Jc=!1;if(dn){var Ul;if(dn){var kl="oninput"in document;if(!kl){var Zc=document.createElement("div");Zc.setAttribute("oninput","return;"),kl=typeof Zc.oninput=="function"}Ul=kl}else Ul=!1;Jc=Ul&&(!document.documentMode||9<document.documentMode)}function Ic(){qs&&(qs.detachEvent("onpropertychange",Pc),Ls=qs=null)}function Pc(e){if(e.propertyName==="value"&&Ki(Ls)){var t=[];Qc(t,Ls,e,Tl(e)),kc(Y0,t)}}function K0(e,t,n){e==="focusin"?(Ic(),qs=t,Ls=n,qs.attachEvent("onpropertychange",Pc)):e==="focusout"&&Ic()}function Q0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ki(Ls)}function X0(e,t){if(e==="click")return Ki(t)}function J0(e,t){if(e==="input"||e==="change")return Ki(t)}function Z0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:Z0;function Hs(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var u=n[s];if(!Ne.call(t,u)||!Rt(e[u],t[u]))return!1}return!0}function Wc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fc(e,t){var n=Wc(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wc(n)}}function ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function td(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=qi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qi(e.document)}return t}function zl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var I0=dn&&"documentMode"in document&&11>=document.documentMode,Ha=null,Ml=null,$s=null,Bl=!1;function nd(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bl||Ha==null||Ha!==qi(s)||(s=Ha,"selectionStart"in s&&zl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),$s&&Hs($s,s)||($s=s,s=Ur(Ml,"onSelect"),0<s.length&&(t=new Vi("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Ha)))}function la(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $a={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},ql={},ad={};dn&&(ad=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function ua(e){if(ql[e])return ql[e];if(!$a[e])return e;var t=$a[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ad)return ql[e]=t[n];return e}var sd=ua("animationend"),id=ua("animationiteration"),rd=ua("animationstart"),P0=ua("transitionrun"),W0=ua("transitionstart"),F0=ua("transitioncancel"),ld=ua("transitionend"),ud=new Map,Ll="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ll.push("scrollEnd");function Pt(e,t){ud.set(e,t),ia(t,[e])}var Qi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gt=[],Ga=0,Hl=0;function Xi(){for(var e=Ga,t=Hl=Ga=0;t<e;){var n=Gt[t];Gt[t++]=null;var s=Gt[t];Gt[t++]=null;var u=Gt[t];Gt[t++]=null;var o=Gt[t];if(Gt[t++]=null,s!==null&&u!==null){var h=s.pending;h===null?u.next=u:(u.next=h.next,h.next=u),s.pending=u}o!==0&&od(n,u,o)}}function Ji(e,t,n,s){Gt[Ga++]=e,Gt[Ga++]=t,Gt[Ga++]=n,Gt[Ga++]=s,Hl|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function $l(e,t,n,s){return Ji(e,t,n,s),Zi(e)}function oa(e,t){return Ji(e,null,null,t),Zi(e)}function od(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var u=!1,o=e.return;o!==null;)o.childLanes|=n,s=o.alternate,s!==null&&(s.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-Nt(n),e=o.hiddenUpdates,s=e[u],s===null?e[u]=[t]:s.push(t),t.lane=n|536870912),o):null}function Zi(e){if(50<oi)throw oi=0,Iu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Va={};function ey(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,s){return new ey(e,t,n,s)}function Gl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fn(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function cd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ii(e,t,n,s,u,o){var h=0;if(s=e,typeof e=="function")Gl(e)&&(h=1);else if(typeof e=="string")h=iv(e,n,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Oe:return e=Ct(31,n,t,u),e.elementType=Oe,e.lanes=o,e;case D:return ca(n.children,u,o,t);case N:h=8,u|=24;break;case z:return e=Ct(12,n,t,u|2),e.elementType=z,e.lanes=o,e;case ie:return e=Ct(13,n,t,u),e.elementType=ie,e.lanes=o,e;case ne:return e=Ct(19,n,t,u),e.elementType=ne,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:h=10;break e;case V:h=9;break e;case G:h=11;break e;case Q:h=14;break e;case Te:h=16,s=null;break e}h=29,n=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=Ct(h,n,t,u),t.elementType=e,t.type=s,t.lanes=o,t}function ca(e,t,n,s){return e=Ct(7,e,s,t),e.lanes=n,e}function Vl(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function dd(e){var t=Ct(18,null,null,0);return t.stateNode=e,t}function Yl(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var fd=new WeakMap;function Vt(e,t){if(typeof e=="object"&&e!==null){var n=fd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ye(t)},fd.set(e,t),t)}return{value:e,source:t,stack:ye(t)}}var Ya=[],Ka=0,Pi=null,Gs=0,Yt=[],Kt=0,Dn=null,an=1,sn="";function hn(e,t){Ya[Ka++]=Gs,Ya[Ka++]=Pi,Pi=e,Gs=t}function hd(e,t,n){Yt[Kt++]=an,Yt[Kt++]=sn,Yt[Kt++]=Dn,Dn=e;var s=an;e=sn;var u=32-Nt(s)-1;s&=~(1<<u),n+=1;var o=32-Nt(t)+u;if(30<o){var h=u-u%5;o=(s&(1<<h)-1).toString(32),s>>=h,u-=h,an=1<<32-Nt(t)+u|n<<u|s,sn=o+e}else an=1<<o|n<<u|s,sn=e}function Kl(e){e.return!==null&&(hn(e,1),hd(e,1,0))}function Ql(e){for(;e===Pi;)Pi=Ya[--Ka],Ya[Ka]=null,Gs=Ya[--Ka],Ya[Ka]=null;for(;e===Dn;)Dn=Yt[--Kt],Yt[Kt]=null,sn=Yt[--Kt],Yt[Kt]=null,an=Yt[--Kt],Yt[Kt]=null}function gd(e,t){Yt[Kt++]=an,Yt[Kt++]=sn,Yt[Kt++]=Dn,an=t.id,sn=t.overflow,Dn=e}var ft=null,$e=null,xe=!1,Un=null,Qt=!1,Xl=Error(r(519));function kn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vs(Vt(t,e)),Xl}function md(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[dt]=e,t[wt]=s,n){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(n=0;n<di.length;n++)_e(di[n],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),Ac(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),Rc(t,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||Uh(t.textContent,n)?(s.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),s.onScroll!=null&&_e("scroll",t),s.onScrollEnd!=null&&_e("scrollend",t),s.onClick!=null&&(t.onclick=cn),t=!0):t=!1,t||kn(e,!0)}function yd(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:ft=ft.return}}function Qa(e){if(e!==ft)return!1;if(!xe)return yd(e),xe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||fo(e.type,e.memoizedProps)),n=!n),n&&$e&&kn(e),yd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));$e=Gh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));$e=Gh(e)}else t===27?(t=$e,Jn(e.type)?(e=vo,vo=null,$e=e):$e=t):$e=ft?Jt(e.stateNode.nextSibling):null;return!0}function da(){$e=ft=null,xe=!1}function Jl(){var e=Un;return e!==null&&(jt===null?jt=e:jt.push.apply(jt,e),Un=null),e}function Vs(e){Un===null?Un=[e]:Un.push(e)}var Zl=E(null),fa=null,gn=null;function zn(e,t,n){K(Zl,t._currentValue),t._currentValue=n}function mn(e){e._currentValue=Zl.current,M(Zl)}function Il(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Pl(e,t,n,s){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var h=u.child;o=o.firstContext;e:for(;o!==null;){var v=o;o=u;for(var S=0;S<t.length;S++)if(v.context===t[S]){o.lanes|=n,v=o.alternate,v!==null&&(v.lanes|=n),Il(o.return,n,e),s||(h=null);break e}o=v.next}}else if(u.tag===18){if(h=u.return,h===null)throw Error(r(341));h.lanes|=n,o=h.alternate,o!==null&&(o.lanes|=n),Il(h,n,e),h=null}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===e){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}}function Xa(e,t,n,s){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var h=u.alternate;if(h===null)throw Error(r(387));if(h=h.memoizedProps,h!==null){var v=u.type;Rt(u.pendingProps.value,h.value)||(e!==null?e.push(v):e=[v])}}else if(u===ve.current){if(h=u.alternate,h===null)throw Error(r(387));h.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(yi):e=[yi])}u=u.return}e!==null&&Pl(t,e,n,s),t.flags|=262144}function Wi(e){for(e=e.firstContext;e!==null;){if(!Rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ha(e){fa=e,gn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ht(e){return vd(fa,e)}function Fi(e,t){return fa===null&&ha(e),vd(e,t)}function vd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},gn===null){if(e===null)throw Error(r(308));gn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else gn=gn.next=t;return n}var ty=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},ny=l.unstable_scheduleCallback,ay=l.unstable_NormalPriority,Fe={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wl(){return{controller:new ty,data:new Map,refCount:0}}function Ys(e){e.refCount--,e.refCount===0&&ny(ay,function(){e.controller.abort()})}var Ks=null,Fl=0,Ja=0,Za=null;function sy(e,t){if(Ks===null){var n=Ks=[];Fl=0,Ja=no(),Za={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Fl++,t.then(pd,pd),t}function pd(){if(--Fl===0&&Ks!==null){Za!==null&&(Za.status="fulfilled");var e=Ks;Ks=null,Ja=0,Za=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function iy(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(s.status="rejected",s.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),s}var bd=A.S;A.S=function(e,t){ah=Le(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&sy(e,t),bd!==null&&bd(e,t)};var ga=E(null);function eu(){var e=ga.current;return e!==null?e:qe.pooledCache}function er(e,t){t===null?K(ga,ga.current):K(ga,t.pool)}function _d(){var e=eu();return e===null?null:{parent:Fe._currentValue,pool:e}}var Ia=Error(r(460)),tu=Error(r(474)),tr=Error(r(542)),nr={then:function(){}};function wd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(cn,cn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Td(e),e;default:if(typeof t.status=="string")t.then(cn,cn);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=s}},function(s){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Td(e),e}throw ya=t,Ia}}function ma(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ya=n,Ia):n}}var ya=null;function xd(){if(ya===null)throw Error(r(459));var e=ya;return ya=null,e}function Td(e){if(e===Ia||e===tr)throw Error(r(483))}var Pa=null,Qs=0;function ar(e){var t=Qs;return Qs+=1,Pa===null&&(Pa=[]),Sd(Pa,e,t)}function Xs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function sr(e,t){throw t.$$typeof===b?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ed(e){function t(O,j){if(e){var R=O.deletions;R===null?(O.deletions=[j],O.flags|=16):R.push(j)}}function n(O,j){if(!e)return null;for(;j!==null;)t(O,j),j=j.sibling;return null}function s(O){for(var j=new Map;O!==null;)O.key!==null?j.set(O.key,O):j.set(O.index,O),O=O.sibling;return j}function u(O,j){return O=fn(O,j),O.index=0,O.sibling=null,O}function o(O,j,R){return O.index=R,e?(R=O.alternate,R!==null?(R=R.index,R<j?(O.flags|=67108866,j):R):(O.flags|=67108866,j)):(O.flags|=1048576,j)}function h(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function v(O,j,R,L){return j===null||j.tag!==6?(j=Vl(R,O.mode,L),j.return=O,j):(j=u(j,R),j.return=O,j)}function S(O,j,R,L){var se=R.type;return se===D?B(O,j,R.props.children,L,R.key):j!==null&&(j.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Te&&ma(se)===j.type)?(j=u(j,R.props),Xs(j,R),j.return=O,j):(j=Ii(R.type,R.key,R.props,null,O.mode,L),Xs(j,R),j.return=O,j)}function C(O,j,R,L){return j===null||j.tag!==4||j.stateNode.containerInfo!==R.containerInfo||j.stateNode.implementation!==R.implementation?(j=Yl(R,O.mode,L),j.return=O,j):(j=u(j,R.children||[]),j.return=O,j)}function B(O,j,R,L,se){return j===null||j.tag!==7?(j=ca(R,O.mode,L,se),j.return=O,j):(j=u(j,R),j.return=O,j)}function H(O,j,R){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Vl(""+j,O.mode,R),j.return=O,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case x:return R=Ii(j.type,j.key,j.props,null,O.mode,R),Xs(R,j),R.return=O,R;case _:return j=Yl(j,O.mode,R),j.return=O,j;case Te:return j=ma(j),H(O,j,R)}if(Z(j)||De(j))return j=ca(j,O.mode,R,null),j.return=O,j;if(typeof j.then=="function")return H(O,ar(j),R);if(j.$$typeof===q)return H(O,Fi(O,j),R);sr(O,j)}return null}function U(O,j,R,L){var se=j!==null?j.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return se!==null?null:v(O,j,""+R,L);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case x:return R.key===se?S(O,j,R,L):null;case _:return R.key===se?C(O,j,R,L):null;case Te:return R=ma(R),U(O,j,R,L)}if(Z(R)||De(R))return se!==null?null:B(O,j,R,L,null);if(typeof R.then=="function")return U(O,j,ar(R),L);if(R.$$typeof===q)return U(O,j,Fi(O,R),L);sr(O,R)}return null}function k(O,j,R,L,se){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return O=O.get(R)||null,v(j,O,""+L,se);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case x:return O=O.get(L.key===null?R:L.key)||null,S(j,O,L,se);case _:return O=O.get(L.key===null?R:L.key)||null,C(j,O,L,se);case Te:return L=ma(L),k(O,j,R,L,se)}if(Z(L)||De(L))return O=O.get(R)||null,B(j,O,L,se,null);if(typeof L.then=="function")return k(O,j,R,ar(L),se);if(L.$$typeof===q)return k(O,j,R,Fi(j,L),se);sr(j,L)}return null}function P(O,j,R,L){for(var se=null,Ee=null,ee=j,me=j=0,Se=null;ee!==null&&me<R.length;me++){ee.index>me?(Se=ee,ee=null):Se=ee.sibling;var je=U(O,ee,R[me],L);if(je===null){ee===null&&(ee=Se);break}e&&ee&&je.alternate===null&&t(O,ee),j=o(je,j,me),Ee===null?se=je:Ee.sibling=je,Ee=je,ee=Se}if(me===R.length)return n(O,ee),xe&&hn(O,me),se;if(ee===null){for(;me<R.length;me++)ee=H(O,R[me],L),ee!==null&&(j=o(ee,j,me),Ee===null?se=ee:Ee.sibling=ee,Ee=ee);return xe&&hn(O,me),se}for(ee=s(ee);me<R.length;me++)Se=k(ee,O,me,R[me],L),Se!==null&&(e&&Se.alternate!==null&&ee.delete(Se.key===null?me:Se.key),j=o(Se,j,me),Ee===null?se=Se:Ee.sibling=Se,Ee=Se);return e&&ee.forEach(function(Fn){return t(O,Fn)}),xe&&hn(O,me),se}function le(O,j,R,L){if(R==null)throw Error(r(151));for(var se=null,Ee=null,ee=j,me=j=0,Se=null,je=R.next();ee!==null&&!je.done;me++,je=R.next()){ee.index>me?(Se=ee,ee=null):Se=ee.sibling;var Fn=U(O,ee,je.value,L);if(Fn===null){ee===null&&(ee=Se);break}e&&ee&&Fn.alternate===null&&t(O,ee),j=o(Fn,j,me),Ee===null?se=Fn:Ee.sibling=Fn,Ee=Fn,ee=Se}if(je.done)return n(O,ee),xe&&hn(O,me),se;if(ee===null){for(;!je.done;me++,je=R.next())je=H(O,je.value,L),je!==null&&(j=o(je,j,me),Ee===null?se=je:Ee.sibling=je,Ee=je);return xe&&hn(O,me),se}for(ee=s(ee);!je.done;me++,je=R.next())je=k(ee,O,me,je.value,L),je!==null&&(e&&je.alternate!==null&&ee.delete(je.key===null?me:je.key),j=o(je,j,me),Ee===null?se=je:Ee.sibling=je,Ee=je);return e&&ee.forEach(function(yv){return t(O,yv)}),xe&&hn(O,me),se}function ze(O,j,R,L){if(typeof R=="object"&&R!==null&&R.type===D&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case x:e:{for(var se=R.key;j!==null;){if(j.key===se){if(se=R.type,se===D){if(j.tag===7){n(O,j.sibling),L=u(j,R.props.children),L.return=O,O=L;break e}}else if(j.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Te&&ma(se)===j.type){n(O,j.sibling),L=u(j,R.props),Xs(L,R),L.return=O,O=L;break e}n(O,j);break}else t(O,j);j=j.sibling}R.type===D?(L=ca(R.props.children,O.mode,L,R.key),L.return=O,O=L):(L=Ii(R.type,R.key,R.props,null,O.mode,L),Xs(L,R),L.return=O,O=L)}return h(O);case _:e:{for(se=R.key;j!==null;){if(j.key===se)if(j.tag===4&&j.stateNode.containerInfo===R.containerInfo&&j.stateNode.implementation===R.implementation){n(O,j.sibling),L=u(j,R.children||[]),L.return=O,O=L;break e}else{n(O,j);break}else t(O,j);j=j.sibling}L=Yl(R,O.mode,L),L.return=O,O=L}return h(O);case Te:return R=ma(R),ze(O,j,R,L)}if(Z(R))return P(O,j,R,L);if(De(R)){if(se=De(R),typeof se!="function")throw Error(r(150));return R=se.call(R),le(O,j,R,L)}if(typeof R.then=="function")return ze(O,j,ar(R),L);if(R.$$typeof===q)return ze(O,j,Fi(O,R),L);sr(O,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,j!==null&&j.tag===6?(n(O,j.sibling),L=u(j,R),L.return=O,O=L):(n(O,j),L=Vl(R,O.mode,L),L.return=O,O=L),h(O)):n(O,j)}return function(O,j,R,L){try{Qs=0;var se=ze(O,j,R,L);return Pa=null,se}catch(ee){if(ee===Ia||ee===tr)throw ee;var Ee=Ct(29,ee,null,O.mode);return Ee.lanes=L,Ee.return=O,Ee}finally{}}}var va=Ed(!0),jd=Ed(!1),Mn=!1;function nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function au(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Bn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ae&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,t=Zi(e),od(e,null,n),t}return Ji(e,s,t,n),Zi(e)}function Js(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,vc(e,n)}}function su(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var u=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var h={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?u=o=h:o=o.next=h,n=n.next}while(n!==null);o===null?u=o=t:o=o.next=t}else u=o=t;n={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var iu=!1;function Zs(){if(iu){var e=Za;if(e!==null)throw e}}function Is(e,t,n,s){iu=!1;var u=e.updateQueue;Mn=!1;var o=u.firstBaseUpdate,h=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var S=v,C=S.next;S.next=null,h===null?o=C:h.next=C,h=S;var B=e.alternate;B!==null&&(B=B.updateQueue,v=B.lastBaseUpdate,v!==h&&(v===null?B.firstBaseUpdate=C:v.next=C,B.lastBaseUpdate=S))}if(o!==null){var H=u.baseState;h=0,B=C=S=null,v=o;do{var U=v.lane&-536870913,k=U!==v.lane;if(k?(we&U)===U:(s&U)===U){U!==0&&U===Ja&&(iu=!0),B!==null&&(B=B.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var P=e,le=v;U=t;var ze=n;switch(le.tag){case 1:if(P=le.payload,typeof P=="function"){H=P.call(ze,H,U);break e}H=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=le.payload,U=typeof P=="function"?P.call(ze,H,U):P,U==null)break e;H=T({},H,U);break e;case 2:Mn=!0}}U=v.callback,U!==null&&(e.flags|=64,k&&(e.flags|=8192),k=u.callbacks,k===null?u.callbacks=[U]:k.push(U))}else k={lane:U,tag:v.tag,payload:v.payload,callback:v.callback,next:null},B===null?(C=B=k,S=H):B=B.next=k,h|=U;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;k=v,v=k.next,k.next=null,u.lastBaseUpdate=k,u.shared.pending=null}}while(!0);B===null&&(S=H),u.baseState=S,u.firstBaseUpdate=C,u.lastBaseUpdate=B,o===null&&(u.shared.lanes=0),Vn|=h,e.lanes=h,e.memoizedState=H}}function Od(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Ad(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Od(n[e],t)}var Wa=E(null),ir=E(0);function Nd(e,t){e=Tn,K(ir,e),K(Wa,t),Tn=e|t.baseLanes}function ru(){K(ir,Tn),K(Wa,Wa.current)}function lu(){Tn=ir.current,M(Wa),M(ir)}var Dt=E(null),Xt=null;function Ln(e){var t=e.alternate;K(Ie,Ie.current&1),K(Dt,e),Xt===null&&(t===null||Wa.current!==null||t.memoizedState!==null)&&(Xt=e)}function uu(e){K(Ie,Ie.current),K(Dt,e),Xt===null&&(Xt=e)}function Rd(e){e.tag===22?(K(Ie,Ie.current),K(Dt,e),Xt===null&&(Xt=e)):Hn()}function Hn(){K(Ie,Ie.current),K(Dt,Dt.current)}function Ut(e){M(Dt),Xt===e&&(Xt=null),M(Ie)}var Ie=E(0);function rr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||mo(n)||yo(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yn=0,he=null,Ue=null,et=null,lr=!1,Fa=!1,pa=!1,ur=0,Ps=0,es=null,ry=0;function Je(){throw Error(r(321))}function ou(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rt(e[n],t[n]))return!1;return!0}function cu(e,t,n,s,u,o){return yn=o,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=e===null||e.memoizedState===null?gf:Eu,pa=!1,o=n(s,u),pa=!1,Fa&&(o=Dd(t,n,s,u)),Cd(e),o}function Cd(e){A.H=ei;var t=Ue!==null&&Ue.next!==null;if(yn=0,et=Ue=he=null,lr=!1,Ps=0,es=null,t)throw Error(r(300));e===null||tt||(e=e.dependencies,e!==null&&Wi(e)&&(tt=!0))}function Dd(e,t,n,s){he=e;var u=0;do{if(Fa&&(es=null),Ps=0,Fa=!1,25<=u)throw Error(r(301));if(u+=1,et=Ue=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}A.H=mf,o=t(n,s)}while(Fa);return o}function ly(){var e=A.H,t=e.useState()[0];return t=typeof t.then=="function"?Ws(t):t,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(he.flags|=1024),t}function du(){var e=ur!==0;return ur=0,e}function fu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function hu(e){if(lr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}lr=!1}yn=0,et=Ue=he=null,Fa=!1,Ps=ur=0,es=null}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?he.memoizedState=et=e:et=et.next=e,et}function Pe(){if(Ue===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=et===null?he.memoizedState:et.next;if(t!==null)et=t,Ue=e;else{if(e===null)throw he.alternate===null?Error(r(467)):Error(r(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},et===null?he.memoizedState=et=e:et=et.next=e}return et}function or(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ws(e){var t=Ps;return Ps+=1,es===null&&(es=[]),e=Sd(es,e,t),t=he,(et===null?t.memoizedState:et.next)===null&&(t=t.alternate,A.H=t===null||t.memoizedState===null?gf:Eu),e}function cr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ws(e);if(e.$$typeof===q)return ht(e)}throw Error(r(438,String(e)))}function gu(e){var t=null,n=he.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=he.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=or(),he.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=Me;return t.index++,n}function vn(e,t){return typeof t=="function"?t(e):t}function dr(e){var t=Pe();return mu(t,Ue,e)}function mu(e,t,n){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=n;var u=e.baseQueue,o=s.pending;if(o!==null){if(u!==null){var h=u.next;u.next=o.next,o.next=h}t.baseQueue=u=o,s.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var v=h=null,S=null,C=t,B=!1;do{var H=C.lane&-536870913;if(H!==C.lane?(we&H)===H:(yn&H)===H){var U=C.revertLane;if(U===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),H===Ja&&(B=!0);else if((yn&U)===U){C=C.next,U===Ja&&(B=!0);continue}else H={lane:0,revertLane:C.revertLane,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},S===null?(v=S=H,h=o):S=S.next=H,he.lanes|=U,Vn|=U;H=C.action,pa&&n(o,H),o=C.hasEagerState?C.eagerState:n(o,H)}else U={lane:H,revertLane:C.revertLane,gesture:C.gesture,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},S===null?(v=S=U,h=o):S=S.next=U,he.lanes|=H,Vn|=H;C=C.next}while(C!==null&&C!==t);if(S===null?h=o:S.next=v,!Rt(o,e.memoizedState)&&(tt=!0,B&&(n=Za,n!==null)))throw n;e.memoizedState=o,e.baseState=h,e.baseQueue=S,s.lastRenderedState=o}return u===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function yu(e){var t=Pe(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var s=n.dispatch,u=n.pending,o=t.memoizedState;if(u!==null){n.pending=null;var h=u=u.next;do o=e(o,h.action),h=h.next;while(h!==u);Rt(o,t.memoizedState)||(tt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,s]}function Ud(e,t,n){var s=he,u=Pe(),o=xe;if(o){if(n===void 0)throw Error(r(407));n=n()}else n=t();var h=!Rt((Ue||u).memoizedState,n);if(h&&(u.memoizedState=n,tt=!0),u=u.queue,bu(Md.bind(null,s,u,e),[e]),u.getSnapshot!==t||h||et!==null&&et.memoizedState.tag&1){if(s.flags|=2048,ts(9,{destroy:void 0},zd.bind(null,s,u,n,t),null),qe===null)throw Error(r(349));o||(yn&127)!==0||kd(s,t,n)}return n}function kd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t=or(),he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zd(e,t,n,s){t.value=n,t.getSnapshot=s,Bd(t)&&qd(e)}function Md(e,t,n){return n(function(){Bd(t)&&qd(e)})}function Bd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rt(e,n)}catch{return!0}}function qd(e){var t=oa(e,2);t!==null&&Ot(t,e,2)}function vu(e){var t=_t();if(typeof e=="function"){var n=e;if(e=n(),pa){Nn(!0);try{n()}finally{Nn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:e},t}function Ld(e,t,n,s){return e.baseState=n,mu(e,Ue,typeof s=="function"?s:vn)}function uy(e,t,n,s,u){if(gr(e))throw Error(r(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){o.listeners.push(h)}};A.T!==null?n(!0):o.isTransition=!1,s(o),n=t.pending,n===null?(o.next=t.pending=o,Hd(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Hd(e,t){var n=t.action,s=t.payload,u=e.state;if(t.isTransition){var o=A.T,h={};A.T=h;try{var v=n(u,s),S=A.S;S!==null&&S(h,v),$d(e,t,v)}catch(C){pu(e,t,C)}finally{o!==null&&h.types!==null&&(o.types=h.types),A.T=o}}else try{o=n(u,s),$d(e,t,o)}catch(C){pu(e,t,C)}}function $d(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Gd(e,t,s)},function(s){return pu(e,t,s)}):Gd(e,t,n)}function Gd(e,t,n){t.status="fulfilled",t.value=n,Vd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Hd(e,n)))}function pu(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,Vd(t),t=t.next;while(t!==s)}e.action=null}function Vd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Yd(e,t){return t}function Kd(e,t){if(xe){var n=qe.formState;if(n!==null){e:{var s=he;if(xe){if($e){t:{for(var u=$e,o=Qt;u.nodeType!==8;){if(!o){u=null;break t}if(u=Jt(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){$e=Jt(u.nextSibling),s=u.data==="F!";break e}}kn(s)}s=!1}s&&(t=n[0])}}return n=_t(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yd,lastRenderedState:t},n.queue=s,n=df.bind(null,he,s),s.dispatch=n,s=vu(!1),o=Tu.bind(null,he,!1,s.queue),s=_t(),u={state:t,dispatch:null,action:e,pending:null},s.queue=u,n=uy.bind(null,he,u,o,n),u.dispatch=n,s.memoizedState=e,[t,n,!1]}function Qd(e){var t=Pe();return Xd(t,Ue,e)}function Xd(e,t,n){if(t=mu(e,t,Yd)[0],e=dr(vn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ws(t)}catch(h){throw h===Ia?tr:h}else s=t;t=Pe();var u=t.queue,o=u.dispatch;return n!==t.memoizedState&&(he.flags|=2048,ts(9,{destroy:void 0},oy.bind(null,u,n),null)),[s,o,e]}function oy(e,t){e.action=t}function Jd(e){var t=Pe(),n=Ue;if(n!==null)return Xd(t,n,e);Pe(),t=t.memoizedState,n=Pe();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function ts(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=he.updateQueue,t===null&&(t=or(),he.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function Zd(){return Pe().memoizedState}function fr(e,t,n,s){var u=_t();he.flags|=e,u.memoizedState=ts(1|t,{destroy:void 0},n,s===void 0?null:s)}function hr(e,t,n,s){var u=Pe();s=s===void 0?null:s;var o=u.memoizedState.inst;Ue!==null&&s!==null&&ou(s,Ue.memoizedState.deps)?u.memoizedState=ts(t,o,n,s):(he.flags|=e,u.memoizedState=ts(1|t,o,n,s))}function Id(e,t){fr(8390656,8,e,t)}function bu(e,t){hr(2048,8,e,t)}function cy(e){he.flags|=4;var t=he.updateQueue;if(t===null)t=or(),he.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Pd(e){var t=Pe().memoizedState;return cy({ref:t,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Wd(e,t){return hr(4,2,e,t)}function Fd(e,t){return hr(4,4,e,t)}function ef(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tf(e,t,n){n=n!=null?n.concat([e]):null,hr(4,4,ef.bind(null,t,e),n)}function _u(){}function nf(e,t){var n=Pe();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&ou(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function af(e,t){var n=Pe();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&ou(t,s[1]))return s[0];if(s=e(),pa){Nn(!0);try{e()}finally{Nn(!1)}}return n.memoizedState=[s,t],s}function wu(e,t,n){return n===void 0||(yn&1073741824)!==0&&(we&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=ih(),he.lanes|=e,Vn|=e,n)}function sf(e,t,n,s){return Rt(n,t)?n:Wa.current!==null?(e=wu(e,n,s),Rt(e,t)||(tt=!0),e):(yn&42)===0||(yn&1073741824)!==0&&(we&261930)===0?(tt=!0,e.memoizedState=n):(e=ih(),he.lanes|=e,Vn|=e,t)}function rf(e,t,n,s,u){var o=$.p;$.p=o!==0&&8>o?o:8;var h=A.T,v={};A.T=v,Tu(e,!1,t,n);try{var S=u(),C=A.S;if(C!==null&&C(v,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var B=iy(S,s);Fs(e,t,B,Mt(e))}else Fs(e,t,s,Mt(e))}catch(H){Fs(e,t,{then:function(){},status:"rejected",reason:H},Mt())}finally{$.p=o,h!==null&&v.types!==null&&(h.types=v.types),A.T=h}}function dy(){}function Su(e,t,n,s){if(e.tag!==5)throw Error(r(476));var u=lf(e).queue;rf(e,u,t,I,n===null?dy:function(){return uf(e),n(s)})}function lf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:I},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function uf(e){var t=lf(e);t.next===null&&(t=e.alternate.memoizedState),Fs(e,t.next.queue,{},Mt())}function xu(){return ht(yi)}function of(){return Pe().memoizedState}function cf(){return Pe().memoizedState}function fy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Mt();e=Bn(n);var s=qn(t,e,n);s!==null&&(Ot(s,t,n),Js(s,t,n)),t={cache:Wl()},e.payload=t;return}t=t.return}}function hy(e,t,n){var s=Mt();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},gr(e)?ff(t,n):(n=$l(e,t,n,s),n!==null&&(Ot(n,e,s),hf(n,t,s)))}function df(e,t,n){var s=Mt();Fs(e,t,n,s)}function Fs(e,t,n,s){var u={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(gr(e))ff(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var h=t.lastRenderedState,v=o(h,n);if(u.hasEagerState=!0,u.eagerState=v,Rt(v,h))return Ji(e,t,u,0),qe===null&&Xi(),!1}catch{}finally{}if(n=$l(e,t,u,s),n!==null)return Ot(n,e,s),hf(n,t,s),!0}return!1}function Tu(e,t,n,s){if(s={lane:2,revertLane:no(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},gr(e)){if(t)throw Error(r(479))}else t=$l(e,n,s,2),t!==null&&Ot(t,e,2)}function gr(e){var t=e.alternate;return e===he||t!==null&&t===he}function ff(e,t){Fa=lr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hf(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,vc(e,n)}}var ei={readContext:ht,use:cr,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};ei.useEffectEvent=Je;var gf={readContext:ht,use:cr,useCallback:function(e,t){return _t().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:Id,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,fr(4194308,4,ef.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fr(4194308,4,e,t)},useInsertionEffect:function(e,t){fr(4,2,e,t)},useMemo:function(e,t){var n=_t();t=t===void 0?null:t;var s=e();if(pa){Nn(!0);try{e()}finally{Nn(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=_t();if(n!==void 0){var u=n(t);if(pa){Nn(!0);try{n(t)}finally{Nn(!1)}}}else u=t;return s.memoizedState=s.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},s.queue=e,e=e.dispatch=hy.bind(null,he,e),[s.memoizedState,e]},useRef:function(e){var t=_t();return e={current:e},t.memoizedState=e},useState:function(e){e=vu(e);var t=e.queue,n=df.bind(null,he,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_u,useDeferredValue:function(e,t){var n=_t();return wu(n,e,t)},useTransition:function(){var e=vu(!1);return e=rf.bind(null,he,e.queue,!0,!1),_t().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=he,u=_t();if(xe){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),qe===null)throw Error(r(349));(we&127)!==0||kd(s,t,n)}u.memoizedState=n;var o={value:n,getSnapshot:t};return u.queue=o,Id(Md.bind(null,s,o,e),[e]),s.flags|=2048,ts(9,{destroy:void 0},zd.bind(null,s,o,n,t),null),n},useId:function(){var e=_t(),t=qe.identifierPrefix;if(xe){var n=sn,s=an;n=(s&~(1<<32-Nt(s)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ur++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=ry++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:xu,useFormState:Kd,useActionState:Kd,useOptimistic:function(e){var t=_t();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Tu.bind(null,he,!0,n),n.dispatch=t,[e,t]},useMemoCache:gu,useCacheRefresh:function(){return _t().memoizedState=fy.bind(null,he)},useEffectEvent:function(e){var t=_t(),n={impl:e};return t.memoizedState=n,function(){if((Ae&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},Eu={readContext:ht,use:cr,useCallback:nf,useContext:ht,useEffect:bu,useImperativeHandle:tf,useInsertionEffect:Wd,useLayoutEffect:Fd,useMemo:af,useReducer:dr,useRef:Zd,useState:function(){return dr(vn)},useDebugValue:_u,useDeferredValue:function(e,t){var n=Pe();return sf(n,Ue.memoizedState,e,t)},useTransition:function(){var e=dr(vn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Ws(e),t]},useSyncExternalStore:Ud,useId:of,useHostTransitionStatus:xu,useFormState:Qd,useActionState:Qd,useOptimistic:function(e,t){var n=Pe();return Ld(n,Ue,e,t)},useMemoCache:gu,useCacheRefresh:cf};Eu.useEffectEvent=Pd;var mf={readContext:ht,use:cr,useCallback:nf,useContext:ht,useEffect:bu,useImperativeHandle:tf,useInsertionEffect:Wd,useLayoutEffect:Fd,useMemo:af,useReducer:yu,useRef:Zd,useState:function(){return yu(vn)},useDebugValue:_u,useDeferredValue:function(e,t){var n=Pe();return Ue===null?wu(n,e,t):sf(n,Ue.memoizedState,e,t)},useTransition:function(){var e=yu(vn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Ws(e),t]},useSyncExternalStore:Ud,useId:of,useHostTransitionStatus:xu,useFormState:Jd,useActionState:Jd,useOptimistic:function(e,t){var n=Pe();return Ue!==null?Ld(n,Ue,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:gu,useCacheRefresh:cf};mf.useEffectEvent=Pd;function ju(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:T({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ou={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Mt(),u=Bn(s);u.payload=t,n!=null&&(u.callback=n),t=qn(e,u,s),t!==null&&(Ot(t,e,s),Js(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Mt(),u=Bn(s);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=qn(e,u,s),t!==null&&(Ot(t,e,s),Js(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mt(),s=Bn(n);s.tag=2,t!=null&&(s.callback=t),t=qn(e,s,n),t!==null&&(Ot(t,e,n),Js(t,e,n))}};function yf(e,t,n,s,u,o,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,h):t.prototype&&t.prototype.isPureReactComponent?!Hs(n,s)||!Hs(u,o):!0}function vf(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Ou.enqueueReplaceState(t,t.state,null)}function ba(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=T({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function pf(e){Qi(e)}function bf(e){console.error(e)}function _f(e){Qi(e)}function mr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function wf(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Au(e,t,n){return n=Bn(n),n.tag=3,n.payload={element:null},n.callback=function(){mr(e,t)},n}function Sf(e){return e=Bn(e),e.tag=3,e}function xf(e,t,n,s){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var o=s.value;e.payload=function(){return u(o)},e.callback=function(){wf(t,n,s)}}var h=n.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){wf(t,n,s),typeof u!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function gy(e,t,n,s,u){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&Xa(t,n,u,!0),n=Dt.current,n!==null){switch(n.tag){case 31:case 13:return Xt===null?Or():n.alternate===null&&Ze===0&&(Ze=3),n.flags&=-257,n.flags|=65536,n.lanes=u,s===nr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Fu(e,s,u)),!1;case 22:return n.flags|=65536,s===nr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Fu(e,s,u)),!1}throw Error(r(435,n.tag))}return Fu(e,s,u),Or(),!1}if(xe)return t=Dt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,s!==Xl&&(e=Error(r(422),{cause:s}),Vs(Vt(e,n)))):(s!==Xl&&(t=Error(r(423),{cause:s}),Vs(Vt(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,s=Vt(s,n),u=Au(e.stateNode,s,u),su(e,u),Ze!==4&&(Ze=2)),!1;var o=Error(r(520),{cause:s});if(o=Vt(o,n),ui===null?ui=[o]:ui.push(o),Ze!==4&&(Ze=2),t===null)return!0;s=Vt(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=Au(n.stateNode,s,e),su(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Yn===null||!Yn.has(o))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Sf(u),xf(u,e,n,s),su(n,u),!1}n=n.return}while(n!==null);return!1}var Nu=Error(r(461)),tt=!1;function gt(e,t,n,s){t.child=e===null?jd(t,null,n,s):va(t,e.child,n,s)}function Tf(e,t,n,s,u){n=n.render;var o=t.ref;if("ref"in s){var h={};for(var v in s)v!=="ref"&&(h[v]=s[v])}else h=s;return ha(t),s=cu(e,t,n,h,o,u),v=du(),e!==null&&!tt?(fu(e,t,u),pn(e,t,u)):(xe&&v&&Kl(t),t.flags|=1,gt(e,t,s,u),t.child)}function Ef(e,t,n,s,u){if(e===null){var o=n.type;return typeof o=="function"&&!Gl(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,jf(e,t,o,s,u)):(e=Ii(n.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!Bu(e,u)){var h=o.memoizedProps;if(n=n.compare,n=n!==null?n:Hs,n(h,s)&&e.ref===t.ref)return pn(e,t,u)}return t.flags|=1,e=fn(o,s),e.ref=t.ref,e.return=t,t.child=e}function jf(e,t,n,s,u){if(e!==null){var o=e.memoizedProps;if(Hs(o,s)&&e.ref===t.ref)if(tt=!1,t.pendingProps=s=o,Bu(e,u))(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,pn(e,t,u)}return Ru(e,t,n,s,u)}function Of(e,t,n,s){var u=s.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,e!==null){for(s=t.child=e.child,u=0;s!==null;)u=u|s.lanes|s.childLanes,s=s.sibling;s=u&~o}else s=0,t.child=null;return Af(e,t,o,n,s)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&er(t,o!==null?o.cachePool:null),o!==null?Nd(t,o):ru(),Rd(t);else return s=t.lanes=536870912,Af(e,t,o!==null?o.baseLanes|n:n,n,s)}else o!==null?(er(t,o.cachePool),Nd(t,o),Hn(),t.memoizedState=null):(e!==null&&er(t,null),ru(),Hn());return gt(e,t,u,n),t.child}function ti(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Af(e,t,n,s,u){var o=eu();return o=o===null?null:{parent:Fe._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&er(t,null),ru(),Rd(t),e!==null&&Xa(e,t,s,!0),t.childLanes=u,null}function yr(e,t){return t=pr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Nf(e,t,n){return va(t,e.child,null,n),e=yr(t,t.pendingProps),e.flags|=2,Ut(t),t.memoizedState=null,e}function my(e,t,n){var s=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(xe){if(s.mode==="hidden")return e=yr(t,s),t.lanes=536870912,ti(null,e);if(uu(t),(e=$e)?(e=$h(e,Qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Dn!==null?{id:an,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},n=dd(e),n.return=t,t.child=n,ft=t,$e=null)):e=null,e===null)throw kn(t);return t.lanes=536870912,null}return yr(t,s)}var o=e.memoizedState;if(o!==null){var h=o.dehydrated;if(uu(t),u)if(t.flags&256)t.flags&=-257,t=Nf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(tt||Xa(e,t,n,!1),u=(n&e.childLanes)!==0,tt||u){if(s=qe,s!==null&&(h=pc(s,n),h!==0&&h!==o.retryLane))throw o.retryLane=h,oa(e,h),Ot(s,e,h),Nu;Or(),t=Nf(e,t,n)}else e=o.treeContext,$e=Jt(h.nextSibling),ft=t,xe=!0,Un=null,Qt=!1,e!==null&&gd(t,e),t=yr(t,s),t.flags|=4096;return t}return e=fn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function vr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ru(e,t,n,s,u){return ha(t),n=cu(e,t,n,s,void 0,u),s=du(),e!==null&&!tt?(fu(e,t,u),pn(e,t,u)):(xe&&s&&Kl(t),t.flags|=1,gt(e,t,n,u),t.child)}function Rf(e,t,n,s,u,o){return ha(t),t.updateQueue=null,n=Dd(t,s,n,u),Cd(e),s=du(),e!==null&&!tt?(fu(e,t,o),pn(e,t,o)):(xe&&s&&Kl(t),t.flags|=1,gt(e,t,n,o),t.child)}function Cf(e,t,n,s,u){if(ha(t),t.stateNode===null){var o=Va,h=n.contextType;typeof h=="object"&&h!==null&&(o=ht(h)),o=new n(s,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ou,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=s,o.state=t.memoizedState,o.refs={},nu(t),h=n.contextType,o.context=typeof h=="object"&&h!==null?ht(h):Va,o.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(ju(t,n,h,s),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(h=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),h!==o.state&&Ou.enqueueReplaceState(o,o.state,null),Is(t,s,o,u),Zs(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){o=t.stateNode;var v=t.memoizedProps,S=ba(n,v);o.props=S;var C=o.context,B=n.contextType;h=Va,typeof B=="object"&&B!==null&&(h=ht(B));var H=n.getDerivedStateFromProps;B=typeof H=="function"||typeof o.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,B||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(v||C!==h)&&vf(t,o,s,h),Mn=!1;var U=t.memoizedState;o.state=U,Is(t,s,o,u),Zs(),C=t.memoizedState,v||U!==C||Mn?(typeof H=="function"&&(ju(t,n,H,s),C=t.memoizedState),(S=Mn||yf(t,n,S,s,U,C,h))?(B||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=C),o.props=s,o.state=C,o.context=h,s=S):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,au(e,t),h=t.memoizedProps,B=ba(n,h),o.props=B,H=t.pendingProps,U=o.context,C=n.contextType,S=Va,typeof C=="object"&&C!==null&&(S=ht(C)),v=n.getDerivedStateFromProps,(C=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(h!==H||U!==S)&&vf(t,o,s,S),Mn=!1,U=t.memoizedState,o.state=U,Is(t,s,o,u),Zs();var k=t.memoizedState;h!==H||U!==k||Mn||e!==null&&e.dependencies!==null&&Wi(e.dependencies)?(typeof v=="function"&&(ju(t,n,v,s),k=t.memoizedState),(B=Mn||yf(t,n,B,s,U,k,S)||e!==null&&e.dependencies!==null&&Wi(e.dependencies))?(C||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,k,S),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,k,S)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=k),o.props=s,o.state=k,o.context=S,s=B):(typeof o.componentDidUpdate!="function"||h===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),s=!1)}return o=s,vr(e,t),s=(t.flags&128)!==0,o||s?(o=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&s?(t.child=va(t,e.child,null,u),t.child=va(t,null,n,u)):gt(e,t,n,u),t.memoizedState=o.state,e=t.child):e=pn(e,t,u),e}function Df(e,t,n,s){return da(),t.flags|=256,gt(e,t,n,s),t.child}var Cu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Du(e){return{baseLanes:e,cachePool:_d()}}function Uu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=zt),e}function Uf(e,t,n){var s=t.pendingProps,u=!1,o=(t.flags&128)!==0,h;if((h=o)||(h=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),h&&(u=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(xe){if(u?Ln(t):Hn(),(e=$e)?(e=$h(e,Qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Dn!==null?{id:an,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},n=dd(e),n.return=t,t.child=n,ft=t,$e=null)):e=null,e===null)throw kn(t);return yo(e)?t.lanes=32:t.lanes=536870912,null}var v=s.children;return s=s.fallback,u?(Hn(),u=t.mode,v=pr({mode:"hidden",children:v},u),s=ca(s,u,n,null),v.return=t,s.return=t,v.sibling=s,t.child=v,s=t.child,s.memoizedState=Du(n),s.childLanes=Uu(e,h,n),t.memoizedState=Cu,ti(null,s)):(Ln(t),ku(t,v))}var S=e.memoizedState;if(S!==null&&(v=S.dehydrated,v!==null)){if(o)t.flags&256?(Ln(t),t.flags&=-257,t=zu(e,t,n)):t.memoizedState!==null?(Hn(),t.child=e.child,t.flags|=128,t=null):(Hn(),v=s.fallback,u=t.mode,s=pr({mode:"visible",children:s.children},u),v=ca(v,u,n,null),v.flags|=2,s.return=t,v.return=t,s.sibling=v,t.child=s,va(t,e.child,null,n),s=t.child,s.memoizedState=Du(n),s.childLanes=Uu(e,h,n),t.memoizedState=Cu,t=ti(null,s));else if(Ln(t),yo(v)){if(h=v.nextSibling&&v.nextSibling.dataset,h)var C=h.dgst;h=C,s=Error(r(419)),s.stack="",s.digest=h,Vs({value:s,source:null,stack:null}),t=zu(e,t,n)}else if(tt||Xa(e,t,n,!1),h=(n&e.childLanes)!==0,tt||h){if(h=qe,h!==null&&(s=pc(h,n),s!==0&&s!==S.retryLane))throw S.retryLane=s,oa(e,s),Ot(h,e,s),Nu;mo(v)||Or(),t=zu(e,t,n)}else mo(v)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,$e=Jt(v.nextSibling),ft=t,xe=!0,Un=null,Qt=!1,e!==null&&gd(t,e),t=ku(t,s.children),t.flags|=4096);return t}return u?(Hn(),v=s.fallback,u=t.mode,S=e.child,C=S.sibling,s=fn(S,{mode:"hidden",children:s.children}),s.subtreeFlags=S.subtreeFlags&65011712,C!==null?v=fn(C,v):(v=ca(v,u,n,null),v.flags|=2),v.return=t,s.return=t,s.sibling=v,t.child=s,ti(null,s),s=t.child,v=e.child.memoizedState,v===null?v=Du(n):(u=v.cachePool,u!==null?(S=Fe._currentValue,u=u.parent!==S?{parent:S,pool:S}:u):u=_d(),v={baseLanes:v.baseLanes|n,cachePool:u}),s.memoizedState=v,s.childLanes=Uu(e,h,n),t.memoizedState=Cu,ti(e.child,s)):(Ln(t),n=e.child,e=n.sibling,n=fn(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=n,t.memoizedState=null,n)}function ku(e,t){return t=pr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function pr(e,t){return e=Ct(22,e,null,t),e.lanes=0,e}function zu(e,t,n){return va(t,e.child,null,n),e=ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kf(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Il(e.return,t,n)}function Mu(e,t,n,s,u,o){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:u,treeForkCount:o}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=n,h.tailMode=u,h.treeForkCount=o)}function zf(e,t,n){var s=t.pendingProps,u=s.revealOrder,o=s.tail;s=s.children;var h=Ie.current,v=(h&2)!==0;if(v?(h=h&1|2,t.flags|=128):h&=1,K(Ie,h),gt(e,t,s,n),s=xe?Gs:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kf(e,n,t);else if(e.tag===19)kf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&rr(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),Mu(t,!1,u,n,o,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&rr(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}Mu(t,!0,n,null,o,s);break;case"together":Mu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Xa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Bu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Wi(e)))}function yy(e,t,n){switch(t.tag){case 3:We(t,t.stateNode.containerInfo),zn(t,Fe,e.memoizedState.cache),da();break;case 27:case 5:aa(t);break;case 4:We(t,t.stateNode.containerInfo);break;case 10:zn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,uu(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ln(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Uf(e,t,n):(Ln(t),e=pn(e,t,n),e!==null?e.sibling:null);Ln(t);break;case 19:var u=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(Xa(e,t,n,!1),s=(n&t.childLanes)!==0),u){if(s)return zf(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),K(Ie,Ie.current),s)break;return null;case 22:return t.lanes=0,Of(e,t,n,t.pendingProps);case 24:zn(t,Fe,e.memoizedState.cache)}return pn(e,t,n)}function Mf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!Bu(e,n)&&(t.flags&128)===0)return tt=!1,yy(e,t,n);tt=(e.flags&131072)!==0}else tt=!1,xe&&(t.flags&1048576)!==0&&hd(t,Gs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ma(t.elementType),t.type=e,typeof e=="function")Gl(e)?(s=ba(e,s),t.tag=1,t=Cf(null,t,e,s,n)):(t.tag=0,t=Ru(null,t,e,s,n));else{if(e!=null){var u=e.$$typeof;if(u===G){t.tag=11,t=Tf(null,t,e,s,n);break e}else if(u===Q){t.tag=14,t=Ef(null,t,e,s,n);break e}}throw t=Ve(e)||e,Error(r(306,t,""))}}return t;case 0:return Ru(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,u=ba(s,t.pendingProps),Cf(e,t,s,u,n);case 3:e:{if(We(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var o=t.memoizedState;u=o.element,au(e,t),Is(t,s,null,n);var h=t.memoizedState;if(s=h.cache,zn(t,Fe,s),s!==o.cache&&Pl(t,[Fe],n,!0),Zs(),s=h.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Df(e,t,s,n);break e}else if(s!==u){u=Vt(Error(r(424)),t),Vs(u),t=Df(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=Jt(e.firstChild),ft=t,xe=!0,Un=null,Qt=!0,n=jd(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(da(),s===u){t=pn(e,t,n);break e}gt(e,t,s,n)}t=t.child}return t;case 26:return vr(e,t),e===null?(n=Xh(t.type,null,t.pendingProps,null))?t.memoizedState=n:xe||(n=t.type,e=t.pendingProps,s=kr(de.current).createElement(n),s[dt]=t,s[wt]=e,mt(s,n,e),ut(s),t.stateNode=s):t.memoizedState=Xh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return aa(t),e===null&&xe&&(s=t.stateNode=Yh(t.type,t.pendingProps,de.current),ft=t,Qt=!0,u=$e,Jn(t.type)?(vo=u,$e=Jt(s.firstChild)):$e=u),gt(e,t,t.pendingProps.children,n),vr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&xe&&((u=s=$e)&&(s=Qy(s,t.type,t.pendingProps,Qt),s!==null?(t.stateNode=s,ft=t,$e=Jt(s.firstChild),Qt=!1,u=!0):u=!1),u||kn(t)),aa(t),u=t.type,o=t.pendingProps,h=e!==null?e.memoizedProps:null,s=o.children,fo(u,o)?s=null:h!==null&&fo(u,h)&&(t.flags|=32),t.memoizedState!==null&&(u=cu(e,t,ly,null,null,n),yi._currentValue=u),vr(e,t),gt(e,t,s,n),t.child;case 6:return e===null&&xe&&((e=n=$e)&&(n=Xy(n,t.pendingProps,Qt),n!==null?(t.stateNode=n,ft=t,$e=null,e=!0):e=!1),e||kn(t)),null;case 13:return Uf(e,t,n);case 4:return We(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=va(t,null,s,n):gt(e,t,s,n),t.child;case 11:return Tf(e,t,t.type,t.pendingProps,n);case 7:return gt(e,t,t.pendingProps,n),t.child;case 8:return gt(e,t,t.pendingProps.children,n),t.child;case 12:return gt(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,zn(t,t.type,s.value),gt(e,t,s.children,n),t.child;case 9:return u=t.type._context,s=t.pendingProps.children,ha(t),u=ht(u),s=s(u),t.flags|=1,gt(e,t,s,n),t.child;case 14:return Ef(e,t,t.type,t.pendingProps,n);case 15:return jf(e,t,t.type,t.pendingProps,n);case 19:return zf(e,t,n);case 31:return my(e,t,n);case 22:return Of(e,t,n,t.pendingProps);case 24:return ha(t),s=ht(Fe),e===null?(u=eu(),u===null&&(u=qe,o=Wl(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=n),u=o),t.memoizedState={parent:s,cache:u},nu(t),zn(t,Fe,u)):((e.lanes&n)!==0&&(au(e,t),Is(t,null,null,n),Zs()),u=e.memoizedState,o=t.memoizedState,u.parent!==s?(u={parent:s,cache:s},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),zn(t,Fe,s)):(s=o.cache,zn(t,Fe,s),s!==u.cache&&Pl(t,[Fe],n,!0))),gt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function bn(e){e.flags|=4}function qu(e,t,n,s,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(oh())e.flags|=8192;else throw ya=nr,tu}else e.flags&=-16777217}function Bf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wh(t))if(oh())e.flags|=8192;else throw ya=nr,tu}function br(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?mc():536870912,e.lanes|=t,is|=t)}function ni(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,s|=u.subtreeFlags&65011712,s|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function vy(e,t,n){var s=t.pendingProps;switch(Ql(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return Ge(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),mn(Fe),Qe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qa(t)?bn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Jl())),Ge(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(bn(t),o!==null?(Ge(t),Bf(t,o)):(Ge(t),qu(t,u,null,s,n))):o?o!==e.memoizedState?(bn(t),Ge(t),Bf(t,o)):(Ge(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&bn(t),Ge(t),qu(t,u,e,s,n)),null;case 27:if(Na(t),n=de.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&bn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ge(t),null}e=J.current,Qa(t)?md(t):(e=Yh(u,s,n),t.stateNode=e,bn(t))}return Ge(t),null;case 5:if(Na(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&bn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ge(t),null}if(o=J.current,Qa(t))md(t);else{var h=kr(de.current);switch(o){case 1:o=h.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=h.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=h.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=h.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=h.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof s.is=="string"?h.createElement("select",{is:s.is}):h.createElement("select"),s.multiple?o.multiple=!0:s.size&&(o.size=s.size);break;default:o=typeof s.is=="string"?h.createElement(u,{is:s.is}):h.createElement(u)}}o[dt]=t,o[wt]=s;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=o;e:switch(mt(o,u,s),u){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&bn(t)}}return Ge(t),qu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&bn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=de.current,Qa(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,u=ft,u!==null)switch(u.tag){case 27:case 5:s=u.memoizedProps}e[dt]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||Uh(e.nodeValue,n)),e||kn(t,!0)}else e=kr(e).createTextNode(s),e[dt]=t,t.stateNode=e}return Ge(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(s=Qa(t),n!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[dt]=t}else da(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),e=!1}else n=Jl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ut(t),t):(Ut(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ge(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Qa(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[dt]=t}else da(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),u=!1}else u=Jl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Ut(t),t):(Ut(t),null)}return Ut(t),(t.flags&128)!==0?(t.lanes=n,t):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=t.child,u=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(u=s.alternate.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==u&&(s.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),br(t,t.updateQueue),Ge(t),null);case 4:return Qe(),e===null&&ro(t.stateNode.containerInfo),Ge(t),null;case 10:return mn(t.type),Ge(t),null;case 19:if(M(Ie),s=t.memoizedState,s===null)return Ge(t),null;if(u=(t.flags&128)!==0,o=s.rendering,o===null)if(u)ni(s,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=rr(e),o!==null){for(t.flags|=128,ni(s,!1),e=o.updateQueue,t.updateQueue=e,br(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)cd(n,e),n=n.sibling;return K(Ie,Ie.current&1|2),xe&&hn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Le()>Tr&&(t.flags|=128,u=!0,ni(s,!1),t.lanes=4194304)}else{if(!u)if(e=rr(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,br(t,e),ni(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!xe)return Ge(t),null}else 2*Le()-s.renderingStartTime>Tr&&n!==536870912&&(t.flags|=128,u=!0,ni(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(e=s.last,e!==null?e.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Le(),e.sibling=null,n=Ie.current,K(Ie,u?n&1|2:n&1),xe&&hn(t,s.treeForkCount),e):(Ge(t),null);case 22:case 23:return Ut(t),lu(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),n=t.updateQueue,n!==null&&br(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&M(ga),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),mn(Fe),Ge(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function py(e,t){switch(Ql(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mn(Fe),Qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Na(t),null;case 31:if(t.memoizedState!==null){if(Ut(t),t.alternate===null)throw Error(r(340));da()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ut(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));da()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(Ie),null;case 4:return Qe(),null;case 10:return mn(t.type),null;case 22:case 23:return Ut(t),lu(),e!==null&&M(ga),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return mn(Fe),null;case 25:return null;default:return null}}function qf(e,t){switch(Ql(t),t.tag){case 3:mn(Fe),Qe();break;case 26:case 27:case 5:Na(t);break;case 4:Qe();break;case 31:t.memoizedState!==null&&Ut(t);break;case 13:Ut(t);break;case 19:M(Ie);break;case 10:mn(t.type);break;case 22:case 23:Ut(t),lu(),e!==null&&M(ga);break;case 24:mn(Fe)}}function ai(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var u=s.next;n=u;do{if((n.tag&e)===e){s=void 0;var o=n.create,h=n.inst;s=o(),h.destroy=s}n=n.next}while(n!==u)}}catch(v){Ce(t,t.return,v)}}function $n(e,t,n){try{var s=t.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var o=u.next;s=o;do{if((s.tag&e)===e){var h=s.inst,v=h.destroy;if(v!==void 0){h.destroy=void 0,u=t;var S=n,C=v;try{C()}catch(B){Ce(u,S,B)}}}s=s.next}while(s!==o)}}catch(B){Ce(t,t.return,B)}}function Lf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ad(t,n)}catch(s){Ce(e,e.return,s)}}}function Hf(e,t,n){n.props=ba(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Ce(e,t,s)}}function si(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(u){Ce(e,t,u)}}function rn(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(u){Ce(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){Ce(e,t,u)}else n.current=null}function $f(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(u){Ce(e,e.return,u)}}function Lu(e,t,n){try{var s=e.stateNode;Hy(s,e.type,n,t),s[wt]=t}catch(u){Ce(e,e.return,u)}}function Gf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jn(e.type)||e.tag===4}function Hu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $u(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=cn));else if(s!==4&&(s===27&&Jn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for($u(e,t,n),e=e.sibling;e!==null;)$u(e,t,n),e=e.sibling}function _r(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&Jn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(_r(e,t,n),e=e.sibling;e!==null;)_r(e,t,n),e=e.sibling}function Vf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);mt(t,s,n),t[dt]=e,t[wt]=n}catch(o){Ce(e,e.return,o)}}var _n=!1,nt=!1,Gu=!1,Yf=typeof WeakSet=="function"?WeakSet:Set,ot=null;function by(e,t){if(e=e.containerInfo,oo=$r,e=td(e),zl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var u=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var h=0,v=-1,S=-1,C=0,B=0,H=e,U=null;t:for(;;){for(var k;H!==n||u!==0&&H.nodeType!==3||(v=h+u),H!==o||s!==0&&H.nodeType!==3||(S=h+s),H.nodeType===3&&(h+=H.nodeValue.length),(k=H.firstChild)!==null;)U=H,H=k;for(;;){if(H===e)break t;if(U===n&&++C===u&&(v=h),U===o&&++B===s&&(S=h),(k=H.nextSibling)!==null)break;H=U,U=H.parentNode}H=k}n=v===-1||S===-1?null:{start:v,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(co={focusedElem:e,selectionRange:n},$r=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){switch(t=ot,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,u=o.memoizedProps,o=o.memoizedState,s=n.stateNode;try{var P=ba(n.type,u);e=s.getSnapshotBeforeUpdate(P,o),s.__reactInternalSnapshotBeforeUpdate=e}catch(le){Ce(n,n.return,le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)go(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":go(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}}function Kf(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Sn(e,n),s&4&&ai(5,n);break;case 1:if(Sn(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(h){Ce(n,n.return,h)}else{var u=ba(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Ce(n,n.return,h)}}s&64&&Lf(n),s&512&&si(n,n.return);break;case 3:if(Sn(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ad(e,t)}catch(h){Ce(n,n.return,h)}}break;case 27:t===null&&s&4&&Vf(n);case 26:case 5:Sn(e,n),t===null&&s&4&&$f(n),s&512&&si(n,n.return);break;case 12:Sn(e,n);break;case 31:Sn(e,n),s&4&&Jf(e,n);break;case 13:Sn(e,n),s&4&&Zf(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ay.bind(null,n),Jy(e,n))));break;case 22:if(s=n.memoizedState!==null||_n,!s){t=t!==null&&t.memoizedState!==null||nt,u=_n;var o=nt;_n=s,(nt=t)&&!o?xn(e,n,(n.subtreeFlags&8772)!==0):Sn(e,n),_n=u,nt=o}break;case 30:break;default:Sn(e,n)}}function Qf(e){var t=e.alternate;t!==null&&(e.alternate=null,Qf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&pl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ke=null,xt=!1;function wn(e,t,n){for(n=n.child;n!==null;)Xf(e,t,n),n=n.sibling}function Xf(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(As,n)}catch{}switch(n.tag){case 26:nt||rn(n,t),wn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:nt||rn(n,t);var s=Ke,u=xt;Jn(n.type)&&(Ke=n.stateNode,xt=!1),wn(e,t,n),hi(n.stateNode),Ke=s,xt=u;break;case 5:nt||rn(n,t);case 6:if(s=Ke,u=xt,Ke=null,wn(e,t,n),Ke=s,xt=u,Ke!==null)if(xt)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(n.stateNode)}catch(o){Ce(n,t,o)}else try{Ke.removeChild(n.stateNode)}catch(o){Ce(n,t,o)}break;case 18:Ke!==null&&(xt?(e=Ke,Lh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),hs(e)):Lh(Ke,n.stateNode));break;case 4:s=Ke,u=xt,Ke=n.stateNode.containerInfo,xt=!0,wn(e,t,n),Ke=s,xt=u;break;case 0:case 11:case 14:case 15:$n(2,n,t),nt||$n(4,n,t),wn(e,t,n);break;case 1:nt||(rn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&Hf(n,t,s)),wn(e,t,n);break;case 21:wn(e,t,n);break;case 22:nt=(s=nt)||n.memoizedState!==null,wn(e,t,n),nt=s;break;default:wn(e,t,n)}}function Jf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{hs(e)}catch(n){Ce(t,t.return,n)}}}function Zf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hs(e)}catch(n){Ce(t,t.return,n)}}function _y(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Yf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Yf),t;default:throw Error(r(435,e.tag))}}function wr(e,t){var n=_y(e);t.forEach(function(s){if(!n.has(s)){n.add(s);var u=Ny.bind(null,e,s);s.then(u,u)}})}function Tt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var u=n[s],o=e,h=t,v=h;e:for(;v!==null;){switch(v.tag){case 27:if(Jn(v.type)){Ke=v.stateNode,xt=!1;break e}break;case 5:Ke=v.stateNode,xt=!1;break e;case 3:case 4:Ke=v.stateNode.containerInfo,xt=!0;break e}v=v.return}if(Ke===null)throw Error(r(160));Xf(o,h,u),Ke=null,xt=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)If(t,e),t=t.sibling}var Wt=null;function If(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(t,e),Et(e),s&4&&($n(3,e,e.return),ai(3,e),$n(5,e,e.return));break;case 1:Tt(t,e),Et(e),s&512&&(nt||n===null||rn(n,n.return)),s&64&&_n&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var u=Wt;if(Tt(t,e),Et(e),s&512&&(nt||n===null||rn(n,n.return)),s&4){var o=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(s){case"title":o=u.getElementsByTagName("title")[0],(!o||o[Cs]||o[dt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(s),u.head.insertBefore(o,u.querySelector("head > title"))),mt(o,s,n),o[dt]=e,ut(o),s=o;break e;case"link":var h=Ih("link","href",u).get(s+(n.href||""));if(h){for(var v=0;v<h.length;v++)if(o=h[v],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){h.splice(v,1);break t}}o=u.createElement(s),mt(o,s,n),u.head.appendChild(o);break;case"meta":if(h=Ih("meta","content",u).get(s+(n.content||""))){for(v=0;v<h.length;v++)if(o=h[v],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){h.splice(v,1);break t}}o=u.createElement(s),mt(o,s,n),u.head.appendChild(o);break;default:throw Error(r(468,s))}o[dt]=e,ut(o),s=o}e.stateNode=s}else Ph(u,e.type,e.stateNode);else e.stateNode=Zh(u,s,e.memoizedProps);else o!==s?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,s===null?Ph(u,e.type,e.stateNode):Zh(u,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Lu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Tt(t,e),Et(e),s&512&&(nt||n===null||rn(n,n.return)),n!==null&&s&4&&Lu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Tt(t,e),Et(e),s&512&&(nt||n===null||rn(n,n.return)),e.flags&32){u=e.stateNode;try{Ma(u,"")}catch(P){Ce(e,e.return,P)}}s&4&&e.stateNode!=null&&(u=e.memoizedProps,Lu(e,u,n!==null?n.memoizedProps:u)),s&1024&&(Gu=!0);break;case 6:if(Tt(t,e),Et(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(P){Ce(e,e.return,P)}}break;case 3:if(Br=null,u=Wt,Wt=zr(t.containerInfo),Tt(t,e),Wt=u,Et(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{hs(t.containerInfo)}catch(P){Ce(e,e.return,P)}Gu&&(Gu=!1,Pf(e));break;case 4:s=Wt,Wt=zr(e.stateNode.containerInfo),Tt(t,e),Et(e),Wt=s;break;case 12:Tt(t,e),Et(e);break;case 31:Tt(t,e),Et(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,wr(e,s)));break;case 13:Tt(t,e),Et(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(xr=Le()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,wr(e,s)));break;case 22:u=e.memoizedState!==null;var S=n!==null&&n.memoizedState!==null,C=_n,B=nt;if(_n=C||u,nt=B||S,Tt(t,e),nt=B,_n=C,Et(e),s&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||S||_n||nt||_a(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){S=n=t;try{if(o=S.stateNode,u)h=o.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{v=S.stateNode;var H=S.memoizedProps.style,U=H!=null&&H.hasOwnProperty("display")?H.display:null;v.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(P){Ce(S,S.return,P)}}}else if(t.tag===6){if(n===null){S=t;try{S.stateNode.nodeValue=u?"":S.memoizedProps}catch(P){Ce(S,S.return,P)}}}else if(t.tag===18){if(n===null){S=t;try{var k=S.stateNode;u?Hh(k,!0):Hh(S.stateNode,!1)}catch(P){Ce(S,S.return,P)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,wr(e,n))));break;case 19:Tt(t,e),Et(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,wr(e,s)));break;case 30:break;case 21:break;default:Tt(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(Gf(s)){n=s;break}s=s.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var u=n.stateNode,o=Hu(e);_r(e,o,u);break;case 5:var h=n.stateNode;n.flags&32&&(Ma(h,""),n.flags&=-33);var v=Hu(e);_r(e,v,h);break;case 3:case 4:var S=n.stateNode.containerInfo,C=Hu(e);$u(e,C,S);break;default:throw Error(r(161))}}catch(B){Ce(e,e.return,B)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Pf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Sn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Kf(e,t.alternate,t),t=t.sibling}function _a(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:$n(4,t,t.return),_a(t);break;case 1:rn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Hf(t,t.return,n),_a(t);break;case 27:hi(t.stateNode);case 26:case 5:rn(t,t.return),_a(t);break;case 22:t.memoizedState===null&&_a(t);break;case 30:_a(t);break;default:_a(t)}e=e.sibling}}function xn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,u=e,o=t,h=o.flags;switch(o.tag){case 0:case 11:case 15:xn(u,o,n),ai(4,o);break;case 1:if(xn(u,o,n),s=o,u=s.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(C){Ce(s,s.return,C)}if(s=o,u=s.updateQueue,u!==null){var v=s.stateNode;try{var S=u.shared.hiddenCallbacks;if(S!==null)for(u.shared.hiddenCallbacks=null,u=0;u<S.length;u++)Od(S[u],v)}catch(C){Ce(s,s.return,C)}}n&&h&64&&Lf(o),si(o,o.return);break;case 27:Vf(o);case 26:case 5:xn(u,o,n),n&&s===null&&h&4&&$f(o),si(o,o.return);break;case 12:xn(u,o,n);break;case 31:xn(u,o,n),n&&h&4&&Jf(u,o);break;case 13:xn(u,o,n),n&&h&4&&Zf(u,o);break;case 22:o.memoizedState===null&&xn(u,o,n),si(o,o.return);break;case 30:break;default:xn(u,o,n)}t=t.sibling}}function Vu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ys(n))}function Yu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ys(e))}function Ft(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wf(e,t,n,s),t=t.sibling}function Wf(e,t,n,s){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Ft(e,t,n,s),u&2048&&ai(9,t);break;case 1:Ft(e,t,n,s);break;case 3:Ft(e,t,n,s),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ys(e)));break;case 12:if(u&2048){Ft(e,t,n,s),e=t.stateNode;try{var o=t.memoizedProps,h=o.id,v=o.onPostCommit;typeof v=="function"&&v(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Ce(t,t.return,S)}}else Ft(e,t,n,s);break;case 31:Ft(e,t,n,s);break;case 13:Ft(e,t,n,s);break;case 23:break;case 22:o=t.stateNode,h=t.alternate,t.memoizedState!==null?o._visibility&2?Ft(e,t,n,s):ii(e,t):o._visibility&2?Ft(e,t,n,s):(o._visibility|=2,ns(e,t,n,s,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Vu(h,t);break;case 24:Ft(e,t,n,s),u&2048&&Yu(t.alternate,t);break;default:Ft(e,t,n,s)}}function ns(e,t,n,s,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,h=t,v=n,S=s,C=h.flags;switch(h.tag){case 0:case 11:case 15:ns(o,h,v,S,u),ai(8,h);break;case 23:break;case 22:var B=h.stateNode;h.memoizedState!==null?B._visibility&2?ns(o,h,v,S,u):ii(o,h):(B._visibility|=2,ns(o,h,v,S,u)),u&&C&2048&&Vu(h.alternate,h);break;case 24:ns(o,h,v,S,u),u&&C&2048&&Yu(h.alternate,h);break;default:ns(o,h,v,S,u)}t=t.sibling}}function ii(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,u=s.flags;switch(s.tag){case 22:ii(n,s),u&2048&&Vu(s.alternate,s);break;case 24:ii(n,s),u&2048&&Yu(s.alternate,s);break;default:ii(n,s)}t=t.sibling}}var ri=8192;function as(e,t,n){if(e.subtreeFlags&ri)for(e=e.child;e!==null;)Ff(e,t,n),e=e.sibling}function Ff(e,t,n){switch(e.tag){case 26:as(e,t,n),e.flags&ri&&e.memoizedState!==null&&rv(n,Wt,e.memoizedState,e.memoizedProps);break;case 5:as(e,t,n);break;case 3:case 4:var s=Wt;Wt=zr(e.stateNode.containerInfo),as(e,t,n),Wt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ri,ri=16777216,as(e,t,n),ri=s):as(e,t,n));break;default:as(e,t,n)}}function eh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function li(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];ot=s,nh(s,e)}eh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)th(e),e=e.sibling}function th(e){switch(e.tag){case 0:case 11:case 15:li(e),e.flags&2048&&$n(9,e,e.return);break;case 3:li(e);break;case 12:li(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Sr(e)):li(e);break;default:li(e)}}function Sr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];ot=s,nh(s,e)}eh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:$n(8,t,t.return),Sr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Sr(t));break;default:Sr(t)}e=e.sibling}}function nh(e,t){for(;ot!==null;){var n=ot;switch(n.tag){case 0:case 11:case 15:$n(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ys(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,ot=s;else e:for(n=e;ot!==null;){s=ot;var u=s.sibling,o=s.return;if(Qf(s),s===n){ot=null;break e}if(u!==null){u.return=o,ot=u;break e}ot=o}}}var wy={getCacheForType:function(e){var t=ht(Fe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ht(Fe).controller.signal}},Sy=typeof WeakMap=="function"?WeakMap:Map,Ae=0,qe=null,be=null,we=0,Re=0,kt=null,Gn=!1,ss=!1,Ku=!1,Tn=0,Ze=0,Vn=0,wa=0,Qu=0,zt=0,is=0,ui=null,jt=null,Xu=!1,xr=0,ah=0,Tr=1/0,Er=null,Yn=null,it=0,Kn=null,rs=null,En=0,Ju=0,Zu=null,sh=null,oi=0,Iu=null;function Mt(){return(Ae&2)!==0&&we!==0?we&-we:A.T!==null?no():bc()}function ih(){if(zt===0)if((we&536870912)===0||xe){var e=Ui;Ui<<=1,(Ui&3932160)===0&&(Ui=262144),zt=e}else zt=536870912;return e=Dt.current,e!==null&&(e.flags|=32),zt}function Ot(e,t,n){(e===qe&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(ls(e,0),Qn(e,we,zt,!1)),Rs(e,n),((Ae&2)===0||e!==qe)&&(e===qe&&((Ae&2)===0&&(wa|=n),Ze===4&&Qn(e,we,zt,!1)),ln(e))}function rh(e,t,n){if((Ae&6)!==0)throw Error(r(327));var s=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ns(e,t),u=s?Ey(e,t):Wu(e,t,!0),o=s;do{if(u===0){ss&&!s&&Qn(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!xy(n)){u=Wu(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var v=e;u=ui;var S=v.current.memoizedState.isDehydrated;if(S&&(ls(v,h).flags|=256),h=Wu(v,h,!1),h!==2){if(Ku&&!S){v.errorRecoveryDisabledLanes|=o,wa|=o,u=4;break e}o=jt,jt=u,o!==null&&(jt===null?jt=o:jt.push.apply(jt,o))}u=h}if(o=!1,u!==2)continue}}if(u===1){ls(e,0),Qn(e,t,0,!0);break}e:{switch(s=e,o=u,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Qn(s,t,zt,!Gn);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=xr+300-Le(),10<u)){if(Qn(s,t,zt,!Gn),zi(s,0,!0)!==0)break e;En=t,s.timeoutHandle=Bh(lh.bind(null,s,n,jt,Er,Xu,t,zt,wa,is,Gn,o,"Throttled",-0,0),u);break e}lh(s,n,jt,Er,Xu,t,zt,wa,is,Gn,o,null,-0,0)}}break}while(!0);ln(e)}function lh(e,t,n,s,u,o,h,v,S,C,B,H,U,k){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cn},Ff(t,o,H);var P=(o&62914560)===o?xr-Le():(o&4194048)===o?ah-Le():0;if(P=lv(H,P),P!==null){En=o,e.cancelPendingCommit=P(mh.bind(null,e,t,o,n,s,u,h,v,S,B,H,null,U,k)),Qn(e,o,h,!C);return}}mh(e,t,o,n,s,u,h,v,S)}function xy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var u=n[s],o=u.getSnapshot;u=u.value;try{if(!Rt(o(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t,n,s){t&=~Qu,t&=~wa,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var u=t;0<u;){var o=31-Nt(u),h=1<<o;s[o]=-1,u&=~h}n!==0&&yc(e,n,t)}function jr(){return(Ae&6)===0?(ci(0),!1):!0}function Pu(){if(be!==null){if(Re===0)var e=be.return;else e=be,gn=fa=null,hu(e),Pa=null,Qs=0,e=be;for(;e!==null;)qf(e.alternate,e),e=e.return;be=null}}function ls(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Vy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),En=0,Pu(),qe=e,be=n=fn(e.current,null),we=t,Re=0,kt=null,Gn=!1,ss=Ns(e,t),Ku=!1,is=zt=Qu=wa=Vn=Ze=0,jt=ui=null,Xu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var u=31-Nt(s),o=1<<u;t|=e[u],s&=~o}return Tn=t,Xi(),n}function uh(e,t){he=null,A.H=ei,t===Ia||t===tr?(t=xd(),Re=3):t===tu?(t=xd(),Re=4):Re=t===Nu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,be===null&&(Ze=1,mr(e,Vt(t,e.current)))}function oh(){var e=Dt.current;return e===null?!0:(we&4194048)===we?Xt===null:(we&62914560)===we||(we&536870912)!==0?e===Xt:!1}function ch(){var e=A.H;return A.H=ei,e===null?ei:e}function dh(){var e=A.A;return A.A=wy,e}function Or(){Ze=4,Gn||(we&4194048)!==we&&Dt.current!==null||(ss=!0),(Vn&134217727)===0&&(wa&134217727)===0||qe===null||Qn(qe,we,zt,!1)}function Wu(e,t,n){var s=Ae;Ae|=2;var u=ch(),o=dh();(qe!==e||we!==t)&&(Er=null,ls(e,t)),t=!1;var h=Ze;e:do try{if(Re!==0&&be!==null){var v=be,S=kt;switch(Re){case 8:Pu(),h=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(t=!0);var C=Re;if(Re=0,kt=null,us(e,v,S,C),n&&ss){h=0;break e}break;default:C=Re,Re=0,kt=null,us(e,v,S,C)}}Ty(),h=Ze;break}catch(B){uh(e,B)}while(!0);return t&&e.shellSuspendCounter++,gn=fa=null,Ae=s,A.H=u,A.A=o,be===null&&(qe=null,we=0,Xi()),h}function Ty(){for(;be!==null;)fh(be)}function Ey(e,t){var n=Ae;Ae|=2;var s=ch(),u=dh();qe!==e||we!==t?(Er=null,Tr=Le()+500,ls(e,t)):ss=Ns(e,t);e:do try{if(Re!==0&&be!==null){t=be;var o=kt;t:switch(Re){case 1:Re=0,kt=null,us(e,t,o,1);break;case 2:case 9:if(wd(o)){Re=0,kt=null,hh(t);break}t=function(){Re!==2&&Re!==9||qe!==e||(Re=7),ln(e)},o.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:wd(o)?(Re=0,kt=null,hh(t)):(Re=0,kt=null,us(e,t,o,7));break;case 5:var h=null;switch(be.tag){case 26:h=be.memoizedState;case 5:case 27:var v=be;if(h?Wh(h):v.stateNode.complete){Re=0,kt=null;var S=v.sibling;if(S!==null)be=S;else{var C=v.return;C!==null?(be=C,Ar(C)):be=null}break t}}Re=0,kt=null,us(e,t,o,5);break;case 6:Re=0,kt=null,us(e,t,o,6);break;case 8:Pu(),Ze=6;break e;default:throw Error(r(462))}}jy();break}catch(B){uh(e,B)}while(!0);return gn=fa=null,A.H=s,A.A=u,Ae=n,be!==null?0:(qe=null,we=0,Xi(),Ze)}function jy(){for(;be!==null&&!pe();)fh(be)}function fh(e){var t=Mf(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,t===null?Ar(e):be=t}function hh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Rf(n,t,t.pendingProps,t.type,void 0,we);break;case 11:t=Rf(n,t,t.pendingProps,t.type.render,t.ref,we);break;case 5:hu(t);default:qf(n,t),t=be=cd(t,Tn),t=Mf(n,t,Tn)}e.memoizedProps=e.pendingProps,t===null?Ar(e):be=t}function us(e,t,n,s){gn=fa=null,hu(t),Pa=null,Qs=0;var u=t.return;try{if(gy(e,u,t,n,we)){Ze=1,mr(e,Vt(n,e.current)),be=null;return}}catch(o){if(u!==null)throw be=u,o;Ze=1,mr(e,Vt(n,e.current)),be=null;return}t.flags&32768?(xe||s===1?e=!0:ss||(we&536870912)!==0?e=!1:(Gn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Dt.current,s!==null&&s.tag===13&&(s.flags|=16384))),gh(t,e)):Ar(t)}function Ar(e){var t=e;do{if((t.flags&32768)!==0){gh(t,Gn);return}e=t.return;var n=vy(t.alternate,t,Tn);if(n!==null){be=n;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Ze===0&&(Ze=5)}function gh(e,t){do{var n=py(e.alternate,e);if(n!==null){n.flags&=32767,be=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=n}while(e!==null);Ze=6,be=null}function mh(e,t,n,s,u,o,h,v,S){e.cancelPendingCommit=null;do Nr();while(it!==0);if((Ae&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,o|=Hl,i0(e,n,o,h,v,S),e===qe&&(be=qe=null,we=0),rs=t,Kn=e,En=n,Ju=o,Zu=u,sh=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ry(Ci,function(){return _h(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=A.T,A.T=null,u=$.p,$.p=2,h=Ae,Ae|=4;try{by(e,t,n)}finally{Ae=h,$.p=u,A.T=s}}it=1,yh(),vh(),ph()}}function yh(){if(it===1){it=0;var e=Kn,t=rs,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=A.T,A.T=null;var s=$.p;$.p=2;var u=Ae;Ae|=4;try{If(t,e);var o=co,h=td(e.containerInfo),v=o.focusedElem,S=o.selectionRange;if(h!==v&&v&&v.ownerDocument&&ed(v.ownerDocument.documentElement,v)){if(S!==null&&zl(v)){var C=S.start,B=S.end;if(B===void 0&&(B=C),"selectionStart"in v)v.selectionStart=C,v.selectionEnd=Math.min(B,v.value.length);else{var H=v.ownerDocument||document,U=H&&H.defaultView||window;if(U.getSelection){var k=U.getSelection(),P=v.textContent.length,le=Math.min(S.start,P),ze=S.end===void 0?le:Math.min(S.end,P);!k.extend&&le>ze&&(h=ze,ze=le,le=h);var O=Fc(v,le),j=Fc(v,ze);if(O&&j&&(k.rangeCount!==1||k.anchorNode!==O.node||k.anchorOffset!==O.offset||k.focusNode!==j.node||k.focusOffset!==j.offset)){var R=H.createRange();R.setStart(O.node,O.offset),k.removeAllRanges(),le>ze?(k.addRange(R),k.extend(j.node,j.offset)):(R.setEnd(j.node,j.offset),k.addRange(R))}}}}for(H=[],k=v;k=k.parentNode;)k.nodeType===1&&H.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<H.length;v++){var L=H[v];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}$r=!!oo,co=oo=null}finally{Ae=u,$.p=s,A.T=n}}e.current=t,it=2}}function vh(){if(it===2){it=0;var e=Kn,t=rs,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=A.T,A.T=null;var s=$.p;$.p=2;var u=Ae;Ae|=4;try{Kf(e,t.alternate,t)}finally{Ae=u,$.p=s,A.T=n}}it=3}}function ph(){if(it===4||it===3){it=0,bt();var e=Kn,t=rs,n=En,s=sh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,rs=Kn=null,bh(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Yn=null),yl(n),t=t.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(As,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=A.T,u=$.p,$.p=2,A.T=null;try{for(var o=e.onRecoverableError,h=0;h<s.length;h++){var v=s[h];o(v.value,{componentStack:v.stack})}}finally{A.T=t,$.p=u}}(En&3)!==0&&Nr(),ln(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Iu?oi++:(oi=0,Iu=e):oi=0,ci(0)}}function bh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ys(t)))}function Nr(){return yh(),vh(),ph(),_h()}function _h(){if(it!==5)return!1;var e=Kn,t=Ju;Ju=0;var n=yl(En),s=A.T,u=$.p;try{$.p=32>n?32:n,A.T=null,n=Zu,Zu=null;var o=Kn,h=En;if(it=0,rs=Kn=null,En=0,(Ae&6)!==0)throw Error(r(331));var v=Ae;if(Ae|=4,th(o.current),Wf(o,o.current,h,n),Ae=v,ci(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(As,o)}catch{}return!0}finally{$.p=u,A.T=s,bh(e,t)}}function wh(e,t,n){t=Vt(n,t),t=Au(e.stateNode,t,2),e=qn(e,t,2),e!==null&&(Rs(e,2),ln(e))}function Ce(e,t,n){if(e.tag===3)wh(e,e,n);else for(;t!==null;){if(t.tag===3){wh(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Yn===null||!Yn.has(s))){e=Vt(n,e),n=Sf(2),s=qn(t,n,2),s!==null&&(xf(n,s,t,e),Rs(s,2),ln(s));break}}t=t.return}}function Fu(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Sy;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(n)||(Ku=!0,u.add(n),e=Oy.bind(null,e,t,n),t.then(e,e))}function Oy(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,qe===e&&(we&n)===n&&(Ze===4||Ze===3&&(we&62914560)===we&&300>Le()-xr?(Ae&2)===0&&ls(e,0):Qu|=n,is===we&&(is=0)),ln(e)}function Sh(e,t){t===0&&(t=mc()),e=oa(e,t),e!==null&&(Rs(e,t),ln(e))}function Ay(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Sh(e,n)}function Ny(e,t){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),Sh(e,n)}function Ry(e,t){return Ye(e,t)}var Rr=null,os=null,eo=!1,Cr=!1,to=!1,Xn=0;function ln(e){e!==os&&e.next===null&&(os===null?Rr=os=e:os=os.next=e),Cr=!0,eo||(eo=!0,Dy())}function ci(e,t){if(!to&&Cr){to=!0;do for(var n=!1,s=Rr;s!==null;){if(e!==0){var u=s.pendingLanes;if(u===0)var o=0;else{var h=s.suspendedLanes,v=s.pingedLanes;o=(1<<31-Nt(42|e)+1)-1,o&=u&~(h&~v),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,jh(s,o))}else o=we,o=zi(s,s===qe?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(o&3)===0||Ns(s,o)||(n=!0,jh(s,o));s=s.next}while(n);to=!1}}function Cy(){xh()}function xh(){Cr=eo=!1;var e=0;Xn!==0&&Gy()&&(e=Xn);for(var t=Le(),n=null,s=Rr;s!==null;){var u=s.next,o=Th(s,t);o===0?(s.next=null,n===null?Rr=u:n.next=u,u===null&&(os=n)):(n=s,(e!==0||(o&3)!==0)&&(Cr=!0)),s=u}it!==0&&it!==5||ci(e),Xn!==0&&(Xn=0)}function Th(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var h=31-Nt(o),v=1<<h,S=u[h];S===-1?((v&n)===0||(v&s)!==0)&&(u[h]=s0(v,t)):S<=t&&(e.expiredLanes|=v),o&=~v}if(t=qe,n=we,n=zi(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ge(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ns(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&ge(s),yl(n)){case 2:case 8:n=hc;break;case 32:n=Ci;break;case 268435456:n=gc;break;default:n=Ci}return s=Eh.bind(null,e),n=Ye(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&ge(s),e.callbackPriority=2,e.callbackNode=null,2}function Eh(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Nr()&&e.callbackNode!==n)return null;var s=we;return s=zi(e,e===qe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(rh(e,s,t),Th(e,Le()),e.callbackNode!=null&&e.callbackNode===n?Eh.bind(null,e):null)}function jh(e,t){if(Nr())return null;rh(e,t,!0)}function Dy(){Yy(function(){(Ae&6)!==0?Ye(ct,Cy):xh()})}function no(){if(Xn===0){var e=Ja;e===0&&(e=Di,Di<<=1,(Di&261888)===0&&(Di=256)),Xn=e}return Xn}function Oh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Li(""+e)}function Ah(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Uy(e,t,n,s,u){if(t==="submit"&&n&&n.stateNode===u){var o=Oh((u[wt]||null).action),h=s.submitter;h&&(t=(t=h[wt]||null)?Oh(t.formAction):h.getAttribute("formAction"),t!==null&&(o=t,h=null));var v=new Vi("action","action",null,s,u);e.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Xn!==0){var S=h?Ah(u,h):new FormData(u);Su(n,{pending:!0,data:S,method:u.method,action:o},null,S)}}else typeof o=="function"&&(v.preventDefault(),S=h?Ah(u,h):new FormData(u),Su(n,{pending:!0,data:S,method:u.method,action:o},o,S))},currentTarget:u}]})}}for(var ao=0;ao<Ll.length;ao++){var so=Ll[ao],ky=so.toLowerCase(),zy=so[0].toUpperCase()+so.slice(1);Pt(ky,"on"+zy)}Pt(sd,"onAnimationEnd"),Pt(id,"onAnimationIteration"),Pt(rd,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(P0,"onTransitionRun"),Pt(W0,"onTransitionStart"),Pt(F0,"onTransitionCancel"),Pt(ld,"onTransitionEnd"),ka("onMouseEnter",["mouseout","mouseover"]),ka("onMouseLeave",["mouseout","mouseover"]),ka("onPointerEnter",["pointerout","pointerover"]),ka("onPointerLeave",["pointerout","pointerover"]),ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),My=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(di));function Nh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],u=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var h=s.length-1;0<=h;h--){var v=s[h],S=v.instance,C=v.currentTarget;if(v=v.listener,S!==o&&u.isPropagationStopped())break e;o=v,u.currentTarget=C;try{o(u)}catch(B){Qi(B)}u.currentTarget=null,o=S}else for(h=0;h<s.length;h++){if(v=s[h],S=v.instance,C=v.currentTarget,v=v.listener,S!==o&&u.isPropagationStopped())break e;o=v,u.currentTarget=C;try{o(u)}catch(B){Qi(B)}u.currentTarget=null,o=S}}}}function _e(e,t){var n=t[vl];n===void 0&&(n=t[vl]=new Set);var s=e+"__bubble";n.has(s)||(Rh(t,e,2,!1),n.add(s))}function io(e,t,n){var s=0;t&&(s|=4),Rh(n,e,s,t)}var Dr="_reactListening"+Math.random().toString(36).slice(2);function ro(e){if(!e[Dr]){e[Dr]=!0,Sc.forEach(function(n){n!=="selectionchange"&&(My.has(n)||io(n,!1,e),io(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dr]||(t[Dr]=!0,io("selectionchange",!1,t))}}function Rh(e,t,n,s){switch(ig(t)){case 2:var u=cv;break;case 8:u=dv;break;default:u=So}n=u.bind(null,t,n,e),u=void 0,!jl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function lo(e,t,n,s,u){var o=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var v=s.stateNode.containerInfo;if(v===u)break;if(h===4)for(h=s.return;h!==null;){var S=h.tag;if((S===3||S===4)&&h.stateNode.containerInfo===u)return;h=h.return}for(;v!==null;){if(h=Ca(v),h===null)return;if(S=h.tag,S===5||S===6||S===26||S===27){s=o=h;continue e}v=v.parentNode}}s=s.return}kc(function(){var C=o,B=Tl(n),H=[];e:{var U=ud.get(e);if(U!==void 0){var k=Vi,P=e;switch(e){case"keypress":if($i(n)===0)break e;case"keydown":case"keyup":k=N0;break;case"focusin":P="focus",k=Rl;break;case"focusout":P="blur",k=Rl;break;case"beforeblur":case"afterblur":k=Rl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=v0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=D0;break;case sd:case id:case rd:k=_0;break;case ld:k=k0;break;case"scroll":case"scrollend":k=m0;break;case"wheel":k=M0;break;case"copy":case"cut":case"paste":k=S0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Lc;break;case"toggle":case"beforetoggle":k=q0}var le=(t&4)!==0,ze=!le&&(e==="scroll"||e==="scrollend"),O=le?U!==null?U+"Capture":null:U;le=[];for(var j=C,R;j!==null;){var L=j;if(R=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||R===null||O===null||(L=Us(j,O),L!=null&&le.push(fi(j,L,R))),ze)break;j=j.return}0<le.length&&(U=new k(U,P,null,n,B),H.push({event:U,listeners:le}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",U&&n!==xl&&(P=n.relatedTarget||n.fromElement)&&(Ca(P)||P[Ra]))break e;if((k||U)&&(U=B.window===B?B:(U=B.ownerDocument)?U.defaultView||U.parentWindow:window,k?(P=n.relatedTarget||n.toElement,k=C,P=P?Ca(P):null,P!==null&&(ze=d(P),le=P.tag,P!==ze||le!==5&&le!==27&&le!==6)&&(P=null)):(k=null,P=C),k!==P)){if(le=Bc,L="onMouseLeave",O="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(le=Lc,L="onPointerLeave",O="onPointerEnter",j="pointer"),ze=k==null?U:Ds(k),R=P==null?U:Ds(P),U=new le(L,j+"leave",k,n,B),U.target=ze,U.relatedTarget=R,L=null,Ca(B)===C&&(le=new le(O,j+"enter",P,n,B),le.target=R,le.relatedTarget=ze,L=le),ze=L,k&&P)t:{for(le=By,O=k,j=P,R=0,L=O;L;L=le(L))R++;L=0;for(var se=j;se;se=le(se))L++;for(;0<R-L;)O=le(O),R--;for(;0<L-R;)j=le(j),L--;for(;R--;){if(O===j||j!==null&&O===j.alternate){le=O;break t}O=le(O),j=le(j)}le=null}else le=null;k!==null&&Ch(H,U,k,le,!1),P!==null&&ze!==null&&Ch(H,ze,P,le,!0)}}e:{if(U=C?Ds(C):window,k=U.nodeName&&U.nodeName.toLowerCase(),k==="select"||k==="input"&&U.type==="file")var Ee=Xc;else if(Kc(U))if(Jc)Ee=J0;else{Ee=Q0;var ee=K0}else k=U.nodeName,!k||k.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?C&&Sl(C.elementType)&&(Ee=Xc):Ee=X0;if(Ee&&(Ee=Ee(e,C))){Qc(H,Ee,n,B);break e}ee&&ee(e,U,C),e==="focusout"&&C&&U.type==="number"&&C.memoizedProps.value!=null&&wl(U,"number",U.value)}switch(ee=C?Ds(C):window,e){case"focusin":(Kc(ee)||ee.contentEditable==="true")&&(Ha=ee,Ml=C,$s=null);break;case"focusout":$s=Ml=Ha=null;break;case"mousedown":Bl=!0;break;case"contextmenu":case"mouseup":case"dragend":Bl=!1,nd(H,n,B);break;case"selectionchange":if(I0)break;case"keydown":case"keyup":nd(H,n,B)}var me;if(Dl)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else La?Vc(e,n)&&(Se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Se="onCompositionStart");Se&&(Hc&&n.locale!=="ko"&&(La||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&La&&(me=zc()):(Cn=B,Ol="value"in Cn?Cn.value:Cn.textContent,La=!0)),ee=Ur(C,Se),0<ee.length&&(Se=new qc(Se,e,null,n,B),H.push({event:Se,listeners:ee}),me?Se.data=me:(me=Yc(n),me!==null&&(Se.data=me)))),(me=H0?$0(e,n):G0(e,n))&&(Se=Ur(C,"onBeforeInput"),0<Se.length&&(ee=new qc("onBeforeInput","beforeinput",null,n,B),H.push({event:ee,listeners:Se}),ee.data=me)),Uy(H,e,C,n,B)}Nh(H,t)})}function fi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",s=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=Us(e,n),u!=null&&s.unshift(fi(e,u,o)),u=Us(e,t),u!=null&&s.push(fi(e,u,o))),e.tag===3)return s;e=e.return}return[]}function By(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ch(e,t,n,s,u){for(var o=t._reactName,h=[];n!==null&&n!==s;){var v=n,S=v.alternate,C=v.stateNode;if(v=v.tag,S!==null&&S===s)break;v!==5&&v!==26&&v!==27||C===null||(S=C,u?(C=Us(n,o),C!=null&&h.unshift(fi(n,C,S))):u||(C=Us(n,o),C!=null&&h.push(fi(n,C,S)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var qy=/\r\n?/g,Ly=/\u0000|\uFFFD/g;function Dh(e){return(typeof e=="string"?e:""+e).replace(qy,`
`).replace(Ly,"")}function Uh(e,t){return t=Dh(t),Dh(e)===t}function ke(e,t,n,s,u,o){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ma(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ma(e,""+s);break;case"className":Bi(e,"class",s);break;case"tabIndex":Bi(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Bi(e,n,s);break;case"style":Dc(e,s,o);break;case"data":if(t!=="object"){Bi(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Li(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&ke(e,t,"name",u.name,u,null),ke(e,t,"formEncType",u.formEncType,u,null),ke(e,t,"formMethod",u.formMethod,u,null),ke(e,t,"formTarget",u.formTarget,u,null)):(ke(e,t,"encType",u.encType,u,null),ke(e,t,"method",u.method,u,null),ke(e,t,"target",u.target,u,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Li(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=cn);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(n=s.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=Li(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Mi(e,"popover",s);break;case"xlinkActuate":on(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":on(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":on(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":on(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":on(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":on(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":on(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":on(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":on(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Mi(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=h0.get(n)||n,Mi(e,n,s))}}function uo(e,t,n,s,u,o){switch(n){case"style":Dc(e,s,o);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(n=s.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof s=="string"?Ma(e,s):(typeof s=="number"||typeof s=="bigint")&&Ma(e,""+s);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"onClick":s!=null&&(e.onclick=cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),o=e[wt]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof s=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,u);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):Mi(e,n,s)}}}function mt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var s=!1,u=!1,o;for(o in n)if(n.hasOwnProperty(o)){var h=n[o];if(h!=null)switch(o){case"src":s=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ke(e,t,o,h,n,null)}}u&&ke(e,t,"srcSet",n.srcSet,n,null),s&&ke(e,t,"src",n.src,n,null);return;case"input":_e("invalid",e);var v=o=h=u=null,S=null,C=null;for(s in n)if(n.hasOwnProperty(s)){var B=n[s];if(B!=null)switch(s){case"name":u=B;break;case"type":h=B;break;case"checked":S=B;break;case"defaultChecked":C=B;break;case"value":o=B;break;case"defaultValue":v=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,t));break;default:ke(e,t,s,B,n,null)}}Ac(e,o,v,S,C,h,u,!1);return;case"select":_e("invalid",e),s=h=o=null;for(u in n)if(n.hasOwnProperty(u)&&(v=n[u],v!=null))switch(u){case"value":o=v;break;case"defaultValue":h=v;break;case"multiple":s=v;default:ke(e,t,u,v,n,null)}t=o,n=h,e.multiple=!!s,t!=null?za(e,!!s,t,!1):n!=null&&za(e,!!s,n,!0);return;case"textarea":_e("invalid",e),o=u=s=null;for(h in n)if(n.hasOwnProperty(h)&&(v=n[h],v!=null))switch(h){case"value":s=v;break;case"defaultValue":u=v;break;case"children":o=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:ke(e,t,h,v,n,null)}Rc(e,s,u,o);return;case"option":for(S in n)if(n.hasOwnProperty(S)&&(s=n[S],s!=null))switch(S){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ke(e,t,S,s,n,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(s=0;s<di.length;s++)_e(di[s],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in n)if(n.hasOwnProperty(C)&&(s=n[C],s!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ke(e,t,C,s,n,null)}return;default:if(Sl(t)){for(B in n)n.hasOwnProperty(B)&&(s=n[B],s!==void 0&&uo(e,t,B,s,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(s=n[v],s!=null&&ke(e,t,v,s,n,null))}function Hy(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,h=null,v=null,S=null,C=null,B=null;for(k in n){var H=n[k];if(n.hasOwnProperty(k)&&H!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":S=H;default:s.hasOwnProperty(k)||ke(e,t,k,null,s,H)}}for(var U in s){var k=s[U];if(H=n[U],s.hasOwnProperty(U)&&(k!=null||H!=null))switch(U){case"type":o=k;break;case"name":u=k;break;case"checked":C=k;break;case"defaultChecked":B=k;break;case"value":h=k;break;case"defaultValue":v=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,t));break;default:k!==H&&ke(e,t,U,k,s,H)}}_l(e,h,v,S,C,B,o,u);return;case"select":k=h=v=U=null;for(o in n)if(S=n[o],n.hasOwnProperty(o)&&S!=null)switch(o){case"value":break;case"multiple":k=S;default:s.hasOwnProperty(o)||ke(e,t,o,null,s,S)}for(u in s)if(o=s[u],S=n[u],s.hasOwnProperty(u)&&(o!=null||S!=null))switch(u){case"value":U=o;break;case"defaultValue":v=o;break;case"multiple":h=o;default:o!==S&&ke(e,t,u,o,s,S)}t=v,n=h,s=k,U!=null?za(e,!!n,U,!1):!!s!=!!n&&(t!=null?za(e,!!n,t,!0):za(e,!!n,n?[]:"",!1));return;case"textarea":k=U=null;for(v in n)if(u=n[v],n.hasOwnProperty(v)&&u!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:ke(e,t,v,null,s,u)}for(h in s)if(u=s[h],o=n[h],s.hasOwnProperty(h)&&(u!=null||o!=null))switch(h){case"value":U=u;break;case"defaultValue":k=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==o&&ke(e,t,h,u,s,o)}Nc(e,U,k);return;case"option":for(var P in n)if(U=n[P],n.hasOwnProperty(P)&&U!=null&&!s.hasOwnProperty(P))switch(P){case"selected":e.selected=!1;break;default:ke(e,t,P,null,s,U)}for(S in s)if(U=s[S],k=n[S],s.hasOwnProperty(S)&&U!==k&&(U!=null||k!=null))switch(S){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:ke(e,t,S,U,s,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in n)U=n[le],n.hasOwnProperty(le)&&U!=null&&!s.hasOwnProperty(le)&&ke(e,t,le,null,s,U);for(C in s)if(U=s[C],k=n[C],s.hasOwnProperty(C)&&U!==k&&(U!=null||k!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:ke(e,t,C,U,s,k)}return;default:if(Sl(t)){for(var ze in n)U=n[ze],n.hasOwnProperty(ze)&&U!==void 0&&!s.hasOwnProperty(ze)&&uo(e,t,ze,void 0,s,U);for(B in s)U=s[B],k=n[B],!s.hasOwnProperty(B)||U===k||U===void 0&&k===void 0||uo(e,t,B,U,s,k);return}}for(var O in n)U=n[O],n.hasOwnProperty(O)&&U!=null&&!s.hasOwnProperty(O)&&ke(e,t,O,null,s,U);for(H in s)U=s[H],k=n[H],!s.hasOwnProperty(H)||U===k||U==null&&k==null||ke(e,t,H,U,s,k)}function kh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $y(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var u=n[s],o=u.transferSize,h=u.initiatorType,v=u.duration;if(o&&v&&kh(h)){for(h=0,v=u.responseEnd,s+=1;s<n.length;s++){var S=n[s],C=S.startTime;if(C>v)break;var B=S.transferSize,H=S.initiatorType;B&&kh(H)&&(S=S.responseEnd,h+=B*(S<v?1:(v-C)/(S-C)))}if(--s,t+=8*(o+h)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var oo=null,co=null;function kr(e){return e.nodeType===9?e:e.ownerDocument}function zh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function fo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ho=null;function Gy(){var e=window.event;return e&&e.type==="popstate"?e===ho?!1:(ho=e,!0):(ho=null,!1)}var Bh=typeof setTimeout=="function"?setTimeout:void 0,Vy=typeof clearTimeout=="function"?clearTimeout:void 0,qh=typeof Promise=="function"?Promise:void 0,Yy=typeof queueMicrotask=="function"?queueMicrotask:typeof qh<"u"?function(e){return qh.resolve(null).then(e).catch(Ky)}:Bh;function Ky(e){setTimeout(function(){throw e})}function Jn(e){return e==="head"}function Lh(e,t){var n=t,s=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(u),hs(t);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")hi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,hi(n);for(var o=n.firstChild;o;){var h=o.nextSibling,v=o.nodeName;o[Cs]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=h}}else n==="body"&&hi(e.ownerDocument.body);n=u}while(n);hs(t)}function Hh(e,t){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function go(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":go(n),pl(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Qy(e,t,n,s){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Cs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function Xy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Jt(e.nextSibling),e===null))return null;return e}function $h(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Jt(e.nextSibling),e===null))return null;return e}function mo(e){return e.data==="$?"||e.data==="$~"}function yo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Jy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var vo=null;function Gh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Jt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Vh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Yh(e,t,n){switch(t=kr(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function hi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);pl(e)}var Zt=new Map,Kh=new Set;function zr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var jn=$.d;$.d={f:Zy,r:Iy,D:Py,C:Wy,L:Fy,m:ev,X:nv,S:tv,M:av};function Zy(){var e=jn.f(),t=jr();return e||t}function Iy(e){var t=Da(e);t!==null&&t.tag===5&&t.type==="form"?uf(t):jn.r(e)}var cs=typeof document>"u"?null:document;function Qh(e,t,n){var s=cs;if(s&&typeof t=="string"&&t){var u=$t(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),Kh.has(u)||(Kh.add(u),e={rel:e,crossOrigin:n,href:t},s.querySelector(u)===null&&(t=s.createElement("link"),mt(t,"link",e),ut(t),s.head.appendChild(t)))}}function Py(e){jn.D(e),Qh("dns-prefetch",e,null)}function Wy(e,t){jn.C(e,t),Qh("preconnect",e,t)}function Fy(e,t,n){jn.L(e,t,n);var s=cs;if(s&&e&&t){var u='link[rel="preload"][as="'+$t(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+$t(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+$t(n.imageSizes)+'"]')):u+='[href="'+$t(e)+'"]';var o=u;switch(t){case"style":o=ds(e);break;case"script":o=fs(e)}Zt.has(o)||(e=T({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Zt.set(o,e),s.querySelector(u)!==null||t==="style"&&s.querySelector(gi(o))||t==="script"&&s.querySelector(mi(o))||(t=s.createElement("link"),mt(t,"link",e),ut(t),s.head.appendChild(t)))}}function ev(e,t){jn.m(e,t);var n=cs;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+$t(s)+'"][href="'+$t(e)+'"]',o=u;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=fs(e)}if(!Zt.has(o)&&(e=T({rel:"modulepreload",href:e},t),Zt.set(o,e),n.querySelector(u)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(mi(o)))return}s=n.createElement("link"),mt(s,"link",e),ut(s),n.head.appendChild(s)}}}function tv(e,t,n){jn.S(e,t,n);var s=cs;if(s&&e){var u=Ua(s).hoistableStyles,o=ds(e);t=t||"default";var h=u.get(o);if(!h){var v={loading:0,preload:null};if(h=s.querySelector(gi(o)))v.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Zt.get(o))&&po(e,n);var S=h=s.createElement("link");ut(S),mt(S,"link",e),S._p=new Promise(function(C,B){S.onload=C,S.onerror=B}),S.addEventListener("load",function(){v.loading|=1}),S.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Mr(h,t,s)}h={type:"stylesheet",instance:h,count:1,state:v},u.set(o,h)}}}function nv(e,t){jn.X(e,t);var n=cs;if(n&&e){var s=Ua(n).hoistableScripts,u=fs(e),o=s.get(u);o||(o=n.querySelector(mi(u)),o||(e=T({src:e,async:!0},t),(t=Zt.get(u))&&bo(e,t),o=n.createElement("script"),ut(o),mt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},s.set(u,o))}}function av(e,t){jn.M(e,t);var n=cs;if(n&&e){var s=Ua(n).hoistableScripts,u=fs(e),o=s.get(u);o||(o=n.querySelector(mi(u)),o||(e=T({src:e,async:!0,type:"module"},t),(t=Zt.get(u))&&bo(e,t),o=n.createElement("script"),ut(o),mt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},s.set(u,o))}}function Xh(e,t,n,s){var u=(u=de.current)?zr(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ds(n.href),n=Ua(u).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ds(n.href);var o=Ua(u).hoistableStyles,h=o.get(e);if(h||(u=u.ownerDocument||u,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,h),(o=u.querySelector(gi(e)))&&!o._p&&(h.instance=o,h.state.loading=5),Zt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Zt.set(e,n),o||sv(u,e,n,h.state))),t&&s===null)throw Error(r(528,""));return h}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fs(n),n=Ua(u).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ds(e){return'href="'+$t(e)+'"'}function gi(e){return'link[rel="stylesheet"]['+e+"]"}function Jh(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function sv(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),mt(t,"link",n),ut(t),e.head.appendChild(t))}function fs(e){return'[src="'+$t(e)+'"]'}function mi(e){return"script[async]"+e}function Zh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+$t(n.href)+'"]');if(s)return t.instance=s,ut(s),s;var u=T({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ut(s),mt(s,"style",u),Mr(s,n.precedence,e),t.instance=s;case"stylesheet":u=ds(n.href);var o=e.querySelector(gi(u));if(o)return t.state.loading|=4,t.instance=o,ut(o),o;s=Jh(n),(u=Zt.get(u))&&po(s,u),o=(e.ownerDocument||e).createElement("link"),ut(o);var h=o;return h._p=new Promise(function(v,S){h.onload=v,h.onerror=S}),mt(o,"link",s),t.state.loading|=4,Mr(o,n.precedence,e),t.instance=o;case"script":return o=fs(n.src),(u=e.querySelector(mi(o)))?(t.instance=u,ut(u),u):(s=n,(u=Zt.get(o))&&(s=T({},n),bo(s,u)),e=e.ownerDocument||e,u=e.createElement("script"),ut(u),mt(u,"link",s),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Mr(s,n.precedence,e));return t.instance}function Mr(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=s.length?s[s.length-1]:null,o=u,h=0;h<s.length;h++){var v=s[h];if(v.dataset.precedence===t)o=v;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function po(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function bo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Br=null;function Ih(e,t,n){if(Br===null){var s=new Map,u=Br=new Map;u.set(n,s)}else u=Br,s=u.get(n),s||(s=new Map,u.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var o=n[u];if(!(o[Cs]||o[dt]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var h=o.getAttribute(t)||"";h=e+h;var v=s.get(h);v?v.push(o):s.set(h,[o])}}return s}function Ph(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function iv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Wh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function rv(e,t,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=ds(s.href),o=t.querySelector(gi(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=qr.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,ut(o);return}o=t.ownerDocument||t,s=Jh(s),(u=Zt.get(u))&&po(s,u),o=o.createElement("link"),ut(o);var h=o;h._p=new Promise(function(v,S){h.onload=v,h.onerror=S}),mt(o,"link",s),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=qr.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var _o=0;function lv(e,t){return e.stylesheets&&e.count===0&&Hr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&Hr(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&_o===0&&(_o=62500*$y());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Hr(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>_o?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(u)}}:null}function qr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Lr=null;function Hr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Lr=new Map,t.forEach(uv,e),Lr=null,qr.call(e))}function uv(e,t){if(!(t.state.loading&4)){var n=Lr.get(e);if(n)var s=n.get(null);else{n=new Map,Lr.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var h=u[o];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(n.set(h.dataset.precedence,h),s=h)}s&&n.set(null,s)}u=t.instance,h=u.getAttribute("data-precedence"),o=n.get(h)||s,o===s&&n.set(null,u),n.set(h,u),this.count++,s=qr.bind(this),u.addEventListener("load",s),u.addEventListener("error",s),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var yi={$$typeof:q,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function ov(e,t,n,s,u,o,h,v,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.hiddenUpdates=gl(null),this.identifierPrefix=s,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Fh(e,t,n,s,u,o,h,v,S,C,B,H){return e=new ov(e,t,n,h,S,C,B,H,v),t=1,o===!0&&(t|=24),o=Ct(3,null,null,t),e.current=o,o.stateNode=e,t=Wl(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:s,isDehydrated:n,cache:t},nu(o),e}function eg(e){return e?(e=Va,e):Va}function tg(e,t,n,s,u,o){u=eg(u),s.context===null?s.context=u:s.pendingContext=u,s=Bn(t),s.payload={element:n},o=o===void 0?null:o,o!==null&&(s.callback=o),n=qn(e,s,t),n!==null&&(Ot(n,e,t),Js(n,e,t))}function ng(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wo(e,t){ng(e,t),(e=e.alternate)&&ng(e,t)}function ag(e){if(e.tag===13||e.tag===31){var t=oa(e,67108864);t!==null&&Ot(t,e,67108864),wo(e,67108864)}}function sg(e){if(e.tag===13||e.tag===31){var t=Mt();t=ml(t);var n=oa(e,t);n!==null&&Ot(n,e,t),wo(e,t)}}var $r=!0;function cv(e,t,n,s){var u=A.T;A.T=null;var o=$.p;try{$.p=2,So(e,t,n,s)}finally{$.p=o,A.T=u}}function dv(e,t,n,s){var u=A.T;A.T=null;var o=$.p;try{$.p=8,So(e,t,n,s)}finally{$.p=o,A.T=u}}function So(e,t,n,s){if($r){var u=xo(s);if(u===null)lo(e,t,s,Gr,n),rg(e,s);else if(hv(u,e,t,n,s))s.stopPropagation();else if(rg(e,s),t&4&&-1<fv.indexOf(e)){for(;u!==null;){var o=Da(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var h=sa(o.pendingLanes);if(h!==0){var v=o;for(v.pendingLanes|=2,v.entangledLanes|=2;h;){var S=1<<31-Nt(h);v.entanglements[1]|=S,h&=~S}ln(o),(Ae&6)===0&&(Tr=Le()+500,ci(0))}}break;case 31:case 13:v=oa(o,2),v!==null&&Ot(v,o,2),jr(),wo(o,2)}if(o=xo(s),o===null&&lo(e,t,s,Gr,n),o===u)break;u=o}u!==null&&s.stopPropagation()}else lo(e,t,s,null,n)}}function xo(e){return e=Tl(e),To(e)}var Gr=null;function To(e){if(Gr=null,e=Ca(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Gr=e,null}function ig(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(An()){case ct:return 2;case hc:return 8;case Ci:case Wm:return 32;case gc:return 268435456;default:return 32}default:return 32}}var Eo=!1,Zn=null,In=null,Pn=null,vi=new Map,pi=new Map,Wn=[],fv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rg(e,t){switch(e){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":vi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pi.delete(t.pointerId)}}function bi(e,t,n,s,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:o,targetContainers:[u]},t!==null&&(t=Da(t),t!==null&&ag(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function hv(e,t,n,s,u){switch(t){case"focusin":return Zn=bi(Zn,e,t,n,s,u),!0;case"dragenter":return In=bi(In,e,t,n,s,u),!0;case"mouseover":return Pn=bi(Pn,e,t,n,s,u),!0;case"pointerover":var o=u.pointerId;return vi.set(o,bi(vi.get(o)||null,e,t,n,s,u)),!0;case"gotpointercapture":return o=u.pointerId,pi.set(o,bi(pi.get(o)||null,e,t,n,s,u)),!0}return!1}function lg(e){var t=Ca(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,_c(e.priority,function(){sg(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,_c(e.priority,function(){sg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xo(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);xl=s,n.target.dispatchEvent(s),xl=null}else return t=Da(n),t!==null&&ag(t),e.blockedOn=n,!1;t.shift()}return!0}function ug(e,t,n){Vr(e)&&n.delete(t)}function gv(){Eo=!1,Zn!==null&&Vr(Zn)&&(Zn=null),In!==null&&Vr(In)&&(In=null),Pn!==null&&Vr(Pn)&&(Pn=null),vi.forEach(ug),pi.forEach(ug)}function Yr(e,t){e.blockedOn===t&&(e.blockedOn=null,Eo||(Eo=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,gv)))}var Kr=null;function og(e){Kr!==e&&(Kr=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Kr===e&&(Kr=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],u=e[t+2];if(typeof s!="function"){if(To(s||n)===null)continue;break}var o=Da(n);o!==null&&(e.splice(t,3),t-=3,Su(o,{pending:!0,data:u,method:n.method,action:s},s,u))}}))}function hs(e){function t(S){return Yr(S,e)}Zn!==null&&Yr(Zn,e),In!==null&&Yr(In,e),Pn!==null&&Yr(Pn,e),vi.forEach(t),pi.forEach(t);for(var n=0;n<Wn.length;n++){var s=Wn[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Wn.length&&(n=Wn[0],n.blockedOn===null);)lg(n),n.blockedOn===null&&Wn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var u=n[s],o=n[s+1],h=u[wt]||null;if(typeof o=="function")h||og(n);else if(h){var v=null;if(o&&o.hasAttribute("formAction")){if(u=o,h=o[wt]||null)v=h.formAction;else if(To(u)!==null)continue}else v=h.action;typeof v=="function"?n[s+1]=v:(n.splice(s,3),s-=3),og(n)}}}function cg(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(h){return u=h})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function jo(e){this._internalRoot=e}Qr.prototype.render=jo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,s=Mt();tg(n,s,e,t,null,null)},Qr.prototype.unmount=jo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tg(e.current,2,null,e,null,null),jr(),t[Ra]=null}};function Qr(e){this._internalRoot=e}Qr.prototype.unstable_scheduleHydration=function(e){if(e){var t=bc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wn.length&&t!==0&&t<Wn[n].priority;n++);Wn.splice(n,0,e),n===0&&lg(e)}};var dg=a.version;if(dg!=="19.2.0")throw Error(r(527,dg,"19.2.0"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(t),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var mv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xr.isDisabled&&Xr.supportsFiber)try{As=Xr.inject(mv),At=Xr}catch{}}return wi.createRoot=function(e,t){if(!c(e))throw Error(r(299));var n=!1,s="",u=pf,o=bf,h=_f;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Fh(e,1,!1,null,null,n,s,null,u,o,h,cg),e[Ra]=t.current,ro(e),new jo(t)},wi.hydrateRoot=function(e,t,n){if(!c(e))throw Error(r(299));var s=!1,u="",o=pf,h=bf,v=_f,S=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(S=n.formState)),t=Fh(e,1,!0,t,n??null,s,u,S,o,h,v,cg),t.context=eg(null),n=t.current,s=Mt(),s=ml(s),u=Bn(s),u.callback=null,qn(n,u,s),n=s,t.current.lanes=n,Rs(t,n),ln(t),e[Ra]=t.current,ro(e),new Qr(t)},wi.version="19.2.0",wi}var wg;function Av(){if(wg)return No.exports;wg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),No.exports=Ov(),No.exports}var Nv=Av(),Yo=function(l,a){return Yo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(i[c]=r[c])},Yo(l,a)};function Wg(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");Yo(l,a);function i(){this.constructor=l}l.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}var sl=function(){return sl=Object.assign||function(a){for(var i,r=1,c=arguments.length;r<c;r++){i=arguments[r];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(a[d]=i[d])}return a},sl.apply(this,arguments)};function Es(l,a){var i={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&a.indexOf(r)<0&&(i[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(l);c<r.length;c++)a.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(l,r[c])&&(i[r[c]]=l[r[c]]);return i}function Fg(l,a,i,r){var c=arguments.length,d=c<3?a:r===null?r=Object.getOwnPropertyDescriptor(a,i):r,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(l,a,i,r);else for(var m=l.length-1;m>=0;m--)(f=l[m])&&(d=(c<3?f(d):c>3?f(a,i,d):f(a,i))||d);return c>3&&d&&Object.defineProperty(a,i,d),d}function em(l,a){return function(i,r){a(i,r,l)}}function tm(l,a,i,r,c,d){function f(z){if(z!==void 0&&typeof z!="function")throw new TypeError("Function expected");return z}for(var m=r.kind,g=m==="getter"?"get":m==="setter"?"set":"value",y=!a&&l?r.static?l:l.prototype:null,w=a||(y?Object.getOwnPropertyDescriptor(y,r.name):{}),T,b=!1,x=i.length-1;x>=0;x--){var _={};for(var D in r)_[D]=D==="access"?{}:r[D];for(var D in r.access)_.access[D]=r.access[D];_.addInitializer=function(z){if(b)throw new TypeError("Cannot add initializers after decoration has completed");d.push(f(z||null))};var N=(0,i[x])(m==="accessor"?{get:w.get,set:w.set}:w[g],_);if(m==="accessor"){if(N===void 0)continue;if(N===null||typeof N!="object")throw new TypeError("Object expected");(T=f(N.get))&&(w.get=T),(T=f(N.set))&&(w.set=T),(T=f(N.init))&&c.unshift(T)}else(T=f(N))&&(m==="field"?c.unshift(T):w[g]=T)}y&&Object.defineProperty(y,r.name,w),b=!0}function nm(l,a,i){for(var r=arguments.length>2,c=0;c<a.length;c++)i=r?a[c].call(l,i):a[c].call(l);return r?i:void 0}function am(l){return typeof l=="symbol"?l:"".concat(l)}function sm(l,a,i){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:i?"".concat(i," ",a):a})}function im(l,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,a)}function W(l,a,i,r){function c(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function m(w){try{y(r.next(w))}catch(T){f(T)}}function g(w){try{y(r.throw(w))}catch(T){f(T)}}function y(w){w.done?d(w.value):c(w.value).then(m,g)}y((r=r.apply(l,a||[])).next())})}function rm(l,a){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},r,c,d,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=m(0),f.throw=m(1),f.return=m(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(y){return function(w){return g([y,w])}}function g(y){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(i=0)),i;)try{if(r=1,c&&(d=y[0]&2?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return i.label++,{value:y[1],done:!1};case 5:i.label++,c=y[1],y=[0];continue;case 7:y=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){i=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){i.label=y[1];break}if(y[0]===6&&i.label<d[1]){i.label=d[1],d=y;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(y);break}d[2]&&i.ops.pop(),i.trys.pop();continue}y=a.call(l,i)}catch(w){y=[6,w],c=0}finally{r=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var ol=Object.create?(function(l,a,i,r){r===void 0&&(r=i);var c=Object.getOwnPropertyDescriptor(a,i);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(l,r,c)}):(function(l,a,i,r){r===void 0&&(r=i),l[r]=a[i]});function lm(l,a){for(var i in l)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&ol(a,l,i)}function il(l){var a=typeof Symbol=="function"&&Symbol.iterator,i=a&&l[a],r=0;if(i)return i.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function ic(l,a){var i=typeof Symbol=="function"&&l[Symbol.iterator];if(!i)return l;var r=i.call(l),c,d=[],f;try{for(;(a===void 0||a-- >0)&&!(c=r.next()).done;)d.push(c.value)}catch(m){f={error:m}}finally{try{c&&!c.done&&(i=r.return)&&i.call(r)}finally{if(f)throw f.error}}return d}function um(){for(var l=[],a=0;a<arguments.length;a++)l=l.concat(ic(arguments[a]));return l}function om(){for(var l=0,a=0,i=arguments.length;a<i;a++)l+=arguments[a].length;for(var r=Array(l),c=0,a=0;a<i;a++)for(var d=arguments[a],f=0,m=d.length;f<m;f++,c++)r[c]=d[f];return r}function cm(l,a,i){if(i||arguments.length===2)for(var r=0,c=a.length,d;r<c;r++)(d||!(r in a))&&(d||(d=Array.prototype.slice.call(a,0,r)),d[r]=a[r]);return l.concat(d||Array.prototype.slice.call(a))}function Ts(l){return this instanceof Ts?(this.v=l,this):new Ts(l)}function dm(l,a,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(l,a||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",f),c[Symbol.asyncIterator]=function(){return this},c;function f(x){return function(_){return Promise.resolve(_).then(x,T)}}function m(x,_){r[x]&&(c[x]=function(D){return new Promise(function(N,z){d.push([x,D,N,z])>1||g(x,D)})},_&&(c[x]=_(c[x])))}function g(x,_){try{y(r[x](_))}catch(D){b(d[0][3],D)}}function y(x){x.value instanceof Ts?Promise.resolve(x.value.v).then(w,T):b(d[0][2],x)}function w(x){g("next",x)}function T(x){g("throw",x)}function b(x,_){x(_),d.shift(),d.length&&g(d[0][0],d[0][1])}}function fm(l){var a,i;return a={},r("next"),r("throw",function(c){throw c}),r("return"),a[Symbol.iterator]=function(){return this},a;function r(c,d){a[c]=l[c]?function(f){return(i=!i)?{value:Ts(l[c](f)),done:!1}:d?d(f):f}:d}}function hm(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l[Symbol.asyncIterator],i;return a?a.call(l):(l=typeof il=="function"?il(l):l[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(d){i[d]=l[d]&&function(f){return new Promise(function(m,g){f=l[d](f),c(m,g,f.done,f.value)})}}function c(d,f,m,g){Promise.resolve(g).then(function(y){d({value:y,done:m})},f)}}function gm(l,a){return Object.defineProperty?Object.defineProperty(l,"raw",{value:a}):l.raw=a,l}var Rv=Object.create?(function(l,a){Object.defineProperty(l,"default",{enumerable:!0,value:a})}):function(l,a){l.default=a},Ko=function(l){return Ko=Object.getOwnPropertyNames||function(a){var i=[];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i[i.length]=r);return i},Ko(l)};function mm(l){if(l&&l.__esModule)return l;var a={};if(l!=null)for(var i=Ko(l),r=0;r<i.length;r++)i[r]!=="default"&&ol(a,l,i[r]);return Rv(a,l),a}function ym(l){return l&&l.__esModule?l:{default:l}}function vm(l,a,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?l!==a||!r:!a.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(l):r?r.value:a.get(l)}function pm(l,a,i,r,c){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?l!==a||!c:!a.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?c.call(l,i):c?c.value=i:a.set(l,i),i}function bm(l,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?a===l:l.has(a)}function _m(l,a,i){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var r,c;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=a[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=a[Symbol.dispose],i&&(c=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");c&&(r=function(){try{c.call(this)}catch(d){return Promise.reject(d)}}),l.stack.push({value:a,dispose:r,async:i})}else i&&l.stack.push({async:!0});return a}var Cv=typeof SuppressedError=="function"?SuppressedError:function(l,a,i){var r=new Error(i);return r.name="SuppressedError",r.error=l,r.suppressed=a,r};function wm(l){function a(d){l.error=l.hasError?new Cv(d,l.error,"An error was suppressed during disposal."):d,l.hasError=!0}var i,r=0;function c(){for(;i=l.stack.pop();)try{if(!i.async&&r===1)return r=0,l.stack.push(i),Promise.resolve().then(c);if(i.dispose){var d=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(d).then(c,function(f){return a(f),c()})}else r|=1}catch(f){a(f)}if(r===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return c()}function Sm(l,a){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,r,c,d,f){return r?a?".jsx":".js":c&&(!d||!f)?i:c+d+"."+f.toLowerCase()+"js"}):l}const Dv={__extends:Wg,__assign:sl,__rest:Es,__decorate:Fg,__param:em,__esDecorate:tm,__runInitializers:nm,__propKey:am,__setFunctionName:sm,__metadata:im,__awaiter:W,__generator:rm,__createBinding:ol,__exportStar:lm,__values:il,__read:ic,__spread:um,__spreadArrays:om,__spreadArray:cm,__await:Ts,__asyncGenerator:dm,__asyncDelegator:fm,__asyncValues:hm,__makeTemplateObject:gm,__importStar:mm,__importDefault:ym,__classPrivateFieldGet:vm,__classPrivateFieldSet:pm,__classPrivateFieldIn:bm,__addDisposableResource:_m,__disposeResources:wm,__rewriteRelativeImportExtension:Sm},Uv=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:_m,get __assign(){return sl},__asyncDelegator:fm,__asyncGenerator:dm,__asyncValues:hm,__await:Ts,__awaiter:W,__classPrivateFieldGet:vm,__classPrivateFieldIn:bm,__classPrivateFieldSet:pm,__createBinding:ol,__decorate:Fg,__disposeResources:wm,__esDecorate:tm,__exportStar:lm,__extends:Wg,__generator:rm,__importDefault:ym,__importStar:mm,__makeTemplateObject:gm,__metadata:im,__param:em,__propKey:am,__read:ic,__rest:Es,__rewriteRelativeImportExtension:Sm,__runInitializers:nm,__setFunctionName:sm,__spread:um,__spreadArray:cm,__spreadArrays:om,__values:il,default:Dv},Symbol.toStringTag,{value:"Module"})),kv=l=>l?(...a)=>l(...a):(...a)=>fetch(...a);class rc extends Error{constructor(a,i="FunctionsError",r){super(a),this.name=i,this.context=r}}class zv extends rc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class Sg extends rc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class xg extends rc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Qo;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Qo||(Qo={}));class Mv{constructor(a,{headers:i={},customFetch:r,region:c=Qo.Any}={}){this.url=a,this.headers=i,this.region=c,this.fetch=kv(r)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return W(this,arguments,void 0,function*(i,r={}){var c;let d,f;try{const{headers:m,method:g,body:y,signal:w,timeout:T}=r;let b={},{region:x}=r;x||(x=this.region);const _=new URL(`${this.url}/${i}`);x&&x!=="any"&&(b["x-region"]=x,_.searchParams.set("forceFunctionRegion",x));let D;y&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",D=y):typeof y=="string"?(b["Content-Type"]="text/plain",D=y):typeof FormData<"u"&&y instanceof FormData?D=y:(b["Content-Type"]="application/json",D=JSON.stringify(y)):D=y;let N=w;T&&(f=new AbortController,d=setTimeout(()=>f.abort(),T),w?(N=f.signal,w.addEventListener("abort",()=>f.abort())):N=f.signal);const z=yield this.fetch(_.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),m),body:D,signal:N}).catch(ie=>{throw new zv(ie)}),V=z.headers.get("x-relay-error");if(V&&V==="true")throw new Sg(z);if(!z.ok)throw new xg(z);let q=((c=z.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),G;return q==="application/json"?G=yield z.json():q==="application/octet-stream"||q==="application/pdf"?G=yield z.blob():q==="text/event-stream"?G=z:q==="multipart/form-data"?G=yield z.formData():G=yield z.text(),{data:G,error:null,response:z}}catch(m){return{data:null,error:m,response:m instanceof xg||m instanceof Sg?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var pt={};const js=bv(Uv);var Jr={},Zr={},Ir={},Pr={},Wr={},Fr={},Tg;function xm(){if(Tg)return Fr;Tg=1,Object.defineProperty(Fr,"__esModule",{value:!0});class l extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return Fr.default=l,Fr}var Eg;function Tm(){if(Eg)return Wr;Eg=1,Object.defineProperty(Wr,"__esModule",{value:!0});const a=js.__importDefault(xm());class i{constructor(c){var d,f;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(d=c.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=c.signal,this.isMaybeSingle=(f=c.isMaybeSingle)!==null&&f!==void 0?f:!1,c.fetch?this.fetch=c.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=new Headers(this.headers),this.headers.set(c,d),this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let m=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,w,T,b;let x=null,_=null,D=null,N=g.status,z=g.statusText;if(g.ok){if(this.method!=="HEAD"){const ie=await g.text();ie===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?_=ie:_=JSON.parse(ie))}const q=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),G=(T=g.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");q&&G&&G.length>1&&(D=parseInt(G[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(x={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,D=null,N=406,z="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const q=await g.text();try{x=JSON.parse(q),Array.isArray(x)&&g.status===404&&(_=[],x=null,N=200,z="OK")}catch{g.status===404&&q===""?(N=204,z="No Content"):x={message:q}}if(x&&this.isMaybeSingle&&(!((b=x?.details)===null||b===void 0)&&b.includes("0 rows"))&&(x=null,N=200,z="OK"),x&&this.shouldThrowOnError)throw new a.default(x)}return{error:x,data:_,count:D,status:N,statusText:z}});return this.shouldThrowOnError||(m=m.catch(g=>{var y,w,T,b,x,_;let D="";const N=g?.cause;if(N){const z=(y=N?.message)!==null&&y!==void 0?y:"",V=(w=N?.code)!==null&&w!==void 0?w:"";D=`${(T=g?.name)!==null&&T!==void 0?T:"FetchError"}: ${g?.message}`,D+=`

Caused by: ${(b=N?.name)!==null&&b!==void 0?b:"Error"}: ${z}`,V&&(D+=` (${V})`),N?.stack&&(D+=`
${N.stack}`)}else D=(x=g?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(_=g?.name)!==null&&_!==void 0?_:"FetchError"}: ${g?.message}`,details:D,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(c,d)}returns(){return this}overrideTypes(){return this}}return Wr.default=i,Wr}var jg;function Em(){if(jg)return Pr;jg=1,Object.defineProperty(Pr,"__esModule",{value:!0});const a=js.__importDefault(Tm());class i extends a.default{select(c){let d=!1;const f=(c??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:d=!0,nullsFirst:f,foreignTable:m,referencedTable:g=m}={}){const y=g?`${g}.order`:"order",w=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${w?`${w},`:""}${c}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:f=d}={}){const m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,d,{foreignTable:f,referencedTable:m=f}={}){const g=typeof m>"u"?"offset":`${m}.offset`,y=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${c}`),this.url.searchParams.set(y,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:d=!1,settings:f=!1,buffers:m=!1,wal:g=!1,format:y="text"}={}){var w;const T=[c?"analyze":null,d?"verbose":null,f?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),b=(w=this.headers.get("Accept"))!==null&&w!==void 0?w:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${b}"; options=${T};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return Pr.default=i,Pr}var Og;function lc(){if(Og)return Ir;Og=1,Object.defineProperty(Ir,"__esModule",{value:!0});const a=js.__importDefault(Em()),i=new RegExp("[,()]");class r extends a.default{eq(d,f){return this.url.searchParams.append(d,`eq.${f}`),this}neq(d,f){return this.url.searchParams.append(d,`neq.${f}`),this}gt(d,f){return this.url.searchParams.append(d,`gt.${f}`),this}gte(d,f){return this.url.searchParams.append(d,`gte.${f}`),this}lt(d,f){return this.url.searchParams.append(d,`lt.${f}`),this}lte(d,f){return this.url.searchParams.append(d,`lte.${f}`),this}like(d,f){return this.url.searchParams.append(d,`like.${f}`),this}likeAllOf(d,f){return this.url.searchParams.append(d,`like(all).{${f.join(",")}}`),this}likeAnyOf(d,f){return this.url.searchParams.append(d,`like(any).{${f.join(",")}}`),this}ilike(d,f){return this.url.searchParams.append(d,`ilike.${f}`),this}ilikeAllOf(d,f){return this.url.searchParams.append(d,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(d,f){return this.url.searchParams.append(d,`ilike(any).{${f.join(",")}}`),this}regexMatch(d,f){return this.url.searchParams.append(d,`match.${f}`),this}regexIMatch(d,f){return this.url.searchParams.append(d,`imatch.${f}`),this}is(d,f){return this.url.searchParams.append(d,`is.${f}`),this}isDistinct(d,f){return this.url.searchParams.append(d,`isdistinct.${f}`),this}in(d,f){const m=Array.from(new Set(f)).map(g=>typeof g=="string"&&i.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(d,`in.(${m})`),this}contains(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cs.{${f.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(f)}`),this}containedBy(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cd.{${f.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(f)}`),this}rangeGt(d,f){return this.url.searchParams.append(d,`sr.${f}`),this}rangeGte(d,f){return this.url.searchParams.append(d,`nxl.${f}`),this}rangeLt(d,f){return this.url.searchParams.append(d,`sl.${f}`),this}rangeLte(d,f){return this.url.searchParams.append(d,`nxr.${f}`),this}rangeAdjacent(d,f){return this.url.searchParams.append(d,`adj.${f}`),this}overlaps(d,f){return typeof f=="string"?this.url.searchParams.append(d,`ov.${f}`):this.url.searchParams.append(d,`ov.{${f.join(",")}}`),this}textSearch(d,f,{config:m,type:g}={}){let y="";g==="plain"?y="pl":g==="phrase"?y="ph":g==="websearch"&&(y="w");const w=m===void 0?"":`(${m})`;return this.url.searchParams.append(d,`${y}fts${w}.${f}`),this}match(d){return Object.entries(d).forEach(([f,m])=>{this.url.searchParams.append(f,`eq.${m}`)}),this}not(d,f,m){return this.url.searchParams.append(d,`not.${f}.${m}`),this}or(d,{foreignTable:f,referencedTable:m=f}={}){const g=m?`${m}.or`:"or";return this.url.searchParams.append(g,`(${d})`),this}filter(d,f,m){return this.url.searchParams.append(d,`${f}.${m}`),this}}return Ir.default=r,Ir}var Ag;function jm(){if(Ag)return Zr;Ag=1,Object.defineProperty(Zr,"__esModule",{value:!0});const a=js.__importDefault(lc());class i{constructor(c,{headers:d={},schema:f,fetch:m}){this.url=c,this.headers=new Headers(d),this.schema=f,this.fetch=m}select(c,d){const{head:f=!1,count:m}=d??{},g=f?"HEAD":"GET";let y=!1;const w=(c??"*").split("").map(T=>/\s/.test(T)&&!y?"":(T==='"'&&(y=!y),T)).join("");return this.url.searchParams.set("select",w),m&&this.headers.append("Prefer",`count=${m}`),new a.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:d,defaultToNull:f=!0}={}){var m;const g="POST";if(d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const y=c.reduce((w,T)=>w.concat(Object.keys(T)),[]);if(y.length>0){const w=[...new Set(y)].map(T=>`"${T}"`);this.url.searchParams.set("columns",w.join(","))}}return new a.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(c,{onConflict:d,ignoreDuplicates:f=!1,count:m,defaultToNull:g=!0}={}){var y;const w="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const T=c.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(T.length>0){const b=[...new Set(T)].map(x=>`"${x}"`);this.url.searchParams.set("columns",b.join(","))}}return new a.default({method:w,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(c,{count:d}={}){var f;const m="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:c}={}){var d;const f="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new a.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Zr.default=i,Zr}var Ng;function Bv(){if(Ng)return Jr;Ng=1,Object.defineProperty(Jr,"__esModule",{value:!0});const l=js,a=l.__importDefault(jm()),i=l.__importDefault(lc());class r{constructor(d,{headers:f={},schema:m,fetch:g}={}){this.url=d,this.headers=new Headers(f),this.schemaName=m,this.fetch=g}from(d){if(!d||typeof d!="string"||d.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const f=new URL(`${this.url}/${d}`);return new a.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new r(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:m=!1,get:g=!1,count:y}={}){var w;let T;const b=new URL(`${this.url}/rpc/${d}`);let x;m||g?(T=m?"HEAD":"GET",Object.entries(f).filter(([D,N])=>N!==void 0).map(([D,N])=>[D,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([D,N])=>{b.searchParams.append(D,N)})):(T="POST",x=f);const _=new Headers(this.headers);return y&&_.set("Prefer",`count=${y}`),new i.default({method:T,url:b,headers:_,schema:this.schemaName,body:x,fetch:(w=this.fetch)!==null&&w!==void 0?w:fetch})}}return Jr.default=r,Jr}var Rg;function qv(){if(Rg)return pt;Rg=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.PostgrestError=pt.PostgrestBuilder=pt.PostgrestTransformBuilder=pt.PostgrestFilterBuilder=pt.PostgrestQueryBuilder=pt.PostgrestClient=void 0;const l=js,a=l.__importDefault(Bv());pt.PostgrestClient=a.default;const i=l.__importDefault(jm());pt.PostgrestQueryBuilder=i.default;const r=l.__importDefault(lc());pt.PostgrestFilterBuilder=r.default;const c=l.__importDefault(Em());pt.PostgrestTransformBuilder=c.default;const d=l.__importDefault(Tm());pt.PostgrestBuilder=d.default;const f=l.__importDefault(xm());return pt.PostgrestError=f.default,pt.default={PostgrestClient:a.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:f.default},pt}var Om=qv();const Am=pv(Om),Lv=vv({__proto__:null,default:Am},[Om]),{PostgrestClient:Hv,PostgrestQueryBuilder:__,PostgrestFilterBuilder:w_,PostgrestTransformBuilder:S_,PostgrestBuilder:x_,PostgrestError:T_}=Am||Lv;class $v{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const r=i.node,c=parseInt(r.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let i=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(i+=`

Suggested solution: ${a.workaround}`),new Error(i)}static createWebSocket(a,i){const r=this.getWebSocketConstructor();return new r(a,i)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Gv="2.86.0",Vv=`realtime-js/${Gv}`,Nm="1.0.0",Yv="2.0.0",Cg=Nm,Xo=1e4,Kv=1e3,Qv=100;var Ea;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Ea||(Ea={}));var rt;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(rt||(rt={}));var nn;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(nn||(nn={}));var Jo;(function(l){l.websocket="websocket"})(Jo||(Jo={}));var ja;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(ja||(ja={}));class Xv{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,i){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(a));let r=[a.join_ref,a.ref,a.topic,a.event,a.payload];return i(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(a){var i;return this._isArrayBuffer((i=a.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var i,r;const c=(r=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var i,r;const c=(r=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,i,r){var c,d;const f=a.topic,m=(c=a.ref)!==null&&c!==void 0?c:"",g=(d=a.join_ref)!==null&&d!==void 0?d:"",y=a.payload.event,w=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},T=Object.keys(w).length===0?"":JSON.stringify(w);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(T.length>255)throw new Error(`metadata length ${T.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+f.length+y.length+T.length,x=new ArrayBuffer(this.HEADER_LENGTH+b);let _=new DataView(x),D=0;_.setUint8(D++,this.KINDS.userBroadcastPush),_.setUint8(D++,g.length),_.setUint8(D++,m.length),_.setUint8(D++,f.length),_.setUint8(D++,y.length),_.setUint8(D++,T.length),_.setUint8(D++,i),Array.from(g,z=>_.setUint8(D++,z.charCodeAt(0))),Array.from(m,z=>_.setUint8(D++,z.charCodeAt(0))),Array.from(f,z=>_.setUint8(D++,z.charCodeAt(0))),Array.from(y,z=>_.setUint8(D++,z.charCodeAt(0))),Array.from(T,z=>_.setUint8(D++,z.charCodeAt(0)));var N=new Uint8Array(x.byteLength+r.byteLength);return N.set(new Uint8Array(x),0),N.set(new Uint8Array(r),x.byteLength),N.buffer}decode(a,i){if(this._isArrayBuffer(a)){let r=this._binaryDecode(a);return i(r)}if(typeof a=="string"){const r=JSON.parse(a),[c,d,f,m,g]=r;return i({join_ref:c,ref:d,topic:f,event:m,payload:g})}return i({})}_binaryDecode(a){const i=new DataView(a),r=i.getUint8(0),c=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,i,c)}}_decodeUserBroadcast(a,i,r){const c=i.getUint8(1),d=i.getUint8(2),f=i.getUint8(3),m=i.getUint8(4);let g=this.HEADER_LENGTH+4;const y=r.decode(a.slice(g,g+c));g=g+c;const w=r.decode(a.slice(g,g+d));g=g+d;const T=r.decode(a.slice(g,g+f));g=g+f;const b=a.slice(g,a.byteLength),x=m===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,_={type:this.BROADCAST_EVENT,event:w,payload:x};return f>0&&(_.meta=JSON.parse(T)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(a){var i;return a instanceof ArrayBuffer||((i=a?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(a,i){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([r])=>i.includes(r)))}}class Rm{constructor(a,i){this.callback=a,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(He||(He={}));const Dg=(l,a,i={})=>{var r;const c=(r=i.skipTypes)!==null&&r!==void 0?r:[];return a?Object.keys(a).reduce((d,f)=>(d[f]=Jv(f,l,a,c),d),{}):{}},Jv=(l,a,i,r)=>{const c=a.find(m=>m.name===l),d=c?.type,f=i[l];return d&&!r.includes(d)?Cm(d,f):Zo(f)},Cm=(l,a)=>{if(l.charAt(0)==="_"){const i=l.slice(1,l.length);return Wv(a,i)}switch(l){case He.bool:return Zv(a);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return Iv(a);case He.json:case He.jsonb:return Pv(a);case He.timestamp:return Fv(a);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return Zo(a);default:return Zo(a)}},Zo=l=>l,Zv=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},Iv=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},Pv=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(a){return console.log(`JSON parse error: ${a}`),l}return l},Wv=(l,a)=>{if(typeof l!="string")return l;const i=l.length-1,r=l[i];if(l[0]==="{"&&r==="}"){let d;const f=l.slice(1,i);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(m=>Cm(a,m))}return l},Fv=l=>typeof l=="string"?l.replace(" ","T"):l,Dm=l=>{const a=new URL(l);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Uo{constructor(a,i,r={},c=Xo){this.channel=a,this.event=i,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,i){var r;return this._hasReceived(a)&&i((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:a,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:i}){this.recHooks.filter(r=>r.status===a).forEach(r=>r.callback(i))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Ug;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Ug||(Ug={}));class xi{constructor(a,i){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xi.syncState(this.state,c,d,f),this.pendingDiffs.forEach(g=>{this.state=xi.syncDiff(this.state,g,d,f)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=xi.syncDiff(this.state,c,d,f),m())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,i,r,c){const d=this.cloneDeep(a),f=this.transformState(i),m={},g={};return this.map(d,(y,w)=>{f[y]||(g[y]=w)}),this.map(f,(y,w)=>{const T=d[y];if(T){const b=w.map(N=>N.presence_ref),x=T.map(N=>N.presence_ref),_=w.filter(N=>x.indexOf(N.presence_ref)<0),D=T.filter(N=>b.indexOf(N.presence_ref)<0);_.length>0&&(m[y]=_),D.length>0&&(g[y]=D)}else m[y]=w}),this.syncDiff(d,{joins:m,leaves:g},r,c)}static syncDiff(a,i,r,c){const{joins:d,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(d,(m,g)=>{var y;const w=(y=a[m])!==null&&y!==void 0?y:[];if(a[m]=this.cloneDeep(g),w.length>0){const T=a[m].map(x=>x.presence_ref),b=w.filter(x=>T.indexOf(x.presence_ref)<0);a[m].unshift(...b)}r(m,w,g)}),this.map(f,(m,g)=>{let y=a[m];if(!y)return;const w=g.map(T=>T.presence_ref);y=y.filter(T=>w.indexOf(T.presence_ref)<0),a[m]=y,c(m,y,g),y.length===0&&delete a[m]}),a}static map(a,i){return Object.getOwnPropertyNames(a).map(r=>i(r,a[r]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((i,r)=>{const c=a[r];return"metas"in c?i[r]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[r]=c,i},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kg;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(kg||(kg={}));var Ti;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Ti||(Ti={}));var On;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(On||(On={}));class uc{constructor(a,i={config:{}},r){var c,d;if(this.topic=a,this.params=i,this.socket=r,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Uo(this,nn.join,this.params,this.timeout),this.rejoinTimer=new Rm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nn.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new xi(this),this.broadcastEndpointURL=Dm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,i=this.timeout){var r,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:f,presence:m,private:g}}=this.params,y=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&c!==void 0?c:[],w=!!this.bindings[Ti.PRESENCE]&&this.bindings[Ti.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,T={},b={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:w}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(T.access_token=this.socket.accessTokenValue),this._onError(x=>a?.(On.CHANNEL_ERROR,x)),this._onClose(()=>a?.(On.CLOSED)),this.updateJoinPayload(Object.assign({config:b},T)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:x})=>{var _;if(this.socket.setAuth(),x===void 0){a?.(On.SUBSCRIBED);return}else{const D=this.bindings.postgres_changes,N=(_=D?.length)!==null&&_!==void 0?_:0,z=[];for(let V=0;V<N;V++){const q=D[V],{filter:{event:G,schema:ie,table:ne,filter:Q}}=q,Te=x&&x[V];if(Te&&Te.event===G&&Te.schema===ie&&Te.table===ne&&Te.filter===Q)z.push(Object.assign(Object.assign({},q),{id:Te.id}));else{this.unsubscribe(),this.state=rt.errored,a?.(On.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,a&&a(On.SUBSCRIBED);return}}).receive("error",x=>{this.state=rt.errored,a?.(On.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{a?.(On.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,i={}){return await this.send({type:"presence",event:"track",payload:a},i.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,i,r){return this.state===rt.joined&&a===Ti.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,i,r)}async httpSend(a,i,r={}){var c;const d=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:d,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const y=await m.json();g=y.error||y.message||g}catch{}return Promise.reject(new Error(g))}async send(a,i={}){var r,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=a,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,m,g;const y=this._push(a.type,a,i.timeout||this.timeout);a.type==="broadcast"&&!(!((g=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),y.receive("ok",()=>d("ok")),y.receive("error",()=>d("error")),y.receive("timeout",()=>d("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=rt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new Uo(this,nn.leave,{},a),r.receive("ok",()=>{i(),c("ok")}).receive("timeout",()=>{i(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rt.closed,this.bindings={}}async _fetchWithTimeout(a,i,r){const c=new AbortController,d=setTimeout(()=>c.abort(),r),f=await this.socket.fetch(a,Object.assign(Object.assign({},i),{signal:c.signal}));return clearTimeout(d),f}_push(a,i,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Uo(this,a,i,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Qv){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(a,i,r){return i}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,i,r){var c,d;const f=a.toLocaleLowerCase(),{close:m,error:g,leave:y,join:w}=nn;if(r&&[m,g,y,w].indexOf(f)>=0&&r!==this._joinRef())return;let b=this._onMessage(f,i,r);if(i&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(x=>{var _,D,N;return((_=x.filter)===null||_===void 0?void 0:_.event)==="*"||((N=(D=x.filter)===null||D===void 0?void 0:D.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===f}).map(x=>x.callback(b,r)):(d=this.bindings[f])===null||d===void 0||d.filter(x=>{var _,D,N,z,V,q;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in x){const G=x.id,ie=(_=x.filter)===null||_===void 0?void 0:_.event;return G&&((D=i.ids)===null||D===void 0?void 0:D.includes(G))&&(ie==="*"||ie?.toLocaleLowerCase()===((N=i.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const G=(V=(z=x?.filter)===null||z===void 0?void 0:z.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return G==="*"||G===((q=i?.event)===null||q===void 0?void 0:q.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===f}).map(x=>{if(typeof b=="object"&&"ids"in b){const _=b.data,{schema:D,table:N,commit_timestamp:z,type:V,errors:q}=_;b=Object.assign(Object.assign({},{schema:D,table:N,commit_timestamp:z,eventType:V,new:{},old:{},errors:q}),this._getPayloadRecords(_))}x.callback(b,r)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,i,r){const c=a.toLocaleLowerCase(),d={type:c,filter:i,callback:r};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(a,i){const r=a.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===r&&uc.isEqual(c.filter,i))})),this}static isEqual(a,i){if(Object.keys(a).length!==Object.keys(i).length)return!1;for(const r in a)if(a[r]!==i[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(nn.close,{},a)}_onError(a){this._on(nn.error,{},i=>a(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const i={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(i.new=Dg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(i.old=Dg(a.columns,a.old_record)),i}}const ko=()=>{},el={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ep=[1e3,2e3,5e3,1e4],tp=1e4,np=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ap{constructor(a,i){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xo,this.transport=null,this.heartbeatIntervalMs=el.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ko,this.ref=0,this.reconnectTimer=null,this.vsn=Cg,this.logger=ko,this.conn=null,this.sendBuffer=[],this.serializer=new Xv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((r=i?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${a}/${Jo.websocket}`,this.httpEndpoint=Dm(a),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$v.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const i=a.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const i=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const a=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,i,r){this.logger(a,i,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ea.connecting:return ja.Connecting;case Ea.open:return ja.Open;case Ea.closing:return ja.Closing;default:return ja.Closed}}isConnected(){return this.connectionState()===ja.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,i={config:{}}){const r=`realtime:${a}`,c=this.getChannels().find(d=>d.topic===r);if(c)return c;{const d=new uc(`realtime:${a}`,i,this);return this.channels.push(d),d}}push(a){const{topic:i,event:r,payload:c,ref:d}=a,f=()=>{this.encode(a,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${i} ${r} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Kv,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},el.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let i=this.channels.find(r=>r.topic===a&&(r._isJoined()||r._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${a}"`),i.unsubscribe())}_remove(a){this.channels=this.channels.filter(i=>i.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:c,payload:d,ref:f}=i,m=f?`(${f})`:"",g=d.status||"";this.log("receive",`${g} ${r} ${c} ${m}`.trim(),d),this.channels.filter(y=>y._isMember(r)).forEach(y=>y._trigger(c,d,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(a){var i;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ea.open||this.conn.readyState===Ea.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var i;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(nn.error))}_appendParams(a,i){if(Object.keys(i).length===0)return a;const r=a.match(/\?/)?"&":"?",c=new URLSearchParams(i);return`${a}${r}${c}`}_workerObjectUrl(a){let i;if(a)i=a;else{const r=new Blob([np],{type:"application/javascript"});i=URL.createObjectURL(r)}return i}_setConnectionState(a,i=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(a=null){let i;a?i=a:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(r=>{const c={access_token:i,version:Vv};i&&r.updateJoinPayload(c),r.joinedOnce&&r._isJoined()&&r._push(nn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${a}`,i)})}_triggerStateCallbacks(a,i){try{this.stateChangeCallbacks[a].forEach(r=>{try{r(i)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(r){this.log("error",`error triggering ${a} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Rm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},el.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var i,r,c,d,f,m,g,y,w,T,b,x;switch(this.transport=(i=a?.transport)!==null&&i!==void 0?i:null,this.timeout=(r=a?.timeout)!==null&&r!==void 0?r:Xo,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:el.HEARTBEAT_INTERVAL,this.worker=(d=a?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=a?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:ko,this.vsn=(g=a?.vsn)!==null&&g!==void 0?g:Cg,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=a?.reconnectAfterMs)!==null&&y!==void 0?y:(_=>ep[_-1]||tp),this.vsn){case Nm:this.encode=(w=a?.encode)!==null&&w!==void 0?w:((_,D)=>D(JSON.stringify(_))),this.decode=(T=a?.decode)!==null&&T!==void 0?T:((_,D)=>D(JSON.parse(_)));break;case Yv:this.encode=(b=a?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(x=a?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}class cl extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Xe(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class sp extends cl{constructor(a,i,r){super(a),this.name="StorageApiError",this.status=i,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Io extends cl{constructor(a,i){super(a),this.name="StorageUnknownError",this.originalError=i}}const oc=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),ip=()=>Response,Po=l=>{if(Array.isArray(l))return l.map(i=>Po(i));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([i,r])=>{const c=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));a[c]=Po(r)}),a},rp=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},lp=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l),zo=l=>{var a;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(a=l.error)===null||a===void 0?void 0:a.message)||JSON.stringify(l)},up=(l,a,i)=>W(void 0,void 0,void 0,function*(){const r=yield ip();l instanceof r&&!i?.noResolveJson?l.json().then(c=>{const d=l.status||500,f=c?.statusCode||d+"";a(new sp(zo(c),d,f))}).catch(c=>{a(new Io(zo(c),c))}):a(new Io(zo(l),l))}),op=(l,a,i,r)=>{const c={method:l,headers:a?.headers||{}};return l==="GET"||!r?c:(rp(r)?(c.headers=Object.assign({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(r)):c.body=r,a?.duplex&&(c.duplex=a.duplex),Object.assign(Object.assign({},c),i))};function Ni(l,a,i,r,c,d){return W(this,void 0,void 0,function*(){return new Promise((f,m)=>{l(i,op(a,r,c,d)).then(g=>{if(!g.ok)throw g;return r?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>up(g,m,r))})})}function Ei(l,a,i,r){return W(this,void 0,void 0,function*(){return Ni(l,"GET",a,i,r)})}function tn(l,a,i,r,c){return W(this,void 0,void 0,function*(){return Ni(l,"POST",a,r,c,i)})}function Wo(l,a,i,r,c){return W(this,void 0,void 0,function*(){return Ni(l,"PUT",a,r,c,i)})}function cp(l,a,i,r){return W(this,void 0,void 0,function*(){return Ni(l,"HEAD",a,Object.assign(Object.assign({},i),{noResolveJson:!0}),r)})}function cc(l,a,i,r,c){return W(this,void 0,void 0,function*(){return Ni(l,"DELETE",a,r,c,i)})}class dp{constructor(a,i){this.downloadFn=a,this.shouldThrowOnError=i}then(a,i){return this.execute().then(a,i)}execute(){return W(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Xe(a))return{data:null,error:a};throw a}})}}var Um;class fp{constructor(a,i){this.downloadFn=a,this.shouldThrowOnError=i,this[Um]="BlobDownloadBuilder",this.promise=null}asStream(){return new dp(this.downloadFn,this.shouldThrowOnError)}then(a,i){return this.getPromise().then(a,i)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return W(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Xe(a))return{data:null,error:a};throw a}})}}Um=Symbol.toStringTag;const hp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gp{constructor(a,i={},r,c){this.shouldThrowOnError=!1,this.url=a,this.headers=i,this.bucketId=r,this.fetch=oc(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,i,r,c){return W(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},zg),c);let m=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",this.encodeMetadata(g)),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),g&&!d.has("metadata")&&d.append("metadata",this.encodeMetadata(g))):(d=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),c?.headers&&(m=Object.assign(Object.assign({},m),c.headers));const y=this._removeEmptyFolders(i),w=this._getFinalPath(y),T=yield(a=="PUT"?Wo:tn)(this.fetch,`${this.url}/object/${w}`,d,Object.assign({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:y,id:T.Id,fullPath:T.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Xe(d))return{data:null,error:d};throw d}})}upload(a,i,r){return W(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,i,r)})}uploadToSignedUrl(a,i,r,c){return W(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(a),f=this._getFinalPath(d),m=new URL(this.url+`/object/upload/sign/${f}`);m.searchParams.set("token",i);try{let g;const y=Object.assign({upsert:zg.upsert},c),w=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",y.cacheControl)):(g=r,w["cache-control"]=`max-age=${y.cacheControl}`,w["content-type"]=y.contentType);const T=yield Wo(this.fetch,m.toString(),g,{headers:w});return{data:{path:d,fullPath:T.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Xe(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(a,i){return W(this,void 0,void 0,function*(){try{let r=this._getFinalPath(a);const c=Object.assign({},this.headers);i?.upsert&&(c["x-upsert"]="true");const d=yield tn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:c}),f=new URL(this.url+d.url),m=f.searchParams.get("token");if(!m)throw new cl("No token returned by API");return{data:{signedUrl:f.toString(),path:a,token:m},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}update(a,i,r){return W(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,i,r)})}move(a,i,r){return W(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:i,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}})}copy(a,i,r){return W(this,void 0,void 0,function*(){try{return{data:{path:(yield tn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:i,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}})}createSignedUrl(a,i,r){return W(this,void 0,void 0,function*(){try{let c=this._getFinalPath(a),d=yield tn(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:i},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}})}createSignedUrls(a,i,r){return W(this,void 0,void 0,function*(){try{const c=yield tn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:a},{headers:this.headers}),d=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:c.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}})}download(a,i){const c=typeof i?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(i?.transform||{}),f=d?`?${d}`:"",m=this._getFinalPath(a),g=()=>Ei(this.fetch,`${this.url}/${c}/${m}${f}`,{headers:this.headers,noResolveJson:!0});return new fp(g,this.shouldThrowOnError)}info(a){return W(this,void 0,void 0,function*(){const i=this._getFinalPath(a);try{const r=yield Ei(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Po(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}exists(a){return W(this,void 0,void 0,function*(){const i=this._getFinalPath(a);try{return yield cp(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r)&&r instanceof Io){const c=r.originalError;if([400,404].includes(c?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(a,i){const r=this._getFinalPath(a),c=[],d=i?.download?`download=${i.download===!0?"":i.download}`:"";d!==""&&c.push(d);const m=typeof i?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(i?.transform||{});g!==""&&c.push(g);let y=c.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${r}${y}`)}}}remove(a){return W(this,void 0,void 0,function*(){try{return{data:yield cc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}list(a,i,r){return W(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},hp),i),{prefix:a||""});return{data:yield tn(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},r),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}})}listV2(a,i){return W(this,void 0,void 0,function*(){try{const r=Object.assign({},a);return{data:yield tn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const i=[];return a.width&&i.push(`width=${a.width}`),a.height&&i.push(`height=${a.height}`),a.resize&&i.push(`resize=${a.resize}`),a.format&&i.push(`format=${a.format}`),a.quality&&i.push(`quality=${a.quality}`),i.join("&")}}const km="2.86.0",zm={"X-Client-Info":`storage-js/${km}`};class mp{constructor(a,i={},r,c){this.shouldThrowOnError=!1;const d=new URL(a);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zm),i),this.fetch=oc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return W(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(a);return{data:yield Ei(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}getBucket(a){return W(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}createBucket(a){return W(this,arguments,void 0,function*(i,r={public:!1}){try{return{data:yield tn(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}})}updateBucket(a,i){return W(this,void 0,void 0,function*(){try{return{data:yield Wo(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}})}emptyBucket(a){return W(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}deleteBucket(a){return W(this,void 0,void 0,function*(){try{return{data:yield cc(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(a){const i={};return a&&("limit"in a&&(i.limit=String(a.limit)),"offset"in a&&(i.offset=String(a.offset)),a.search&&(i.search=a.search),a.sortColumn&&(i.sortColumn=a.sortColumn),a.sortOrder&&(i.sortOrder=a.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}var ji=class extends Error{constructor(l,a){super(l),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function yp(l,a,i){const r=new URL(a,l);if(i)for(const[c,d]of Object.entries(i))d!==void 0&&r.searchParams.set(c,d);return r.toString()}async function vp(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function pp(l){const a=l.fetchImpl??globalThis.fetch;return{async request({method:i,path:r,query:c,body:d,headers:f}){const m=yp(l.baseUrl,r,c),g=await vp(l.auth),y=await a(m,{method:i,headers:{...d?{"Content-Type":"application/json"}:{},...g,...f},body:d?JSON.stringify(d):void 0}),w=await y.text(),T=(y.headers.get("content-type")||"").includes("application/json"),b=T&&w?JSON.parse(w):w;if(!y.ok){const x=T?b:void 0,_=x?.error;throw new ji(_?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:_?.type,icebergCode:_?.code,details:x})}return{status:y.status,headers:y.headers,data:b}}}}function tl(l){return l.join("")}var bp=class{constructor(l,a=""){this.client=l,this.prefix=a}async listNamespaces(l){const a=l?{parent:tl(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(l,a){const i={namespace:l.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${tl(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${tl(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${tl(l.namespace)}`}),!0}catch(a){if(a instanceof ji&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(l,a){try{return await this.createNamespace(l,a)}catch(i){if(i instanceof ji&&i.status===409)return;throw i}}};function gs(l){return l.join("")}var _p=class{constructor(l,a="",i){this.client=l,this.prefix=a,this.accessDelegation=i}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gs(l.namespace)}/tables`})).data.identifiers}async createTable(l,a){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gs(l.namespace)}/tables`,body:a,headers:i})).data.metadata}async updateTable(l,a){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gs(l.namespace)}/tables/${l.name}`,body:a});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(l,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gs(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(l){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gs(l.namespace)}/tables/${l.name}`,headers:a})).data.metadata}async tableExists(l){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gs(l.namespace)}/tables/${l.name}`,headers:a}),!0}catch(i){if(i instanceof ji&&i.status===404)return!1;throw i}}async createTableIfNotExists(l,a){try{return await this.createTable(l,a)}catch(i){if(i instanceof ji&&i.status===409)return await this.loadTable({namespace:l.namespace,name:a.name});throw i}}},wp=class{constructor(l){let a="v1";l.catalogName&&(a+=`/${l.catalogName}`);const i=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=pp({baseUrl:i,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=l.accessDelegation?.join(","),this.namespaceOps=new bp(this.client,a),this.tableOps=new _p(this.client,a,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,a){return this.namespaceOps.createNamespace(l,a)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,a){return this.tableOps.createTable(l,a)}async updateTable(l,a){return this.tableOps.updateTable(l,a)}async dropTable(l,a){await this.tableOps.dropTable(l,a)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,a){return this.namespaceOps.createNamespaceIfNotExists(l,a)}async createTableIfNotExists(l,a){return this.tableOps.createTableIfNotExists(l,a)}};class Sp{constructor(a,i={},r){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zm),i),this.fetch=oc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return W(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}listBuckets(a){return W(this,void 0,void 0,function*(){try{const i=new URLSearchParams;a?.limit!==void 0&&i.set("limit",a.limit.toString()),a?.offset!==void 0&&i.set("offset",a.offset.toString()),a?.sortColumn&&i.set("sortColumn",a.sortColumn),a?.sortOrder&&i.set("sortOrder",a.sortOrder),a?.search&&i.set("search",a.search);const r=i.toString(),c=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Ei(this.fetch,c,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}deleteBucket(a){return W(this,void 0,void 0,function*(){try{return{data:yield cc(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}from(a){if(!lp(a))throw new cl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new wp({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:()=>W(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const dc={"X-Client-Info":`storage-js/${km}`,"Content-Type":"application/json"};class Mm extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function qt(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}class Mo extends Mm{constructor(a,i,r){super(a),this.name="StorageVectorsApiError",this.status=i,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xp extends Mm{constructor(a,i){super(a),this.name="StorageVectorsUnknownError",this.originalError=i}}var Mg;(function(l){l.InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Mg||(Mg={}));const fc=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),Tp=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},Bg=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Ep=(l,a,i)=>W(void 0,void 0,void 0,function*(){if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!i?.noResolveJson){const c=l.status||500,d=l;if(typeof d.json=="function")d.json().then(f=>{const m=f?.statusCode||f?.code||c+"";a(new Mo(Bg(f),c,m))}).catch(()=>{const f=c+"",m=d.statusText||`HTTP ${c} error`;a(new Mo(m,c,f))});else{const f=c+"",m=d.statusText||`HTTP ${c} error`;a(new Mo(m,c,f))}}else a(new xp(Bg(l),l))}),jp=(l,a,i,r)=>{const c={method:l,headers:a?.headers||{}};return r?(Tp(r)?(c.headers=Object.assign({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(r)):c.body=r,Object.assign(Object.assign({},c),i)):c};function Op(l,a,i,r,c,d){return W(this,void 0,void 0,function*(){return new Promise((f,m)=>{l(i,jp(a,r,c,d)).then(g=>{if(!g.ok)throw g;if(r?.noResolveJson)return g;const y=g.headers.get("content-type");return!y||!y.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>Ep(g,m,r))})})}function Lt(l,a,i,r,c){return W(this,void 0,void 0,function*(){return Op(l,"POST",a,r,c,i)})}class Ap{constructor(a,i={},r){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dc),i),this.fetch=fc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return W(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}getIndex(a,i){return W(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:i},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}listIndexes(a){return W(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}deleteIndex(a,i){return W(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:i},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}}class Np{constructor(a,i={},r){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dc),i),this.fetch=fc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return W(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Lt(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}getVectors(a){return W(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}listVectors(a){return W(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield Lt(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}queryVectors(a){return W(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}deleteVectors(a){return W(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Lt(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}}class Rp{constructor(a,i={},r){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dc),i),this.fetch=fc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return W(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}getBucket(a){return W(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}listBuckets(){return W(this,arguments,void 0,function*(a={}){try{return{data:yield Lt(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}deleteBucket(a){return W(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}}class Cp extends Rp{constructor(a,i={}){super(a,i.headers||{},i.fetch)}from(a){return new Dp(this.url,this.headers,a,this.fetch)}createBucket(a){const i=Object.create(null,{createBucket:{get:()=>super.createBucket}});return W(this,void 0,void 0,function*(){return i.createBucket.call(this,a)})}getBucket(a){const i=Object.create(null,{getBucket:{get:()=>super.getBucket}});return W(this,void 0,void 0,function*(){return i.getBucket.call(this,a)})}listBuckets(){const a=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return W(this,arguments,void 0,function*(i={}){return a.listBuckets.call(this,i)})}deleteBucket(a){const i=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return W(this,void 0,void 0,function*(){return i.deleteBucket.call(this,a)})}}class Dp extends Ap{constructor(a,i,r,c){super(a,i,c),this.vectorBucketName=r}createIndex(a){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return W(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return W(this,arguments,void 0,function*(i={}){return a.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return W(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return W(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new Up(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class Up extends Np{constructor(a,i,r,c,d){super(a,i,d),this.vectorBucketName=r,this.indexName=c}putVectors(a){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return W(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return W(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return W(this,arguments,void 0,function*(i={}){return a.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return W(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return W(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class kp extends mp{constructor(a,i={},r,c){super(a,i,r,c)}from(a){return new gp(this.url,this.headers,a,this.fetch)}get vectors(){return new Cp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Sp(this.url+"/iceberg",this.headers,this.fetch)}}const zp="2.86.0";let Si="";typeof Deno<"u"?Si="deno":typeof document<"u"?Si="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Si="react-native":Si="node";const Mp={"X-Client-Info":`supabase-js-${Si}/${zp}`},Bp={headers:Mp},qp={schema:"public"},Lp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hp={},$p=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),Gp=()=>Headers,Vp=(l,a,i)=>{const r=$p(i),c=Gp();return async(d,f)=>{var m;const g=(m=await a())!==null&&m!==void 0?m:l;let y=new c(f?.headers);return y.has("apikey")||y.set("apikey",l),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),r(d,Object.assign(Object.assign({},f),{headers:y}))}};function Yp(l){return l.endsWith("/")?l:l+"/"}function Kp(l,a){var i,r;const{db:c,auth:d,realtime:f,global:m}=l,{db:g,auth:y,realtime:w,global:T}=a,b={db:Object.assign(Object.assign({},g),c),auth:Object.assign(Object.assign({},y),d),realtime:Object.assign(Object.assign({},w),f),storage:{},global:Object.assign(Object.assign(Object.assign({},T),m),{headers:Object.assign(Object.assign({},(i=T?.headers)!==null&&i!==void 0?i:{}),(r=m?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return l.accessToken?b.accessToken=l.accessToken:delete b.accessToken,b}function Qp(l){const a=l?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Yp(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Bm="2.86.0",_s=30*1e3,Fo=3,Bo=Fo*_s,Xp="http://localhost:9999",Jp="supabase.auth.token",Zp={"X-Client-Info":`gotrue-js/${Bm}`},ec="X-Supabase-Api-Version",qm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ip=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Pp=600*1e3;class Oi extends Error{constructor(a,i,r){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=r}}function ae(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class Wp extends Oi{constructor(a,i,r){super(a,i,r),this.name="AuthApiError",this.status=i,this.code=r}}function Fp(l){return ae(l)&&l.name==="AuthApiError"}class Oa extends Oi{constructor(a,i){super(a),this.name="AuthUnknownError",this.originalError=i}}class na extends Oi{constructor(a,i,r,c){super(a,r,c),this.name=i,this.status=r}}class Bt extends na{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eb(l){return ae(l)&&l.name==="AuthSessionMissingError"}class ms extends na{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nl extends na{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class al extends na{constructor(a,i=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tb(l){return ae(l)&&l.name==="AuthImplicitGrantRedirectError"}class qg extends na{constructor(a,i=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tc extends na{constructor(a,i){super(a,"AuthRetryableFetchError",i,void 0)}}function qo(l){return ae(l)&&l.name==="AuthRetryableFetchError"}class Lg extends na{constructor(a,i,r){super(a,"AuthWeakPasswordError",i,"weak_password"),this.reasons=r}}class nc extends na{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const rl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hg=` 	
\r=`.split(""),nb=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<Hg.length;a+=1)l[Hg[a].charCodeAt(0)]=-2;for(let a=0;a<rl.length;a+=1)l[rl[a].charCodeAt(0)]=a;return l})();function $g(l,a,i){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;i(rl[r]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;i(rl[r]),a.queuedBits-=6}}function Lm(l,a,i){const r=nb[l];if(r>-1)for(a.queue=a.queue<<6|r,a.queuedBits+=6;a.queuedBits>=8;)i(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Gg(l){const a=[],i=f=>{a.push(String.fromCodePoint(f))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{ib(f,r,i)};for(let f=0;f<l.length;f+=1)Lm(l.charCodeAt(f),c,d);return a.join("")}function ab(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function sb(l,a){for(let i=0;i<l.length;i+=1){let r=l.charCodeAt(i);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(l.charCodeAt(i+1)-56320&65535|c)+65536,i+=1}ab(r,a)}}function ib(l,a,i){if(a.utf8seq===0){if(l<=127){i(l);return}for(let r=1;r<6;r+=1)if((l>>7-r&1)===0){a.utf8seq=r;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&i(a.codepoint)}}function Ss(l){const a=[],i={queue:0,queuedBits:0},r=c=>{a.push(c)};for(let c=0;c<l.length;c+=1)Lm(l.charCodeAt(c),i,r);return new Uint8Array(a)}function rb(l){const a=[];return sb(l,i=>a.push(i)),new Uint8Array(a)}function Aa(l){const a=[],i={queue:0,queuedBits:0},r=c=>{a.push(c)};return l.forEach(c=>$g(c,i,r)),$g(null,i,r),a.join("")}function lb(l){return Math.round(Date.now()/1e3)+l}function ub(){return Symbol("auth-callback")}const yt=()=>typeof window<"u"&&typeof document<"u",Sa={tested:!1,writable:!1},Hm=()=>{if(!yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sa.tested)return Sa.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Sa.tested=!0,Sa.writable=!0}catch{Sa.tested=!0,Sa.writable=!1}return Sa.writable};function ob(l){const a={},i=new URL(l);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((c,d)=>{a[d]=c})}catch{}return i.searchParams.forEach((r,c)=>{a[c]=r}),a}const $m=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),cb=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",ws=async(l,a,i)=>{await l.setItem(a,JSON.stringify(i))},xa=async(l,a)=>{const i=await l.getItem(a);if(!i)return null;try{return JSON.parse(i)}catch{return i}},ea=async(l,a)=>{await l.removeItem(a)};class dl{constructor(){this.promise=new dl.promiseConstructor((a,i)=>{this.resolve=a,this.reject=i})}}dl.promiseConstructor=Promise;function Lo(l){const a=l.split(".");if(a.length!==3)throw new nc("Invalid JWT structure");for(let r=0;r<a.length;r++)if(!Ip.test(a[r]))throw new nc("JWT not in base64url format");return{header:JSON.parse(Gg(a[0])),payload:JSON.parse(Gg(a[1])),signature:Ss(a[2]),raw:{header:a[0],payload:a[1]}}}async function db(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function fb(l,a){return new Promise((r,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await l(d);if(!a(d,null,f)){r(f);return}}catch(f){if(!a(d,f)){c(f);return}}})()})}function hb(l){return("0"+l.toString(16)).substr(-2)}function gb(){const a=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=i.length;let c="";for(let d=0;d<56;d++)c+=i.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(a),Array.from(a,hb).join("")}async function mb(l){const i=new TextEncoder().encode(l),r=await crypto.subtle.digest("SHA-256",i),c=new Uint8Array(r);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function yb(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const i=await mb(l);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ys(l,a,i=!1){const r=gb();let c=r;i&&(c+="/PASSWORD_RECOVERY"),await ws(l,`${a}-code-verifier`,c);const d=await yb(r);return[d,r===d?"plain":"s256"]}const vb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pb(l){const a=l.headers.get(ec);if(!a||!a.match(vb))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function bb(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function _b(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vs(l){if(!wb.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ho(){const l={};return new Proxy(l,{get:(a,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const r=i.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Sb(l,a){return new Proxy(l,{get:(i,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const d=r.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,r,c)}return!a.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(i,r,c)}})}function Vg(l){return JSON.parse(JSON.stringify(l))}const Ta=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),xb=[502,503,504];async function Yg(l){var a;if(!cb(l))throw new tc(Ta(l),0);if(xb.includes(l.status))throw new tc(Ta(l),l.status);let i;try{i=await l.json()}catch(d){throw new Oa(Ta(d),d)}let r;const c=pb(l);if(c&&c.getTime()>=qm["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?r=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(r=i.error_code),r){if(r==="weak_password")throw new Lg(Ta(i),l.status,((a=i.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(r==="session_not_found")throw new Bt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Lg(Ta(i),l.status,i.weak_password.reasons);throw new Wp(Ta(i),l.status||500,r)}const Tb=(l,a,i,r)=>{const c={method:l,headers:a?.headers||{}};return l==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),i))};async function ue(l,a,i,r){var c;const d=Object.assign({},r?.headers);d[ec]||(d[ec]=qm["2024-01-01"].name),r?.jwt&&(d.Authorization=`Bearer ${r.jwt}`);const f=(c=r?.query)!==null&&c!==void 0?c:{};r?.redirectTo&&(f.redirect_to=r.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await Eb(l,a,i+m,{headers:d,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(g):{data:Object.assign({},g),error:null}}async function Eb(l,a,i,r,c,d){const f=Tb(a,r,c,d);let m;try{m=await l(i,Object.assign({},f))}catch(g){throw console.error(g),new tc(Ta(g),0)}if(m.ok||await Yg(m),r?.noResolveJson)return m;try{return await m.json()}catch(g){await Yg(g)}}function en(l){var a;let i=null;Ab(l)&&(i=Object.assign({},l),l.expires_at||(i.expires_at=lb(l.expires_in)));const r=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:i,user:r},error:null}}function Kg(l){const a=en(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0)&&(a.data.weak_password=l.weak_password),a}function ta(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function jb(l){return{data:l,error:null}}function Ob(l){const{action_link:a,email_otp:i,hashed_token:r,redirect_to:c,verification_type:d}=l,f=Es(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:i,hashed_token:r,redirect_to:c,verification_type:d},g=Object.assign({},f);return{data:{properties:m,user:g},error:null}}function Qg(l){return l}function Ab(l){return l.access_token&&l.refresh_token&&l.expires_in}const $o=["global","local","others"];class Nb{constructor({url:a="",headers:i={},fetch:r}){this.url=a,this.headers=i,this.fetch=$m(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,i=$o[0]){if($o.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$o.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(a,i={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:ta})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async generateLink(a){try{const{options:i}=a,r=Es(a,["options"]),c=Object.assign(Object.assign({},r),i);return"newEmail"in r&&(c.new_email=r?.newEmail,delete c.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Ob,redirectTo:i?.redirectTo})}catch(i){if(ae(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(a){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:ta})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async listUsers(a){var i,r,c,d,f,m,g;try{const y={nextPage:null,lastPage:0,total:0},w=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(d=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Qg});if(w.error)throw w.error;const T=await w.json(),b=(f=w.headers.get("x-total-count"))!==null&&f!==void 0?f:0,x=(g=(m=w.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return x.length>0&&(x.forEach(_=>{const D=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(_.split(";")[1].split("=")[1]);y[`${N}Page`]=D}),y.total=parseInt(b)),{data:Object.assign(Object.assign({},T),y),error:null}}catch(y){if(ae(y))return{data:{users:[]},error:y};throw y}}async getUserById(a){vs(a);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:ta})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async updateUserById(a,i){vs(a);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:i,headers:this.headers,xform:ta})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(a,i=!1){vs(a);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:i},xform:ta})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(a){vs(a.userId);try{const{data:i,error:r}=await ue(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:i,error:r}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _deleteFactor(a){vs(a.userId),vs(a.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _listOAuthClients(a){var i,r,c,d,f,m,g;try{const y={nextPage:null,lastPage:0,total:0},w=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(d=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Qg});if(w.error)throw w.error;const T=await w.json(),b=(f=w.headers.get("x-total-count"))!==null&&f!==void 0?f:0,x=(g=(m=w.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return x.length>0&&(x.forEach(_=>{const D=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(_.split(";")[1].split("=")[1]);y[`${N}Page`]=D}),y.total=parseInt(b)),{data:Object.assign(Object.assign({},T),y),error:null}}catch(y){if(ae(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(a){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _getOAuthClient(a){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _updateOAuthClient(a,i){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:i,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(a){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(a){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}}function Xg(l={}){return{getItem:a=>l[a]||null,setItem:(a,i)=>{l[a]=i},removeItem:a=>{delete l[a]}}}const ps={debug:!!(globalThis&&Hm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gm extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Rb extends Gm{}async function Cb(l,a,i){ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const r=new globalThis.AbortController;return a>0&&setTimeout(()=>{r.abort(),ps.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,c.name);try{return await i()}finally{ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,c.name)}}else{if(a===0)throw ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new Rb(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(ps.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function Db(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Vm(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function Ub(l){return parseInt(l,16)}function kb(l){const a=new TextEncoder().encode(l);return"0x"+Array.from(a,r=>r.toString(16).padStart(2,"0")).join("")}function zb(l){var a;const{chainId:i,domain:r,expirationTime:c,issuedAt:d=new Date,nonce:f,notBefore:m,requestId:g,resources:y,scheme:w,uri:T,version:b}=l;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!T)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((a=l.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const x=Vm(l.address),_=w?`${w}://${r}`:r,D=l.statement?`${l.statement}
`:"",N=`${_} wants you to sign in with your Ethereum account:
${x}

${D}`;let z=`URI: ${T}
Version: ${b}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(c&&(z+=`
Expiration Time: ${c.toISOString()}`),m&&(z+=`
Not Before: ${m.toISOString()}`),g&&(z+=`
Request ID: ${g}`),y){let V=`
Resources:`;for(const q of y){if(!q||typeof q!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${q}`);V+=`
- ${q}`}z+=V}return`${N}
${z}`}class at extends Error{constructor({message:a,code:i,cause:r,name:c}){var d;super(a,{cause:r}),this.__isWebAuthnError=!0,this.name=(d=c??(r instanceof Error?r.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=i}}class ll extends at{constructor(a,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:a}),this.name="WebAuthnUnknownError",this.originalError=i}}function Mb({error:l,options:a}){var i,r,c;const{publicKey:d}=a;if(!d)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new at({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((i=d.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new at({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(a.mediation==="conditional"&&((r=d.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new at({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new at({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new at({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new at({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new at({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new at({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const f=window.location.hostname;if(Ym(f)){if(d.rp.id!==f)return new at({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new at({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function Bb({error:l,options:a}){const{publicKey:i}=a;if(!i)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new at({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new at({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const r=window.location.hostname;if(Ym(r)){if(i.rpId!==r)return new at({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class qb{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Lb=new qb;function Hb(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:a,user:i,excludeCredentials:r}=l,c=Es(l,["challenge","user","excludeCredentials"]),d=Ss(a).buffer,f=Object.assign(Object.assign({},i),{id:Ss(i.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:d,user:f});if(r&&r.length>0){m.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const y=r[g];m.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:Ss(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return m}function $b(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:a,allowCredentials:i}=l,r=Es(l,["challenge","allowCredentials"]),c=Ss(a).buffer,d=Object.assign(Object.assign({},r),{challenge:c});if(i&&i.length>0){d.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const m=i[f];d.allowCredentials[f]=Object.assign(Object.assign({},m),{id:Ss(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function Gb(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const i=l;return{id:l.id,rawId:l.id,response:{attestationObject:Aa(new Uint8Array(l.response.attestationObject)),clientDataJSON:Aa(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Vb(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const i=l,r=l.getClientExtensionResults(),c=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:Aa(new Uint8Array(c.authenticatorData)),clientDataJSON:Aa(new Uint8Array(c.clientDataJSON)),signature:Aa(new Uint8Array(c.signature)),userHandle:c.userHandle?Aa(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Ym(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function Jg(){var l,a;return!!(yt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Yb(l){try{const a=await navigator.credentials.create(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new ll("Browser returned unexpected credential type",a)}:{data:null,error:new ll("Empty credential response",a)}}catch(a){return{data:null,error:Mb({error:a,options:l})}}}async function Kb(l){try{const a=await navigator.credentials.get(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new ll("Browser returned unexpected credential type",a)}:{data:null,error:new ll("Empty credential response",a)}}catch(a){return{data:null,error:Bb({error:a,options:l})}}}const Qb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Xb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ul(...l){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),i=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of l)if(c)for(const d in c){const f=c[d];if(f!==void 0)if(Array.isArray(f))r[d]=f;else if(i(f))r[d]=f;else if(a(f)){const m=r[d];a(m)?r[d]=ul(m,f):r[d]=ul(f)}else r[d]=f}return r}function Jb(l,a){return ul(Qb,l,a||{})}function Zb(l,a){return ul(Xb,l,a||{})}class Ib{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:i,friendlyName:r,signal:c},d){try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:i});if(!f)return{data:null,error:m};const g=c??Lb.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${r}`),y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=Jb(f.webauthn.credential_options.publicKey,d?.create),{data:w,error:T}=await Yb({publicKey:y,signal:g});return w?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:w}},error:null}:{data:null,error:T}}case"request":{const y=Zb(f.webauthn.credential_options.publicKey,d?.request),{data:w,error:T}=await Kb(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:g}));return w?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:w}},error:null}:{data:null,error:T}}}}catch(f){return ae(f)?{data:null,error:f}:{data:null,error:new Oa("Unexpected error in challenge",f)}}}async _verify({challengeId:a,factorId:i,webauthn:r}){return this.client.mfa.verify({factorId:i,challengeId:a,webauthn:r})}async _authenticate({factorId:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!i)return{data:null,error:new Oi("rpId is required for WebAuthn authentication")};try{if(!Jg())return{data:null,error:new Oa("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:a,webauthn:{rpId:i,rpOrigins:r},signal:c},{request:d});if(!f)return{data:null,error:m};const{webauthn:g}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:r,credential_response:g.credential_response}})}catch(f){return ae(f)?{data:null,error:f}:{data:null,error:new Oa("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!i)return{data:null,error:new Oi("rpId is required for WebAuthn registration")};try{if(!Jg())return{data:null,error:new Oa("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(w=>{var T;return(T=w.data)===null||T===void 0?void 0:T.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===a&&b.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w?.id}):void 0),{data:null,error:m};const{data:g,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:r},signal:c},{create:d});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:r,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(f){return ae(f)?{data:null,error:f}:{data:null,error:new Oa("Unexpected error in register",f)}}}}Db();const Pb={url:Xp,storageKey:Jp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Zg(l,a,i){return await i()}const bs={};class Ai{get jwks(){var a,i;return(i=(a=bs[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(a){bs[this.storageKey]=Object.assign(Object.assign({},bs[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,i;return(i=(a=bs[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){bs[this.storageKey]=Object.assign(Object.assign({},bs[this.storageKey]),{cachedAt:a})}constructor(a){var i,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},Pb),a);if(this.storageKey=d.storageKey,this.instanceID=(i=Ai.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Ai.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&yt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new Nb({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=$m(d.fetch),this.lock=d.lock||Zg,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:yt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Cb:this.lock=Zg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ib(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:Hm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xg(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=Xg(this.memoryStorage)),yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Bm}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let i={},r="none";if(yt()&&(i=ob(window.location.href),this._isImplicitGrantCallback(i)?r="implicit":await this._isPKCECallback(i)&&(r="pkce")),yt()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:d}=await this._getSessionFromURL(i,r);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),tb(d)){const g=(a=d.details)===null||a===void 0?void 0:a.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ae(i)?this._returnResult({error:i}):this._returnResult({error:new Oa("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var i,r,c;try{const d=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(i=a?.options)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:en}),{data:f,error:m}=d;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(d){if(ae(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(a){var i,r,c;try{let d;if("email"in a){const{email:w,password:T,options:b}=a;let x=null,_=null;this.flowType==="pkce"&&([x,_]=await ys(this.storage,this.storageKey)),d=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:w,password:T,data:(i=b?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:x,code_challenge_method:_},xform:en})}else if("phone"in a){const{phone:w,password:T,options:b}=a;d=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:T,data:(r=b?.data)!==null&&r!==void 0?r:{},channel:(c=b?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:en})}else throw new nl("You must provide either an email or phone number and a password");const{data:f,error:m}=d;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(d){if(ae(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(a){try{let i;if("email"in a){const{email:d,password:f,options:m}=a;i=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Kg})}else if("phone"in a){const{phone:d,password:f,options:m}=a;i=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Kg})}else throw new nl("You must provide either an email or phone number and a password");const{data:r,error:c}=i;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const d=new ms;return this._returnResult({data:{user:null,session:null},error:d})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(a){var i,r,c,d;return await this._handleProviderSignIn(a.provider,{redirectTo:(i=a.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=a.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=a.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:i}=a;switch(i){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(a){var i,r,c,d,f,m,g,y,w,T,b;let x,_;if("message"in a)x=a.message,_=a.signature;else{const{chain:D,wallet:N,statement:z,options:V}=a;let q;if(yt())if(typeof N=="object")q=N;else{const Oe=window;if("ethereum"in Oe&&typeof Oe.ethereum=="object"&&"request"in Oe.ethereum&&typeof Oe.ethereum.request=="function")q=Oe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!V?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=N}const G=new URL((i=V?.url)!==null&&i!==void 0?i:window.location.href),ie=await q.request({method:"eth_requestAccounts"}).then(Oe=>Oe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ie||ie.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ne=Vm(ie[0]);let Q=(r=V?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!Q){const Oe=await q.request({method:"eth_chainId"});Q=Ub(Oe)}const Te={domain:G.host,address:ne,statement:z,uri:G.href,version:"1",chainId:Q,nonce:(c=V?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(d=V?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=V?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=V?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=V?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(w=V?.signInWithEthereum)===null||w===void 0?void 0:w.resources};x=zb(Te),_=await q.request({method:"personal_sign",params:[kb(x),ne]})}try{const{data:D,error:N}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:_},!((T=a.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(b=a.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:en});if(N)throw N;if(!D||!D.session||!D.user){const z=new ms;return this._returnResult({data:{user:null,session:null},error:z})}return D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:N})}catch(D){if(ae(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}}async signInWithSolana(a){var i,r,c,d,f,m,g,y,w,T,b,x;let _,D;if("message"in a)_=a.message,D=a.signature;else{const{chain:N,wallet:z,statement:V,options:q}=a;let G;if(yt())if(typeof z=="object")G=z;else{const ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))G=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=z}const ie=new URL((i=q?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in G&&G.signIn){const ne=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},q?.signInWithSolana),{version:"1",domain:ie.host,uri:ie.href}),V?{statement:V}:null));let Q;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")Q=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)Q=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)_=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),D=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${ie.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${ie.href}`,`Issued At: ${(c=(r=q?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=q?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${q.signInWithSolana.notBefore}`]:[],...!((f=q?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${q.signInWithSolana.expirationTime}`]:[],...!((m=q?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${q.signInWithSolana.chainId}`]:[],...!((g=q?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${q.signInWithSolana.nonce}`]:[],...!((y=q?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${q.signInWithSolana.requestId}`]:[],...!((T=(w=q?.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||T===void 0)&&T.length?["Resources",...q.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const ne=await G.signMessage(new TextEncoder().encode(_),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=ne}}try{const{data:N,error:z}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Aa(D)},!((b=a.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=a.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:en});if(z)throw z;if(!N||!N.session||!N.user){const V=new ms;return this._returnResult({data:{user:null,session:null},error:V})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:z})}catch(N){if(ae(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(a){const i=await xa(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(i??"").split("/");try{const{data:d,error:f}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:r},xform:en});if(await ea(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const m=new ms;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(ae(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(a){try{const{options:i,provider:r,token:c,access_token:d,nonce:f}=a,m=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:en}),{data:g,error:y}=m;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g||!g.session||!g.user){const w=new ms;return this._returnResult({data:{user:null,session:null},error:w})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:y})}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(a){var i,r,c,d,f;try{if("email"in a){const{email:m,options:g}=a;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await ys(this.storage,this.storageKey));const{error:T}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(r=g?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:w},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:T})}if("phone"in a){const{phone:m,options:g}=a,{data:y,error:w}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=g?.data)!==null&&c!==void 0?c:{},create_user:(d=g?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:w})}throw new nl("You must provide either an email or phone number.")}catch(m){if(ae(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var i,r;try{let c,d;"options"in a&&(c=(i=a.options)===null||i===void 0?void 0:i.redirectTo,d=(r=a.options)===null||r===void 0?void 0:r.captchaToken);const{data:f,error:m}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:en});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,y=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var i,r,c,d,f;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await ys(this.storage,this.storageKey));const y=await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(r=(i=a.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:jb});return!((d=y.data)===null||d===void 0)&&d.url&&yt()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(m){if(ae(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:i},error:r}=a;if(r)throw r;if(!i)throw new Bt;const{error:c}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const i=`${this.url}/resend`;if("email"in a){const{email:r,type:c,options:d}=a,{error:f}=await ue(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:r,type:c,options:d}=a,{data:f,error:m}=await ue(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new nl("You must provide either an email or phone number and a type")}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(a,i){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await a(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const i=await xa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?a=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const r=a.expires_at?a.expires_at*1e3-Date.now()<Bo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",a.expires_at),!r){if(this.userStorage){const f=await xa(this.userStorage,this.storageKey+"-user");f?.user?a.user=f.user:a.user=Ho()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=Sb(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:ta}):await this._useSession(async i=>{var r,c,d;const{data:f,error:m}=i;if(m)throw m;return!(!((r=f.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bt}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:ta})})}catch(i){if(ae(i))return eb(i)&&(await this._removeSession(),await ea(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(a,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,i))}async _updateUser(a,i={}){try{return await this._useSession(async r=>{const{data:c,error:d}=r;if(d)throw d;if(!c.session)throw new Bt;const f=c.session;let m=null,g=null;this.flowType==="pkce"&&a.email!=null&&([m,g]=await ys(this.storage,this.storageKey));const{data:y,error:w}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:g}),jwt:f.access_token,xform:ta});if(w)throw w;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(r){if(ae(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Bt;const i=Date.now()/1e3;let r=i,c=!0,d=null;const{payload:f}=Lo(a.access_token);if(f.exp&&(r=f.exp,c=r<=i),c){const{data:m,error:g}=await this._callRefreshToken(a.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:g}=await this._getUser(a.access_token);if(g)throw g;d={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(i){if(ae(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async i=>{var r;if(!a){const{data:f,error:m}=i;if(m)throw m;a=(r=f.session)!==null&&r!==void 0?r:void 0}if(!a?.refresh_token)throw new Bt;const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(a,i){try{if(!yt())throw new al("No browser detected.");if(a.error||a.error_description||a.error_code)throw new al(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new qg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new al("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new qg("No code detected.");const{data:V,error:q}=await this._exchangeCodeForSession(a.code);if(q)throw q;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:m,expires_at:g,token_type:y}=a;if(!d||!m||!f||!y)throw new al("No session defined in URL");const w=Math.round(Date.now()/1e3),T=parseInt(m);let b=w+T;g&&(b=parseInt(g));const x=b-w;x*1e3<=_s&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${T}s`);const _=b-T;w-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,b,w):w-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,b,w);const{data:D,error:N}=await this._getUser(d);if(N)throw N;const z={provider_token:r,provider_refresh_token:c,access_token:d,expires_in:T,expires_at:b,refresh_token:f,token_type:y,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:z,redirectType:a.type},error:null})}catch(r){if(ae(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const i=await xa(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&i)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async i=>{var r;const{data:c,error:d}=i;if(d)return this._returnResult({error:d});const f=(r=c.session)===null||r===void 0?void 0:r.access_token;if(f){const{error:m}=await this.admin.signOut(f,a);if(m&&!(Fp(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await ea(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const i=ub(),r={id:i,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(a){return await this._useSession(async i=>{var r,c;try{const{data:{session:d},error:f}=i;if(f)throw f;await((r=this.stateChangeEmitters.get(a))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",d),console.error(d)}})}async resetPasswordForEmail(a,i={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await ys(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(ae(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var a;try{const{data:i,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(a=i.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var i;try{const{data:r,error:c}=await this._useSession(async d=>{var f,m,g,y,w;const{data:T,error:b}=d;if(b)throw b;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=a.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",x,{headers:this.headers,jwt:(w=(y=T.session)===null||y===void 0?void 0:y.access_token)!==null&&w!==void 0?w:void 0})});if(c)throw c;return yt()&&!(!((i=a.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:a.provider,url:r?.url},error:null})}catch(r){if(ae(r))return this._returnResult({data:{provider:a.provider,url:null},error:r});throw r}}async linkIdentityIdToken(a){return await this._useSession(async i=>{var r;try{const{error:c,data:{session:d}}=i;if(c)throw c;const{options:f,provider:m,token:g,access_token:y,nonce:w}=a,T=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=d?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:m,id_token:g,access_token:y,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:en}),{data:b,error:x}=T;return x?this._returnResult({data:{user:null,session:null},error:x}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new ms}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:x}))}catch(c){if(ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async i=>{var r,c;const{data:d,error:f}=i;if(f)throw f;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(r=d.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(a){const i=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(i,"begin");try{const r=Date.now();return await fb(async c=>(c>0&&await db(200*Math.pow(2,c-1)),this._debug(i,"refreshing attempt",c),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:en})),(c,d)=>{const f=200*Math.pow(2,c);return d&&qo(d)&&Date.now()+f-r<_s})}catch(r){if(this._debug(i,"error",r),ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(i,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,i){const r=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",i,"url",r),yt()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:a,url:r},error:null}}async _recoverAndRefresh(){var a,i;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await xa(this.storage,this.storageKey);if(c&&this.userStorage){let f=await xa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await ws(this.userStorage,this.storageKey+"-user",f)),c.user=(a=f?.user)!==null&&a!==void 0?a:Ho()}else if(c&&!c.user&&!c.user){const f=await xa(this.storage,this.storageKey+"-user");f&&f?.user?(c.user=f.user,await ea(this.storage,this.storageKey+"-user"),await ws(this.storage,this.storageKey,c)):c.user=Ho()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const d=((i=c.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Bo;if(this._debug(r,`session has${d?"":" not"} expired with margin of ${Bo}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),qo(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(c.access_token);!m&&f?.user?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(r,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(a){var i,r;if(!a)throw new Bt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new dl;const{data:d,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!d.session)throw new Bt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),ae(d)){const f={data:null,error:d};return qo(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,i,r=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:a,session:i});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,i)}catch(g){d.push(g)}});if(await Promise.all(f),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;const i=Object.assign({},a),r=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&i.user&&await ws(this.userStorage,this.storageKey+"-user",{user:i.user});const c=Object.assign({},i);delete c.user;const d=Vg(c);await ws(this.storage,this.storageKey,d)}else{const c=Vg(i);await ws(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await ea(this.storage,this.storageKey),await ea(this.storage,this.storageKey+"-code-verifier"),await ea(this.storage,this.storageKey+"-user"),this.userStorage&&await ea(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&yt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),_s);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async i=>{const{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-a)/_s);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${_s}ms, refresh threshold is ${Fo} ticks`),c<=Fo&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Gm)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const i=`#_onVisibilityChanged(${a})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,i,r){const c=[`provider=${encodeURIComponent(i)}`];if(r?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[d,f]=await ys(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(m.toString())}if(r?.queryParams){const d=new URLSearchParams(r.queryParams);c.push(d.toString())}return r?.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async i=>{var r;const{data:c,error:d}=i;return d?this._returnResult({data:null,error:d}):await ue(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(a){try{return await this._useSession(async i=>{var r,c;const{data:d,error:f}=i;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:g,error:y}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=d?.session)===null||r===void 0?void 0:r.access_token});return y?this._returnResult({data:null,error:y}):(a.factorType==="totp"&&g.type==="totp"&&(!((c=g?.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:c,error:d}=i;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Gb(a.webauthn.credential_response):Vb(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:g}=await ue(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:c,error:d}=i;if(d)return this._returnResult({data:null,error:d});const f=await ue(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Hb(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:$b(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(a){const{data:i,error:r}=await this._challenge({factorId:a.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:a.factorId,challengeId:i.id,code:a.code})}async _listFactors(){var a;const{data:{user:i},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(a=i?.factors)!==null&&a!==void 0?a:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var a,i;const{data:{session:r},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Lo(r.access_token);let f=null;d.aal&&(f=d.aal);let m=f;((i=(a=r.user.factors)===null||a===void 0?void 0:a.filter(w=>w.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const y=d.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async i=>{const{data:{session:r},error:c}=i;return c?this._returnResult({data:null,error:c}):r?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:r.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Bt})})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(a,i){try{return await this._useSession(async r=>{const{data:{session:c},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Bt});const f=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&yt()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(a,i){try{return await this._useSession(async r=>{const{data:{session:c},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Bt});const f=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&yt()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:i},error:r}=a;return r?this._returnResult({data:null,error:r}):i?await ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Bt})})}catch(a){if(ae(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async i=>{const{data:{session:r},error:c}=i;return c?this._returnResult({data:null,error:c}):r?(await ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Bt})})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(a,i={keys:[]}){let r=i.keys.find(m=>m.kid===a);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(m=>m.kid===a),r&&this.jwks_cached_at+Pp>c)return r;const{data:d,error:f}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,r=d.keys.find(m=>m.kid===a),!r)?null:r}async getClaims(a,i={}){try{let r=a;if(!r){const{data:x,error:_}=await this.getSession();if(_||!x.session)return this._returnResult({data:null,error:_});r=x.session.access_token}const{header:c,payload:d,signature:f,raw:{header:m,payload:g}}=Lo(r);i?.allowExpired||bb(d.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!y){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:d,header:c,signature:f},error:null}}const w=_b(c.alg),T=await crypto.subtle.importKey("jwk",y,w,!0,["verify"]);if(!await crypto.subtle.verify(w,T,f,rb(`${m}.${g}`)))throw new nc("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}}Ai.nextInstanceID={};const Wb=Ai;class Fb extends Wb{constructor(a){super(a)}}class e_{constructor(a,i,r){var c,d,f;this.supabaseUrl=a,this.supabaseKey=i;const m=Qp(a);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:qp,realtime:Hp,auth:Object.assign(Object.assign({},Lp),{storageKey:g}),global:Bp},w=Kp(r??{},y);this.storageKey=(c=w.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=w.global.headers)!==null&&d!==void 0?d:{},w.accessToken?(this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(T,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=w.auth)!==null&&f!==void 0?f:{},this.headers,w.global.fetch),this.fetch=Vp(i,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.accessToken&&this.accessToken().then(T=>this.realtime.setAuth(T)).catch(T=>console.warn("Failed to set initial Realtime auth token:",T)),this.rest=new Hv(new URL("rest/v1",m).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),this.storage=new kp(this.storageUrl.href,this.headers,this.fetch,r?.storage),w.accessToken||this._listenForAuthEvents()}get functions(){return new Mv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,i={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,i,r)}channel(a,i={config:{}}){return this.realtime.channel(a,i)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a,i;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(i=(a=r.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:i,detectSessionInUrl:r,storage:c,userStorage:d,storageKey:f,flowType:m,lock:g,debug:y,throwOnError:w},T,b){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fb({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),T),storageKey:f,autoRefreshToken:a,persistSession:i,detectSessionInUrl:r,storage:c,userStorage:d,flowType:m,lock:g,debug:y,throwOnError:w,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new ap(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,r)=>{this._handleTokenChanged(i,"CLIENT",r?.access_token)})}_handleTokenChanged(a,i,r){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const t_=(l,a,i)=>new e_(l,a,i);function n_(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const a=l.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}n_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const a_="https://zopwfborahwrerymgrqz.supabase.co",s_="sb_publishable_SfFwIKtYRd78SBrOUOYnLw_-qe5Z0C5",st=t_(a_,s_),i_=({message:l,type:a="success",onClose:i})=>{F.useEffect(()=>{const c=setTimeout(i,3e3);return()=>clearTimeout(c)},[i]);const r=a==="error";return p.jsxs("div",{className:"fixed bottom-6 right-6 bg-gray-800 text-white px-6 py-4 rounded shadow-lg z-50 flex items-center gap-3 toast-enter",children:[p.jsx("i",{className:`fas ${r?"fa-exclamation-circle text-red-400":"fa-check-circle text-green-400"} text-xl`}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-sm capitalize",children:a}),p.jsx("p",{className:"text-xs text-gray-300",children:l})]}),p.jsx("button",{onClick:i,className:"ml-4 text-gray-400 hover:text-white",children:p.jsx("i",{className:"fas fa-times"})})]})},Km=F.createContext(null),r_=({children:l})=>{const[a,i]=F.useState(null),r=F.useCallback((d,f="info")=>{i({message:d,type:f}),setTimeout(()=>{i(null)},3e3)},[]),c=F.useCallback(()=>{i(null)},[]);return p.jsxs(Km.Provider,{value:{showToast:r,hideToast:c},children:[l,a&&p.jsx(i_,{message:a.message,type:a.type,onClose:c})]})},fl=()=>{const l=F.useContext(Km);if(!l)throw new Error("useToast must be used within a ToastProvider");return l},Qm=F.createContext(),l_=({children:l})=>{const[a,i]=F.useState(()=>localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));F.useEffect(()=>{const c=window.document.documentElement;a==="dark"?c.classList.add("dark"):c.classList.remove("dark"),localStorage.setItem("theme",a)},[a]);const r=()=>{i(c=>c==="dark"?"light":"dark")};return p.jsx(Qm.Provider,{value:{theme:a,toggleTheme:r},children:l})},u_=()=>F.useContext(Qm),Xm="/MMI-LIMS/assets/ktu_mmi-CrP3ebcy.svg",o_=()=>{const[l,a]=F.useState(!1),[i,r]=F.useState(""),[c,d]=F.useState(""),[f,m]=F.useState(""),[g,y]=F.useState(""),[w,T]=F.useState(""),[b,x]=F.useState(!1),{showToast:_}=fl(),D=async N=>{N.preventDefault(),a(!0);try{if(b){const{error:z}=await st.auth.signUp({email:i,password:c,options:{data:{first_name:f,last_name:g,job_title:w,access_level:"user"}}});if(z)throw z;_("Registration successful! Please wait for admin approval.","success")}else{const{error:z}=await st.auth.signInWithPassword({email:i,password:c});if(z)throw z}}catch(z){_(z.message,"error")}finally{a(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 to-blue-700 p-4",children:p.jsxs("div",{className:"bg-white/95 backdrop-blur-sm p-8 rounded-2xl shadow-2xl w-full max-w-md border border-white/20",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"bg-white p-4 rounded-full w-24 h-24 mx-auto mb-4 flex items-center justify-center shadow-md",children:p.jsx("img",{src:Xm,alt:"KTU MMI Logo",className:"h-12 w-auto"})}),p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"MMI-LIMS"}),p.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Institute of Materials Science"})]}),p.jsxs("form",{onSubmit:D,className:"space-y-5",children:[b&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),p.jsx("input",{type:"text",required:!0,value:f,onChange:N=>m(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:"John"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),p.jsx("input",{type:"text",required:!0,value:g,onChange:N=>y(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:"Doe"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Title"}),p.jsx("input",{type:"text",required:!0,value:w,onChange:N=>T(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:"Researcher"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),p.jsx("input",{type:"email",required:!0,value:i,onChange:N=>r(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:"name@example.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),p.jsx("input",{type:"password",required:!0,value:c,onChange:N=>d(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:""})]}),p.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-900 to-blue-800 text-white font-semibold rounded-lg shadow-md hover:from-blue-800 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform transition-all active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed mt-6",children:l?p.jsxs("span",{className:"flex items-center justify-center",children:[p.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):b?"Create Account":"Sign In"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("button",{onClick:()=>x(!b),className:"text-sm text-blue-700 hover:text-blue-900 font-medium transition-colors",children:b?"Already have an account? Sign In":"Need an account? Sign Up"})}),p.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 text-center",children:p.jsx("p",{className:"text-xs text-gray-400",children:"Protected by Supabase Auth"})})]})})},c_=l=>{const[a,i]=l.split(":").map(Number);return a*60+i},ac=l=>{let a=Math.floor(l/60),i=Math.round(l%60);return i===60&&(a+=1,i=0),`${a.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`},Ig=(l,a=30)=>Math.round(l/a)*a,xs=l=>{const a=c_(l);return ac(a+30)},hl=l=>{if(!l.length)return[];const a=g=>g.slice(0,5),i=[],r=[];l.forEach(g=>{g.end_time||g.endTime?i.push({...g,startTime:a(g.time||g.startTime),endTime:a(g.end_time||g.endTime),ids:[g.id]}):r.push(g)});const c=[...r].sort((g,y)=>g.date!==y.date?g.date.localeCompare(y.date):g.tool_id!==y.tool_id?g.tool_id-y.tool_id:a(g.time).localeCompare(a(y.time))),d=[];let f=null;return c.forEach(g=>{const y=a(g.time);if(!f){f={...g,ids:[g.id],endTime:xs(y),startTime:y};return}const w=g.date===f.date,T=g.tool_id===f.tool_id,b=g.user_id===f.user_id,x=g.project===f.project,_=g.created_at===f.created_at,D=y===f.endTime;w&&T&&b&&x&&_&&D?(f.ids.push(g.id),f.endTime=xs(y)):(d.push(f),f={...g,ids:[g.id],endTime:xs(y),startTime:y})}),f&&d.push(f),[...i,...d].sort((g,y)=>g.date!==y.date?g.date.localeCompare(y.date):a(g.startTime).localeCompare(a(y.startTime)))},Jm=(l,a,i=[])=>{const r=f=>{const[m,g]=f.split(":").map(Number);return m*60+g},c=r(l.startTime||l.time),d=r(l.endTime||l.end_time);return a.some(f=>{if(i.includes(f.id)||f.date!==l.date||f.tool_id!==l.tool_id)return!1;let m,g;const y=f.endTime||f.end_time;return y?(m=r(f.startTime||f.time),g=r(y)):(m=r(f.time),g=m+30),c<g&&d>m})},Zm=l=>{if(!l.length)return[];const a=d=>{const[f,m]=d.split(":").map(Number);return f*60+m},i=[...l].sort((d,f)=>{const m=a(d.startTime),g=a(f.startTime);if(m!==g)return m-g;const y=a(d.endTime);return a(f.endTime)-y}),r=[];i.forEach(d=>{const f=a(d.startTime);a(d.endTime);let m=!1;for(let g=0;g<r.length;g++){const y=r[g][r[g].length-1],w=a(y.endTime);if(f>=w){r[g].push(d),d.colIndex=g,m=!0;break}}m||(r.push([d]),d.colIndex=r.length-1)});const c=r.length;return i.map(d=>({...d,width:100/c,left:d.colIndex*(100/c)}))},Im=({status:l})=>{const a={up:{color:"bg-green-500",text:"Available"},down:{color:"bg-red-500",text:"Down"},service:{color:"bg-yellow-500",text:"Service"}},i=a[l]||a.up;return p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:`status-dot ${i.color}`}),p.jsx("span",{className:"text-sm capitalize text-gray-700",children:l})]})},It=48,Go=8,d_=({weekDates:l,existingBookings:a,user:i,isAdmin:r,onInteractionEnd:c,showToast:d})=>{const[f,m]=F.useState(null),g=F.useRef(null),y=T=>{try{return T.toISOString().split("T")[0]}catch{return""}},w=(T,b,x)=>{T.stopPropagation();const _=b.user_id===i.id;if(!r&&!_){d("You can only edit your own bookings.","error");return}const D=new Date;if(new Date(`${b.date}T${b.endTime}`)<D){d("Cannot modify past bookings.","error");return}const z=T.currentTarget.parentElement.getBoundingClientRect(),V=parseInt(b.startTime.split(":")[0]),q=parseInt(b.startTime.split(":")[1]),G=parseInt(b.endTime.split(":")[0]),ie=parseInt(b.endTime.split(":")[1]),ne=(V-Go)*60+q,Te=(G-Go)*60+ie-ne,Oe=ne/30*It,Me=Te/30*It,Be={type:x,bookingId:b.ids[0],originalBooking:b,startY:T.clientY,startX:T.clientX,initialTop:Oe,initialHeight:Me,currentTop:Oe,currentHeight:Me,currentDate:b.date,dayWidth:z.width,isValid:!0,hasMoved:!1};g.current=Be};return F.useEffect(()=>{const T=x=>{if(!g.current)return;const _=g.current;if(!_.hasMoved){if(Math.sqrt(Math.pow(x.clientX-_.startX,2)+Math.pow(x.clientY-_.startY,2))<5)return;_.hasMoved=!0,m(_)}const D=x.clientY-_.startY,N=x.clientX-_.startX,z=Math.round(D/It)*It;let V=0;_.type==="move"&&(V=Math.round(N/_.dayWidth));let q=_.initialTop,G=_.initialHeight,ie=_.currentDate,ne=_.initialTop,Q=_.initialHeight;if(_.type==="move"){q+=z,ne=q;const K=l.findIndex(J=>y(J)===_.originalBooking.date)+V;K>=0&&K<7&&(ie=y(l[K]))}else _.type==="resize-bottom"?(G+=z,Q=G):_.type==="resize-top"&&(q+=z,G-=z,ne=q,Q=G);if(G<It){const M=It-G;G=It,_.type==="resize-top"&&(q-=M)}if(Q<It){const M=It-Q;Q=It,_.type==="resize-top"&&(ne-=M)}const Te=q/It*30,Oe=G/It*30,Me=Ig(Go*60+Te),Be=Ig(Me+Oe),De=ac(Me),lt=ac(Be),Ve=new Date,Z=new Date(`${ie}T${De}`),A=Me>=480&&Be<=1200,$=Z>=Ve,X=!(new Date(`${_.originalBooking.date}T${_.originalBooking.startTime}`)<=Ve&&new Date(`${_.originalBooking.date}T${_.originalBooking.endTime}`)>Ve)||new Date(`${ie}T${lt}`)>Ve;let ce=A&&$&&X;if(ce){const M={date:ie,startTime:De,endTime:lt,tool_id:_.originalBooking.tool_id},K=_.originalBooking.ids||[_.originalBooking.id];Jm(M,a,K)&&(ce=!1,console.log("Validation failed: Collision detected",{tempBooking:M,ignoredIds:K}))}else console.log("Validation failed:",{isValidTime:A,isFuture:$,isEndTimeValid:X,newDate:ie,newStartTime:De,now:Ve.toISOString(),startDateTime:Z.toISOString()});const E={..._,currentTop:_.type==="move"||_.type==="resize-top"?ne:_.initialTop,currentHeight:Q,currentDate:ie,isValid:ce,newStartTime:De,newEndTime:lt};g.current=E,m(E)},b=()=>{if(!g.current)return;const x=g.current;if(x.hasMoved&&x.isValid){const _={...x.originalBooking,date:x.currentDate,startTime:x.newStartTime,endTime:x.newEndTime,time:x.newStartTime,end_time:x.newEndTime};c(_)}x.hasMoved?setTimeout(()=>{m(null),g.current=null},100):(m(null),g.current=null)};return window.addEventListener("mousemove",T),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",b)}},[l,a,c,d]),{interaction:f,startInteraction:w}},f_=({tool:l,user:a,profile:i,onClose:r,onConfirm:c,onUpdate:d,existingBookings:f=[],initialDate:m})=>{const[g,y]=F.useState(()=>{const Y=m?new Date(m):new Date,te=Y.getDay(),re=Y.getDate()-te+(te===0?-6:1),ye=new Date(Y);return ye.setDate(re),ye}),[w,T]=F.useState([]),[b,x]=F.useState(!1),[_,D]=F.useState(null),[N,z]=F.useState("General"),[V,q]=F.useState(!1),G=F.useRef(null),{showToast:ie}=fl(),ne=i?.access_level==="admin",Q=Array.isArray(i?.licenses)?i.licenses.includes(l.id):!1,Te=l.status==="up",Oe=ne||Q&&Te,Me=F.useMemo(()=>{const Y=[];try{for(let te=0;te<7;te++){const re=new Date(g);re.setDate(g.getDate()+te),Y.push(re)}}catch(te){console.error("Error generating week dates",te)}return Y},[g]),Be=F.useMemo(()=>{const Y=[];for(let te=8;te<20;te++){const re=te<10?"0"+te:te;Y.push(`${re}:00`),Y.push(`${re}:30`)}return Y},[]),De=Y=>{try{return Y.toISOString().split("T")[0]}catch{return""}},lt=Y=>{try{return Y.toLocaleDateString("en-US",{weekday:"short",month:"numeric",day:"numeric"})}catch{return"Invalid Date"}},Ve=Y=>{const[te,re]=Y.split(":").map(Number);return te*60+re},Z=(Y,te)=>{const re=new Date;return new Date(`${Y}T${te}`)<re},A=(Y,te)=>{const re=Ve(te),ye=re+30;return f.some(Ne=>{if(Ne.date!==Y||Ne.tool_id!==l.id)return!1;const Ye=Ve(Ne.startTime||Ne.time);let ge;const pe=Ne.endTime||Ne.end_time;return pe?ge=Ve(pe):ge=Ye+30,re<ge&&ye>Ye})},$=F.useMemo(()=>{if(!_)return f;const Y=_.ids||[_.id],te=Y[0];return te?f.map(ye=>ye.id===te?_:Y.includes(ye.id)?null:ye).filter(Boolean):f},[f,_]),I=F.useMemo(()=>{const Y=$.filter(te=>te.tool_id===l.id);return hl(Y)},[$,l.id]),{interaction:X,startInteraction:ce}=d_({weekDates:Me,existingBookings:$,user:a,isAdmin:ne,onInteractionEnd:Y=>{console.log("onInteractionEnd called with:",Y),D(Y)},showToast:ie}),E=48,M=8,K=Y=>{const te=parseInt(Y.startTime.split(":")[0]),re=parseInt(Y.startTime.split(":")[1]),ye=parseInt(Y.endTime.split(":")[0]),Ne=parseInt(Y.endTime.split(":")[1]),Ye=(te-M)*60+re,pe=(ye-M)*60+Ne-Ye,bt=Ye/30*E,Le=pe/30*E;return{top:`${bt}px`,height:`${Le-1}px`,left:Y.left!==void 0?`${Y.left}%`:"2px",width:Y.width!==void 0?`${Y.width}%`:"calc(100% - 4px)",position:"absolute",zIndex:10}},J=(Y,te)=>{if(Y.stopPropagation(),X){console.log("handleBookingClick blocked by interaction");return}console.log("handleBookingClick fired",te);const re=te.user_id===a.id;if(!ne&&!re)return;const ye=te.ids[0],Ne={...te,id:ye};D(Ne),z(te.project),T([])},oe=()=>{D(null)},de=(Y,te)=>{if(!Oe)return;const re=Be[te];if(A(Y,re))return;if(Z(Y,re)){ie("Cannot book in the past.","error");return}q(!0);const ye=Me.findIndex(Ye=>De(Ye)===Y),Ne={startDIndex:ye,startTIndex:te,currentDIndex:ye,currentTIndex:te};G.current=Ne,We(Ne)},ve=(Y,te)=>{if(V&&G.current){const re=Me.findIndex(ye=>De(ye)===Y);G.current.currentDIndex=re,G.current.currentTIndex=te,We(G.current)}},We=Y=>{const te=Math.min(Y.startDIndex,Y.currentDIndex),re=Math.max(Y.startDIndex,Y.currentDIndex),ye=Math.min(Y.startTIndex,Y.currentTIndex),Ne=Math.max(Y.startTIndex,Y.currentTIndex),Ye=[];for(let ge=te;ge<=re;ge++)for(let pe=ye;pe<=Ne;pe++){const bt=De(Me[ge]),Le=Be[pe];!A(bt,Le)&&!Z(bt,Le)&&Ye.push({date:bt,time:Le})}T(Ye)},Qe=(Y,te,re)=>{if(!Oe)return;const ye=Be[re];if(A(te,ye))return;if(Z(te,ye)){ie("Cannot book in the past.","error");return}q(!0);const Ne=Me.findIndex(ge=>De(ge)===te),Ye={startDIndex:Ne,startTIndex:re,currentDIndex:Ne,currentTIndex:re};G.current=Ye,We(Ye)},aa=Y=>{if(!V||!G.current)return;const te=Y.touches[0],re=document.elementFromPoint(te.clientX,te.clientY);if(re&&re.dataset.date&&re.dataset.timeindex){const ye=re.dataset.date,Ne=parseInt(re.dataset.timeindex,10),Ye=Me.findIndex(ge=>De(ge)===ye);Ye!==-1&&(Ye!==G.current.currentDIndex||Ne!==G.current.currentTIndex)&&(G.current.currentDIndex=Ye,G.current.currentTIndex=Ne,We(G.current))}},Na=()=>{V&&(q(!1),G.current=null)};F.useEffect(()=>{const Y=async()=>{V&&(q(!1),G.current=null)};return window.addEventListener("mouseup",Y),()=>{window.removeEventListener("mouseup",Y)}},[V]);const Os=()=>{const Y=new Date(g);Y.setDate(Y.getDate()-7),y(Y),T([])},Ri=()=>{const Y=new Date(g);Y.setDate(Y.getDate()+7),y(Y),T([])},un=async()=>{if(_){x(!0);const ge=_.ids||[_.id],pe={..._,project:N};await d(ge,pe),x(!1),D(null);return}if(w.length===0){ie("Please select at least one time slot.","error");return}x(!0);const Y=new Date().toISOString(),te=[...w].sort((ge,pe)=>ge.date!==pe.date?ge.date.localeCompare(pe.date):ge.time.localeCompare(pe.time)),re=[];let ye=null;te.forEach(ge=>{if(!ye){ye={date:ge.date,startTime:ge.time,endTime:xs(ge.time)};return}const pe=ge.date===ye.date,bt=ge.time===ye.endTime;pe&&bt?ye.endTime=xs(ge.time):(re.push(ye),ye={date:ge.date,startTime:ge.time,endTime:xs(ge.time)})}),ye&&re.push(ye);const Ne=re.map(ge=>({tool_id:l.id,tool_name:l.name,user_id:a.id,user_name:i?`${i.first_name} ${i.last_name}`:a.email,project:N,date:ge.date,time:ge.startTime,end_time:ge.endTime,created_at:Y}));if(Ne.some(ge=>Jm(ge,f))){ie("One or more selected slots are already booked.","error"),x(!1);return}await c(Ne),x(!1),T([])};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-5xl h-[90vh] flex flex-col overflow-hidden m-4",children:[p.jsxs("div",{className:"bg-blue-900 text-white p-4 flex justify-between items-center shrink-0",children:[p.jsxs("h2",{className:"text-xl font-bold",children:[p.jsx("i",{className:"fas fa-calendar-alt mr-2"}),"Weekly Schedule"]}),p.jsx("button",{onClick:r,className:"hover:text-gray-300",children:p.jsx("i",{className:"fas fa-times text-xl"})})]}),p.jsxs("div",{className:"p-4 border-b bg-gray-50 flex flex-col sm:flex-row justify-between items-center shrink-0 gap-4 sm:gap-0",children:[p.jsxs("div",{className:"text-center sm:text-left",children:[p.jsx("h3",{className:"font-bold text-lg text-gray-800",children:l.name}),p.jsxs("div",{className:"flex gap-2 text-sm mt-1 justify-center sm:justify-start",children:[p.jsx(Im,{status:l.status}),Q?p.jsx("span",{className:"text-green-700 bg-green-100 px-2 rounded font-bold",children:"Licensed"}):p.jsx("span",{className:"text-red-700 bg-red-100 px-2 rounded font-bold",children:"No License"})]})]}),p.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 w-full sm:w-auto justify-between sm:justify-end",children:[p.jsx("button",{onClick:Os,className:"p-2 hover:bg-gray-200 rounded",children:p.jsx("i",{className:"fas fa-chevron-left"})}),p.jsxs("div",{className:"font-bold text-gray-700 w-full sm:w-48 text-center text-sm sm:text-base",children:[Me[0].toLocaleDateString()," - ",Me[6].toLocaleDateString()]}),p.jsx("button",{onClick:Ri,className:"p-2 hover:bg-gray-200 rounded",children:p.jsx("i",{className:"fas fa-chevron-right"})})]})]}),!Oe&&p.jsx("div",{className:"bg-red-50 border-b border-red-200 p-2 text-center text-red-700 text-sm font-bold shrink-0",children:Te?"You do not have a license for this tool.":"Tool is currently down for maintenance."}),p.jsx("div",{className:"flex-1 overflow-auto custom-scroll relative select-none",children:p.jsxs("div",{className:"min-w-[800px] flex",children:[p.jsxs("div",{className:"w-[50px] shrink-0 bg-gray-50 border-r sticky left-0 z-30",children:[p.jsx("div",{className:"h-10 border-b bg-gray-50"}),Be.map(Y=>p.jsx("div",{className:"h-12 border-b text-right pr-2 text-xs text-gray-500 font-mono flex items-center justify-end",children:Y},Y))]}),p.jsx("div",{className:"flex-1 flex",children:Me.map((Y,te)=>{const re=De(Y),ye=I.filter(pe=>pe.date===re),Ne=Zm(ye),Ye=X&&X.currentDate===re,ge=X&&X.originalBooking;return p.jsxs("div",{className:"flex-1 min-w-[100px] border-r last:border-0 relative",children:[p.jsx("div",{className:"h-10 border-b bg-gray-50 text-center font-semibold text-gray-700 text-sm flex items-center justify-center sticky top-0 z-20",children:lt(Y)}),p.jsxs("div",{className:"relative",children:[Be.map((pe,bt)=>{const Le=w.some(ct=>ct.date===re&&ct.time===pe),An=Z(re,pe);return p.jsx("div",{"data-date":re,"data-timeindex":bt,className:`h-12 border-b ${Le?"bg-blue-200":""} ${An?"bg-gray-100 cursor-not-allowed":""} touch-none`,onMouseDown:()=>de(re,bt),onMouseEnter:()=>ve(re,bt),onTouchStart:ct=>Qe(ct,re,bt),onTouchMove:aa,onTouchEnd:Na},pe)}),Ne.map(pe=>{if(X&&X.bookingId===pe.ids[0])return null;const Le=pe.user_id===a.id,An=ne||Le;return p.jsxs("div",{className:`absolute border rounded p-1 text-xs overflow-hidden transition-shadow group 
                                                            ${Le?"bg-blue-100 border-blue-300":"bg-gray-100 border-gray-300"}
                                                            ${An?"hover:z-10 hover:shadow-md cursor-pointer":""}
                                                            ${_&&_.id===pe.ids[0]?"ring-2 ring-blue-500 z-20":""}
                                                            `,style:K(pe),onMouseDown:ct=>An&&ce(ct,pe,"move"),onClick:ct=>J(ct,pe),title:`Booked by: ${pe.user_name}
Project: ${pe.project}`,children:[An&&p.jsx("div",{className:"absolute top-0 left-0 right-0 h-3 z-20 cursor-ns-resize opacity-0 group-hover:opacity-100 bg-blue-400/20",onMouseDown:ct=>{ct.stopPropagation(),ce(ct,pe,"resize-top")}}),p.jsx("div",{className:`font-bold truncate pointer-events-none ${Le?"text-blue-900":"text-gray-800"}`,children:pe.user_name}),p.jsx("div",{className:`truncate text-[10px] pointer-events-none ${Le?"text-blue-700":"text-gray-600"}`,children:pe.project}),An&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 z-20 cursor-ns-resize opacity-0 group-hover:opacity-100 bg-blue-400/20",onMouseDown:ct=>{ct.stopPropagation(),ce(ct,pe,"resize-bottom")}})]},pe.ids[0])}),Ye&&p.jsxs("div",{className:`absolute border border-dashed rounded p-1 text-xs overflow-hidden z-50 opacity-80 pointer-events-none
                                                        ${X.isValid?"bg-blue-200 border-blue-500":"bg-red-200 border-red-500"}`,style:{top:`${X.currentTop}px`,height:`${X.currentHeight-1}px`,left:"2px",right:"2px"},children:[p.jsx("div",{className:`font-bold truncate ${X.isValid?"text-blue-900":"text-red-900"}`,children:ge.user_name}),p.jsx("div",{className:`truncate text-[10px] ${X.isValid?"text-blue-700":"text-red-700"}`,children:ge.project})]})]})]},te)})})]})}),p.jsxs("div",{className:"p-4 border-t bg-white flex flex-col-reverse sm:flex-row justify-end gap-3 shrink-0 z-30",children:[p.jsxs("div",{className:"mr-auto flex flex-wrap items-center gap-4 text-sm mb-2 sm:mb-0",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-4 h-4 bg-white border"})," Available"]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-4 h-4 bg-blue-200 rounded"})," Selected"]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-4 h-4 bg-blue-100 border border-blue-300 rounded"})," My Booking"]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-4 h-4 bg-gray-100 border border-gray-300 rounded"})," Other's Booking"]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Project:"}),p.jsxs("select",{value:N,onChange:Y=>z(Y.target.value),className:"border rounded p-1 text-sm focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"General",children:"General"}),i?.projects?.map((Y,te)=>p.jsx("option",{value:Y,children:Y},te))]})]}),p.jsx("button",{onClick:_?oe:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded",children:"Cancel"}),p.jsxs("button",{disabled:w.length===0&&!_||b,onClick:un,className:`px-6 py-2 rounded text-white font-bold transition flex items-center gap-2 ${w.length===0&&!_||b?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:[b&&p.jsx("i",{className:"fas fa-spinner fa-spin"}),b?_?"Updating...":"Booking...":_?"Update Booking":"Confirm Booking"]})]})]})})},Pg=({toolsList:l,title:a,profile:i,onStatusChange:r,onBook:c})=>p.jsxs("div",{className:"bg-white rounded shadow-sm overflow-x-auto border mb-8",children:[p.jsxs("div",{className:"p-4 bg-gray-50 border-b font-bold text-gray-700",children:[a," (",l.length,")"]}),p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{className:"bg-gray-50 border-b",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 font-semibold text-gray-600",children:"ID"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600",children:"Name"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600",children:"Category"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600",children:"Status"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600",children:"License"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 text-right",children:"Action"})]})}),p.jsx("tbody",{children:l.map(d=>p.jsxs("tr",{className:"tool-row border-b last:border-0 transition",children:[p.jsx("td",{className:"p-4 text-gray-500 font-mono text-sm",children:d.id}),p.jsxs("td",{className:"p-4",children:[p.jsx("div",{className:"font-bold text-gray-800",children:d.name}),p.jsx("div",{className:"text-xs text-gray-500",children:d.description})]}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs font-semibold",children:d.category})}),p.jsx("td",{className:"p-4",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Im,{status:d.status}),i?.access_level==="admin"&&p.jsxs("select",{value:d.status,onChange:f=>r(d.id,f.target.value),className:"text-xs border rounded p-1 bg-white",onClick:f=>f.stopPropagation(),children:[p.jsx("option",{value:"up",children:"Up"}),p.jsx("option",{value:"down",children:"Down"}),p.jsx("option",{value:"service",children:"Service"})]})]})}),p.jsx("td",{className:"p-4",children:d.license_req?i?.licenses?.includes(d.id)?p.jsxs("span",{className:"text-green-700 font-bold flex items-center gap-1 text-sm",children:[p.jsx("i",{className:"fas fa-check-circle"})," Active"]}):p.jsxs("span",{className:"text-gray-400 flex items-center gap-1 text-sm",children:[p.jsx("i",{className:"fas fa-times-circle"})," Missing"]}):p.jsx("span",{className:"text-green-600 text-xs font-bold bg-green-50 px-2 py-1 rounded",children:"Not Required"})}),p.jsx("td",{className:"p-4 text-right",children:p.jsx("button",{onClick:()=>c(d),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-sm font-medium shadow-sm",children:"Book"})})]},d.id))})]}),l.length===0&&p.jsx("div",{className:"p-8 text-center text-gray-500",children:"No tools found in this section."})]}),h_=({tools:l,profile:a,onStatusChange:i,onBook:r})=>{const[c,d]=F.useState("All"),[f,m]=F.useState(""),g=F.useMemo(()=>{const b=new Set(l.map(x=>x.category));return["All",...Array.from(b).sort()]},[l]),y=l.filter(b=>{const x=c==="All"||b.category===c,_=b.name.toLowerCase().includes(f.toLowerCase())||b.id.toString().includes(f);return x&&_}),w=y.filter(b=>!b.license_req||a?.licenses?.includes(b.id)),T=y.filter(b=>b.license_req&&!a?.licenses?.includes(b.id));return p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white p-4 rounded shadow-sm",children:[p.jsx("div",{className:"flex-1",children:p.jsx("input",{type:"text",placeholder:"Search tool name or ID...",className:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none",value:f,onChange:b=>m(b.target.value)})}),p.jsx("select",{className:"border p-2 rounded",value:c,onChange:b=>d(b.target.value),children:g.map(b=>p.jsx("option",{value:b,children:b},b))})]}),p.jsx(Pg,{toolsList:w,title:"My Authorized Tools",profile:a,onStatusChange:i,onBook:r}),p.jsx(Pg,{toolsList:T,title:"Other Tools",profile:a,onStatusChange:i,onBook:r})]})},Vo=({bookings:l,onCancel:a,onUpdate:i,onEdit:r,allBookings:c,isAdminView:d=!1,readOnly:f=!1})=>{const m=F.useMemo(()=>hl(l),[l]);return p.jsx("div",{className:"space-y-6",children:m.length===0?p.jsx("p",{className:"text-gray-500",children:d?"No bookings found in the system.":"No bookings found."}):p.jsx("div",{className:"space-y-2",children:m.map(g=>p.jsxs("div",{className:`bg-white p-4 rounded shadow-sm border flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0 ${f?"opacity-75 bg-gray-50":""}`,children:[p.jsxs("div",{children:[p.jsx("div",{className:`font-bold ${f?"text-gray-700":"text-blue-900"}`,children:g.tool_name}),p.jsxs("div",{className:"text-sm text-gray-600",children:[d&&p.jsxs("span",{className:"font-semibold text-gray-800 mr-1",children:[g.user_name," |"]}),g.date," | ",g.startTime," - ",g.endTime]}),d&&p.jsxs("div",{className:"text-xs text-gray-500",children:["Project: ",g.project]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>r(g),disabled:f,className:`text-sm font-semibold border px-3 py-1 rounded ${f?"text-gray-400 border-gray-200 cursor-not-allowed":"text-blue-600 hover:text-blue-800 border-blue-200 hover:bg-blue-50"}`,children:"Edit"}),p.jsx("button",{onClick:()=>a(g.ids),disabled:f,className:`text-sm font-semibold border px-3 py-1 rounded ${f?"text-gray-400 border-gray-200 cursor-not-allowed":"text-red-500 hover:text-red-700 border-red-200 hover:bg-red-50"}`,children:d?"Delete":"Cancel"})]})]},g.ids[0]))})})},g_=({bookings:l,currentWeekStart:a,onWeekChange:i,onBookingClick:r})=>{const c=F.useMemo(()=>{const _=[];try{for(let D=0;D<7;D++){const N=new Date(a);N.setDate(a.getDate()+D),_.push(N)}}catch(D){console.error("Error generating week dates",D)}return _},[a]),d=F.useMemo(()=>{const _=[];for(let D=8;D<20;D++){const N=D<10?"0"+D:D;_.push(`${N}:00`),_.push(`${N}:30`)}return _},[]),f=_=>{try{return _.toISOString().split("T")[0]}catch{return""}},m=_=>{try{return _.toLocaleDateString("en-US",{weekday:"short",month:"numeric",day:"numeric"})}catch{return"Invalid Date"}},g=F.useMemo(()=>hl(l),[l]),y=48,w=8,T=_=>{const D=parseInt(_.startTime.split(":")[0]),N=parseInt(_.startTime.split(":")[1]),z=parseInt(_.endTime.split(":")[0]),V=parseInt(_.endTime.split(":")[1]),q=(D-w)*60+N,ie=(z-w)*60+V-q,ne=q/30*y,Q=ie/30*y;return{top:`${ne}px`,height:`${Q-1}px`,left:_.left!==void 0?`${_.left}%`:"2px",width:_.width!==void 0?`${_.width}%`:"calc(100% - 4px)",position:"absolute",zIndex:10}},b=()=>{const _=new Date(a);_.setDate(_.getDate()-7),i(_)},x=()=>{const _=new Date(a);_.setDate(_.getDate()+7),i(_)};return p.jsxs("div",{className:"bg-white rounded-lg shadow-sm border flex flex-col overflow-hidden h-[600px]",children:[p.jsx("div",{className:"p-1 border-b bg-gray-50 flex justify-between items-center shrink-0",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:b,className:"p-2 hover:bg-gray-200 rounded",children:p.jsx("i",{className:"fas fa-chevron-left"})}),p.jsxs("div",{className:"font-bold text-gray-700 w-48 text-center",children:[c[0].toLocaleDateString()," - ",c[6].toLocaleDateString()]}),p.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-200 rounded",children:p.jsx("i",{className:"fas fa-chevron-right"})})]})}),p.jsx("div",{className:"flex-1 overflow-auto custom-scroll relative select-none",children:p.jsxs("div",{className:"min-w-[800px] flex",children:[p.jsxs("div",{className:"w-[50px] shrink-0 bg-gray-50 border-r sticky left-0 z-30",children:[p.jsx("div",{className:"h-10 border-b bg-gray-50"})," ",d.map(_=>p.jsx("div",{className:"h-12 border-b text-right pr-2 text-xs text-gray-500 font-mono flex items-center justify-end",children:_},_))]}),p.jsx("div",{className:"flex-1 flex",children:c.map((_,D)=>{const N=f(_),z=g.filter(q=>q.date===N),V=Zm(z);return p.jsxs("div",{className:"flex-1 min-w-[100px] border-r last:border-0 relative",children:[p.jsx("div",{className:"h-10 border-b bg-gray-50 text-center font-semibold text-gray-700 text-sm flex items-center justify-center sticky top-0 z-20",children:m(_)}),p.jsxs("div",{className:"relative",children:[d.map(q=>p.jsx("div",{className:"h-12 border-b"},q)),V.map(q=>p.jsxs("div",{className:"absolute bg-blue-100 border border-blue-300 rounded p-1 text-xs overflow-hidden transition-shadow hover:z-10 hover:shadow-md cursor-pointer",style:T(q),onClick:()=>r&&r(q),title:"Click to edit booking",children:[p.jsx("div",{className:"font-bold text-blue-900 truncate pointer-events-none",children:q.tool_name}),p.jsx("div",{className:"text-blue-700 truncate text-[10px] pointer-events-none",children:q.project}),p.jsxs("div",{className:"text-blue-600 text-[10px] pointer-events-none",children:[q.startTime," - ",q.endTime]})]},q.ids[0]))]})]},D)})})]})})]})},m_=({tools:l,currentUser:a,onProfileUpdate:i})=>{const[r,c]=F.useState([]),[d,f]=F.useState(null),{showToast:m}=fl();F.useEffect(()=>{(async()=>{console.log("Fetching all users...");const{data:x,error:_}=await st.from("profiles").select("*").order("last_name",{ascending:!0});_?(console.error("Error fetching users:",_),m("Failed to fetch users","error")):(console.log("Fetched users:",x),c(x))})()},[m]);const g=async(b,x)=>{const _=r.find(z=>z.id===b);if(!_)return;const D=_.licenses||[];let N;D.includes(x)?N=D.filter(z=>z!==x):N=[...D,x];try{console.log(`Updating licenses for user ${b} to:`,N);const{data:z,error:V}=await st.from("profiles").update({licenses:N}).eq("id",b).select();if(V)throw console.error("Supabase update error:",V),V;console.log("Supabase update success:",z),c(r.map(q=>q.id===b?{...q,licenses:N}:q)),d?.id===b&&f({...d,licenses:N}),a&&a.id===b&&i&&i(),m("Licenses updated successfully.")}catch(z){console.error("Error updating licenses:",z),m("Failed to update licenses: "+z.message,"error")}},y=async b=>{try{const{error:x}=await st.from("profiles").update({is_approved:!0}).eq("id",b);if(x)throw x;c(r.map(_=>_.id===b?{..._,is_approved:!0}:_)),m("User approved successfully.")}catch(x){console.error("Error approving user:",x),m("Failed to approve user: "+x.message,"error")}},w=async(b,x)=>{const _=r.find(z=>z.id===b);if(!_)return;const D=_.projects||[];if(D.includes(x)){m("Project already assigned.","error");return}const N=[...D,x];try{const{error:z}=await st.from("profiles").update({projects:N}).eq("id",b);if(z)throw z;c(r.map(V=>V.id===b?{...V,projects:N}:V)),d?.id===b&&f({...d,projects:N}),a&&a.id===b&&i&&i(),m("Project added successfully.")}catch(z){console.error("Error adding project:",z),m("Failed to add project: "+z.message,"error")}},T=async(b,x)=>{const _=r.find(N=>N.id===b);if(!_)return;const D=(_.projects||[]).filter(N=>N!==x);try{const{error:N}=await st.from("profiles").update({projects:D}).eq("id",b);if(N)throw N;c(r.map(z=>z.id===b?{...z,projects:D}:z)),d?.id===b&&f({...d,projects:D}),a&&a.id===b&&i&&i(),m("Project removed successfully.")}catch(N){console.error("Error removing project:",N),m("Failed to remove project: "+N.message,"error")}};return p.jsxs("div",{className:"space-y-6",children:[p.jsx("h3",{className:"font-bold text-gray-800",children:"User Management"}),p.jsx("div",{className:"bg-white rounded shadow-sm overflow-hidden border",children:p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{className:"bg-gray-50 border-b",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 font-semibold text-gray-600",children:"Name"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600",children:"Job Title"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600",children:"Access"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600",children:"Status"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600",children:"Licenses"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 text-right",children:"Action"})]})}),p.jsx("tbody",{children:r.map(b=>p.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50 transition",children:[p.jsxs("td",{className:"p-4 font-bold text-gray-800",children:[b.first_name," ",b.last_name]}),p.jsx("td",{className:"p-4 text-gray-600",children:b.job_title}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${b.access_level==="admin"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:b.access_level})}),p.jsx("td",{className:"p-4",children:b.is_approved?p.jsx("span",{className:"px-2 py-1 rounded text-xs font-bold uppercase bg-green-100 text-green-700",children:"Active"}):p.jsx("button",{onClick:()=>y(b.id),className:"px-2 py-1 rounded text-xs font-bold uppercase bg-yellow-100 text-yellow-700 hover:bg-yellow-200",children:"Approve"})}),p.jsx("td",{className:"p-4 text-gray-600",children:b.licenses?.length||0}),p.jsx("td",{className:"p-4 text-right",children:p.jsx("button",{onClick:()=>f(d?.id===b.id?null:b),className:"text-blue-600 hover:text-blue-800 font-semibold text-sm",children:d?.id===b.id?"Close":"Manage"})})]},b.id))})]})}),d&&p.jsxs("div",{className:"bg-white p-6 rounded shadow-sm border border-blue-200 animate-fade-in",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h4",{className:"font-bold text-lg text-gray-800",children:["Manage ",d.first_name," ",d.last_name]}),p.jsx("button",{onClick:()=>f(null),className:"text-gray-500 hover:text-gray-700",children:p.jsx("i",{className:"fas fa-times"})})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("h5",{className:"font-semibold text-gray-700 mb-2",children:"Tool Licenses"}),p.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-60 overflow-y-auto pr-2",children:l.map(b=>{const x=d.licenses?.includes(b.id);return p.jsxs("div",{className:`p-2 rounded border flex items-center justify-between cursor-pointer transition text-sm ${x?"bg-green-50 border-green-200":"bg-gray-50 hover:bg-gray-100"}`,onClick:()=>g(d.id,b.id),children:[p.jsx("span",{className:"font-medium text-gray-700",children:b.name}),x?p.jsx("i",{className:"fas fa-check-circle text-green-600"}):p.jsx("i",{className:"far fa-circle text-gray-400"})]},b.id)})})]}),p.jsxs("div",{children:[p.jsx("h5",{className:"font-semibold text-gray-700 mb-2",children:"Assigned Projects"}),p.jsxs("div",{className:"flex gap-2 mb-2",children:[p.jsx("input",{type:"text",placeholder:"New Project Name",className:"flex-1 border rounded px-2 py-1 text-sm",onKeyDown:b=>{if(b.key==="Enter"){const x=b.target.value.trim();x&&(w(d.id,x),b.target.value="")}},id:"new-project-input"}),p.jsx("button",{onClick:()=>{const b=document.getElementById("new-project-input"),x=b.value.trim();x&&(w(d.id,x),b.value="")},className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"Add"})]}),p.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:[(!d.projects||d.projects.length===0)&&p.jsx("div",{className:"text-gray-400 text-sm italic",children:"No projects assigned."}),d.projects?.map((b,x)=>p.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded border text-sm",children:[p.jsx("span",{className:"text-gray-700",children:b}),p.jsx("button",{onClick:()=>T(d.id,b),className:"text-red-500 hover:text-red-700",children:p.jsx("i",{className:"fas fa-trash-alt"})})]},x))]})]})]})]})]})},y_=({bookings:l,currentWeekStart:a})=>{const i=F.useMemo(()=>{if(!a)return[];const r=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],c=new Array(7).fill(0),d=new Date(a);d.setHours(0,0,0,0);const f=new Date(d);f.setDate(d.getDate()+6),f.setHours(23,59,59,999),l.forEach(g=>{const y=new Date(g.date);if(y>=d&&y<=f){let w=y.getDay()-1;w===-1&&(w=6),w>=0&&w<7&&c[w]++}});const m=Math.max(...c,1);return r.map((g,y)=>({day:g,count:c[y],height:c[y]/m*100}))},[l,a]);return p.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border dark:border-gray-700 transition-colors",children:p.jsx("div",{className:"flex justify-between h-32 gap-2",children:i.map((r,c)=>p.jsxs("div",{className:"flex flex-col items-center flex-1 h-full justify-end group",children:[p.jsx("div",{className:"relative w-full flex justify-center items-end flex-1",children:p.jsx("div",{className:"w-full max-w-[30px] bg-blue-600 dark:bg-blue-500 rounded-t transition-all group-hover:bg-blue-700 dark:group-hover:bg-blue-400 relative",style:{height:`${r.height}%`},children:p.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:r.count})})}),p.jsx("div",{className:"text-xs text-gray-400 mt-2 font-medium",children:r.day})]},c))})})},v_=({user:l,onLogout:a})=>{const[i,r]=F.useState("dashboard"),[c,d]=F.useState([]),[f,m]=F.useState([]),[g,y]=F.useState(null),[w,T]=F.useState(null),[b,x]=F.useState(null),[_,D]=F.useState(!0),[N,z]=F.useState(!1),[V,q]=F.useState(()=>{const Z=new Date,A=Z.getDay(),$=Z.getDate()-A+(A===0?-6:1);return new Date(Z.setDate($))}),{showToast:G}=fl(),{theme:ie,toggleTheme:ne}=u_();F.useEffect(()=>{(async()=>{D(!0);try{const{data:A,error:$}=await st.from("tools").select("*").order("id",{ascending:!0});if($)throw $;A&&d(A);const{data:I,error:X}=await st.from("profiles").select("*").eq("id",l.id).single();if(X&&X.code!=="PGRST116")throw X;I&&y(I);const{data:ce,error:E}=await st.from("bookings").select("*");if(E)throw E;ce&&m(ce)}catch(A){console.error("Error fetching data:",A),G("Error fetching data: "+A.message,"error")}finally{D(!1)}})()},[l.id,G]);const Q=f.filter(Z=>Z.user_id===l.id);F.useMemo(()=>hl(Q),[f,l.id]);const Te=F.useMemo(()=>{const Z=new Set,A=[],$=[...Q].sort((I,X)=>new Date(X.created_at)-new Date(I.created_at));for(const I of $){if(!Z.has(I.tool_id)){Z.add(I.tool_id);const X=c.find(ce=>ce.id===I.tool_id);X&&A.push(X)}if(A.length>=3)break}return A},[Q,c]),Oe=async Z=>{const A=Array.isArray(Z)?Z:[Z],$=new Date;if(A.some(X=>new Date(`${X.date}T${X.end_time||X.endTime}`)<$)){G("Cannot create bookings in the past.","error");return}try{const{data:X,error:ce}=await st.from("bookings").insert(A).select();if(ce)throw ce;m([...f,...X]),T(null),x(null),G(`Successfully created ${X.length} booking(s).`)}catch(X){console.error("Error creating booking:",X),G("Failed to create booking: "+X.message,"error")}},Me=async Z=>{if(confirm("Are you sure you want to cancel this booking?"))try{const{error:A}=await st.from("bookings").delete().in("id",Z);if(A)throw A;m(f.filter($=>!Z.includes($.id))),G("Booking has been cancelled.")}catch(A){console.error("Error cancelling booking:",A),G("Failed to cancel booking.","error")}},Be=async(Z,A)=>{try{const $=Z[0];if(!$)throw new Error("No booking ID provided for update");if(Z.length>1){const oe=Z.slice(1),{error:de}=await st.from("bookings").delete().in("id",oe);de&&console.error("Error deleting secondary slots:",de)}const X=(Array.isArray(A)?A:[A])[0],ce=new Date;if(new Date(`${X.date}T${X.end_time||X.endTime}`)<ce)throw new Error("Cannot move booking to the past.");const M={project:X.project,date:X.date,time:X.startTime||X.time,end_time:X.endTime||X.end_time},{data:K,error:J}=await st.from("bookings").update(M).eq("id",$).select();if(J)throw J;m(oe=>{let de=oe;return Z.length>1&&(de=oe.filter(ve=>!Z.slice(1).includes(ve.id))),de.map(ve=>ve.id===$?{...ve,...M}:ve)}),G("Booking updated successfully.")}catch($){console.error("Error updating booking:",$),G("Failed to update booking: "+$.message,"error")}},De=async(Z,A)=>{try{const{error:$}=await st.from("tools").update({status:A}).eq("id",Z);if($)throw $;d(c.map(I=>I.id===Z?{...I,status:A}:I)),G(`Tool status updated to ${A}`)}catch($){console.error("Error updating status:",$),G("Failed to update status.","error")}},lt=Z=>{const A=c.find($=>$.id===Z.tool_id);A?(T(A),x(Z.date)):G("Tool details not found.","error")};if(_)return p.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."});const Ve=Z=>{r(Z),z(!1)};return p.jsxs("div",{className:"flex h-screen bg-gray-100",children:[N&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>z(!1)}),p.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 shadow-lg flex flex-col transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-auto ${N?"translate-x-0":"-translate-x-full"}`,children:[p.jsx("div",{className:"h-16 flex items-center justify-center border-b border-blue-900 bg-blue-900 dark:bg-blue-950 text-white transition-colors",children:p.jsxs("div",{className:"font-bold text-xl tracking-wider flex items-center",children:[p.jsx("img",{src:Xm,alt:"Logo",className:"h-8 mr-2 brightness-0 invert"}),"MMI-LIMS"]})}),p.jsxs("div",{className:"p-4 border-b dark:border-gray-700",children:[p.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Logged in as"}),p.jsx("div",{className:"font-bold text-gray-800 dark:text-gray-200 truncate",children:g?`${g.first_name} ${g.last_name}`:l.email}),p.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-semibold uppercase mt-1",children:[g?.job_title||"Researcher",g?.access_level==="admin"&&p.jsx("span",{className:"ml-2 bg-red-600 text-white px-1 rounded text-[10px]",children:"ADMIN"})]})]}),p.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[p.jsxs("button",{onClick:()=>Ve("dashboard"),className:`w-full flex items-center p-3 rounded transition ${i==="dashboard"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-bold":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[p.jsx("i",{className:"fas fa-home w-8"})," Dashboard"]}),p.jsxs("button",{onClick:()=>Ve("tools"),className:`w-full flex items-center p-3 rounded transition ${i==="tools"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-bold":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[p.jsx("i",{className:"fas fa-tools w-8"})," Tool List"]}),g?.access_level==="admin"&&p.jsxs("button",{onClick:()=>Ve("users"),className:`w-full flex items-center p-3 rounded transition ${i==="users"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-bold":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[p.jsx("i",{className:"fas fa-users w-8"})," Users"]}),g?.access_level==="admin"&&p.jsxs("button",{onClick:()=>Ve("all_bookings"),className:`w-full flex items-center p-3 rounded transition ${i==="all_bookings"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-bold":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[p.jsx("i",{className:"fas fa-calendar-check w-8"})," All Bookings"]})]}),p.jsxs("div",{className:"p-4 border-t dark:border-gray-700 space-y-2",children:[p.jsxs("button",{onClick:ne,className:"w-full flex items-center p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 rounded transition",children:[p.jsx("i",{className:`fas ${ie==="dark"?"fa-sun":"fa-moon"} w-8`})," ",ie==="dark"?"Light Mode":"Dark Mode"]}),p.jsxs("button",{onClick:a,className:"w-full flex items-center p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition",children:[p.jsx("i",{className:"fas fa-sign-out-alt w-8"})," Logout"]})]})]}),p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-gray-100 dark:bg-gray-900 transition-colors",children:[p.jsx("header",{className:"h-16 bg-white dark:bg-gray-800 shadow-sm flex items-center justify-between px-6 transition-colors",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:()=>z(!0),className:"lg:hidden text-gray-600 dark:text-gray-300 hover:text-blue-900 dark:hover:text-blue-400",children:p.jsx("i",{className:"fas fa-bars text-xl"})}),p.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white capitalize",children:i.replace("-"," ")})]})}),p.jsxs("main",{className:"flex-1 overflow-y-auto p-6 custom-scroll",children:[i==="dashboard"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"lg:col-span-2",children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4",children:"Bookings This Week"}),p.jsx(y_,{bookings:f,currentWeekStart:V})]}),p.jsx("div",{className:"lg:col-span-1",children:Te.length>0?p.jsxs("div",{className:"h-full flex flex-col",children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4",children:"Quick Book"}),p.jsx("div",{className:"grid grid-cols-1 gap-4",children:Te.map(Z=>p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border dark:border-gray-700 hover:shadow-md transition cursor-pointer flex justify-between items-center group",onClick:()=>T(Z),children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-gray-800 dark:text-gray-200 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:Z.name}),p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Z.category})]}),p.jsx("div",{className:"h-8 w-8 bg-blue-50 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 group-hover:bg-blue-100 dark:group-hover:bg-blue-800/50 transition-colors",children:p.jsx("i",{className:"fas fa-plus"})})]},Z.id))})]}):p.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 italic",children:"No recent tools found."})})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4",children:"My Bookings Calendar"}),p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 p-4 transition-colors",children:p.jsx(g_,{bookings:Q,allBookings:f,onUpdate:Be,currentWeekStart:V,onWeekChange:q,onBookingClick:lt})})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4",children:"Upcoming Bookings"}),p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 p-4 transition-colors mb-6",children:p.jsx(Vo,{bookings:Q.filter(Z=>new Date(`${Z.date}T${Z.end_time||Z.endTime}`)>=new Date),allBookings:f,onCancel:Me,onUpdate:Be,onEdit:lt})}),p.jsx("h3",{className:"font-bold text-gray-600 dark:text-gray-400 mb-4",children:"Past Bookings"}),p.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg shadow-sm border dark:border-gray-700 p-4 transition-colors",children:p.jsx(Vo,{bookings:Q.filter(Z=>new Date(`${Z.date}T${Z.end_time||Z.endTime}`)<new Date),allBookings:f,onCancel:Me,onUpdate:Be,onEdit:lt,readOnly:!0})})]})]}),i==="tools"&&p.jsx(h_,{tools:c,profile:g,onStatusChange:De,onBook:T}),i==="all_bookings"&&g?.access_level==="admin"&&p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4",children:"All Bookings List"}),p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 p-4 transition-colors",children:p.jsx(Vo,{bookings:f,onCancel:Me,onUpdate:Be,onEdit:lt,isAdminView:!0})})]}),i==="users"&&g?.access_level==="admin"&&p.jsx(m_,{tools:c,currentUser:l,onProfileUpdate:async()=>{const{data:Z}=await st.from("profiles").select("*").eq("id",l.id).single();Z&&y(Z)}})]})]}),w&&p.jsx(f_,{tool:w,user:l,profile:g,existingBookings:f,initialDate:b,onClose:()=>{T(null),x(null)},onConfirm:Oe,onUpdate:Be})]})},Pm=()=>p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-900"})}),p_=({session:l,onLogout:a})=>{const[i,r]=F.useState(null),[c,d]=F.useState(!0);return F.useEffect(()=>{(async()=>{const{data:m,error:g}=await st.from("profiles").select("*").eq("id",l.user.id).single();g?console.error("Error fetching profile:",g):r(m),d(!1)})()},[l]),c?p.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:p.jsx(Pm,{})}):i&&!i.is_approved?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-md text-center border-t-4 border-yellow-500",children:[p.jsx("div",{className:"mb-4",children:p.jsx("i",{className:"fas fa-clock text-5xl text-yellow-500"})}),p.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Account Pending Approval"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been created but requires administrator approval before you can access the system. Please check back later or contact the lab manager."}),p.jsx("button",{onClick:a,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition",children:"Sign Out"})]})}):p.jsx(v_,{user:l.user,profile:i,onLogout:a})};function b_(){const[l,a]=F.useState(null),[i,r]=F.useState(!0);return F.useEffect(()=>{st.auth.getSession().then(({data:{session:d}})=>{a(d),r(!1)});const{data:{subscription:c}}=st.auth.onAuthStateChange((d,f)=>{a(f),r(!1)});return()=>c.unsubscribe()},[]),i?p.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:p.jsx(Pm,{})}):p.jsx(l_,{children:p.jsx(r_,{children:l?p.jsx(p_,{session:l,onLogout:()=>st.auth.signOut()}):p.jsx(o_,{})})})}Nv.createRoot(document.getElementById("root")).render(p.jsx(F.StrictMode,{children:p.jsx(b_,{})}));
