function vv(l,a){for(var s=0;s<a.length;s++){const i=a[s];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in l)){const d=Object.getOwnPropertyDescriptor(i,c);d&&Object.defineProperty(l,c,d.get?d:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function pv(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function bv(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var a=l.default;if(typeof a=="function"){var s=function i(){var c=!1;try{c=this instanceof i}catch{}return c?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};s.prototype=a.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(l).forEach(function(i){var c=Object.getOwnPropertyDescriptor(l,i);Object.defineProperty(s,i,c.get?c:{enumerable:!0,get:function(){return l[i]}})}),s}var Uu={exports:{}},Os={};var p0;function _v(){if(p0)return Os;p0=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(i,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:l,type:i,key:f,ref:c!==void 0?c:null,props:d}}return Os.Fragment=a,Os.jsx=s,Os.jsxs=s,Os}var b0;function wv(){return b0||(b0=1,Uu.exports=_v()),Uu.exports}var p=wv(),zu={exports:{}},ye={};var _0;function Sv(){if(_0)return ye;_0=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),b=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=b&&x[b]||x["@@iterator"],typeof x=="function"?x:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,N={};function U(x,R,H){this.props=x,this.context=R,this.refs=N,this.updater=H||O}U.prototype.isReactComponent={},U.prototype.setState=function(x,R){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,R,"setState")},U.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function V(){}V.prototype=U.prototype;function $(x,R,H){this.props=x,this.context=R,this.refs=N,this.updater=H||O}var X=$.prototype=new V;X.constructor=$,T(X,U.prototype),X.isPureReactComponent=!0;var ge=Array.isArray;function ee(){}var J={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function he(x,R,H){var Y=H.ref;return{$$typeof:l,type:x,key:R,ref:Y!==void 0?Y:null,props:H}}function je(x,R){return he(x.type,R,x.props)}function Ke(x){return typeof x=="object"&&x!==null&&x.$$typeof===l}function Xe(x){var R={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(H){return R[H]})}var Qe=/\/+/g;function Fe(x,R){return typeof x=="object"&&x!==null&&x.key!=null?Xe(""+x.key):R.toString(36)}function Ae(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ee,ee):(x.status="pending",x.then(function(R){x.status==="pending"&&(x.status="fulfilled",x.value=R)},function(R){x.status==="pending"&&(x.status="rejected",x.reason=R)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function z(x,R,H,Y,Z){var Q=typeof x;(Q==="undefined"||Q==="boolean")&&(x=null);var ie=!1;if(x===null)ie=!0;else switch(Q){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(x.$$typeof){case l:case a:ie=!0;break;case _:return ie=x._init,z(ie(x._payload),R,H,Y,Z)}}if(ie)return Z=Z(x),ie=Y===""?"."+Fe(x,0):Y,ge(Z)?(H="",ie!=null&&(H=ie.replace(Qe,"$&/")+"/"),z(Z,R,H,"",function(St){return St})):Z!=null&&(Ke(Z)&&(Z=je(Z,H+(Z.key==null||x&&x.key===Z.key?"":(""+Z.key).replace(Qe,"$&/")+"/")+ie)),R.push(Z)),1;ie=0;var Oe=Y===""?".":Y+":";if(ge(x))for(var De=0;De<x.length;De++)Y=x[De],Q=Oe+Fe(Y,De),ie+=z(Y,R,H,Q,Z);else if(De=S(x),typeof De=="function")for(x=De.call(x),De=0;!(Y=x.next()).done;)Y=Y.value,Q=Oe+Fe(Y,De++),ie+=z(Y,R,H,Q,Z);else if(Q==="object"){if(typeof x.then=="function")return z(Ae(x),R,H,Y,Z);throw R=String(x),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return ie}function K(x,R,H){if(x==null)return x;var Y=[],Z=0;return z(x,Y,"","",function(Q){return R.call(H,Q,Z++)}),Y}function te(x){if(x._status===-1){var R=x._result;R=R(),R.then(function(H){(x._status===0||x._status===-1)&&(x._status=1,x._result=H)},function(H){(x._status===0||x._status===-1)&&(x._status=2,x._result=H)}),x._status===-1&&(x._status=0,x._result=R)}if(x._status===1)return x._result.default;throw x._result}var pe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},_e={map:K,forEach:function(x,R,H){K(x,function(){R.apply(this,arguments)},H)},count:function(x){var R=0;return K(x,function(){R++}),R},toArray:function(x){return K(x,function(R){return R})||[]},only:function(x){if(!Ke(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return ye.Activity=E,ye.Children=_e,ye.Component=U,ye.Fragment=s,ye.Profiler=c,ye.PureComponent=$,ye.StrictMode=i,ye.Suspense=g,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ye.__COMPILER_RUNTIME={__proto__:null,c:function(x){return J.H.useMemoCache(x)}},ye.cache=function(x){return function(){return x.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(x,R,H){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var Y=T({},x.props),Z=x.key;if(R!=null)for(Q in R.key!==void 0&&(Z=""+R.key),R)!se.call(R,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&R.ref===void 0||(Y[Q]=R[Q]);var Q=arguments.length-2;if(Q===1)Y.children=H;else if(1<Q){for(var ie=Array(Q),Oe=0;Oe<Q;Oe++)ie[Oe]=arguments[Oe+2];Y.children=ie}return he(x.type,Z,Y)},ye.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:d,_context:x},x},ye.createElement=function(x,R,H){var Y,Z={},Q=null;if(R!=null)for(Y in R.key!==void 0&&(Q=""+R.key),R)se.call(R,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(Z[Y]=R[Y]);var ie=arguments.length-2;if(ie===1)Z.children=H;else if(1<ie){for(var Oe=Array(ie),De=0;De<ie;De++)Oe[De]=arguments[De+2];Z.children=Oe}if(x&&x.defaultProps)for(Y in ie=x.defaultProps,ie)Z[Y]===void 0&&(Z[Y]=ie[Y]);return he(x,Q,Z)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(x){return{$$typeof:m,render:x}},ye.isValidElement=Ke,ye.lazy=function(x){return{$$typeof:_,_payload:{_status:-1,_result:x},_init:te}},ye.memo=function(x,R){return{$$typeof:y,type:x,compare:R===void 0?null:R}},ye.startTransition=function(x){var R=J.T,H={};J.T=H;try{var Y=x(),Z=J.S;Z!==null&&Z(H,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(ee,pe)}catch(Q){pe(Q)}finally{R!==null&&H.types!==null&&(R.types=H.types),J.T=R}},ye.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ye.use=function(x){return J.H.use(x)},ye.useActionState=function(x,R,H){return J.H.useActionState(x,R,H)},ye.useCallback=function(x,R){return J.H.useCallback(x,R)},ye.useContext=function(x){return J.H.useContext(x)},ye.useDebugValue=function(){},ye.useDeferredValue=function(x,R){return J.H.useDeferredValue(x,R)},ye.useEffect=function(x,R){return J.H.useEffect(x,R)},ye.useEffectEvent=function(x){return J.H.useEffectEvent(x)},ye.useId=function(){return J.H.useId()},ye.useImperativeHandle=function(x,R,H){return J.H.useImperativeHandle(x,R,H)},ye.useInsertionEffect=function(x,R){return J.H.useInsertionEffect(x,R)},ye.useLayoutEffect=function(x,R){return J.H.useLayoutEffect(x,R)},ye.useMemo=function(x,R){return J.H.useMemo(x,R)},ye.useOptimistic=function(x,R){return J.H.useOptimistic(x,R)},ye.useReducer=function(x,R,H){return J.H.useReducer(x,R,H)},ye.useRef=function(x){return J.H.useRef(x)},ye.useState=function(x){return J.H.useState(x)},ye.useSyncExternalStore=function(x,R,H){return J.H.useSyncExternalStore(x,R,H)},ye.useTransition=function(){return J.H.useTransition()},ye.version="19.2.0",ye}var w0;function dc(){return w0||(w0=1,zu.exports=Sv()),zu.exports}var P=dc(),Mu={exports:{}},As={},Bu={exports:{}},qu={};var S0;function xv(){return S0||(S0=1,(function(l){function a(z,K){var te=z.length;z.push(K);e:for(;0<te;){var pe=te-1>>>1,_e=z[pe];if(0<c(_e,K))z[pe]=K,z[te]=_e,te=pe;else break e}}function s(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var K=z[0],te=z.pop();if(te!==K){z[0]=te;e:for(var pe=0,_e=z.length,x=_e>>>1;pe<x;){var R=2*(pe+1)-1,H=z[R],Y=R+1,Z=z[Y];if(0>c(H,te))Y<_e&&0>c(Z,H)?(z[pe]=Z,z[Y]=te,pe=Y):(z[pe]=H,z[R]=te,pe=R);else if(Y<_e&&0>c(Z,te))z[pe]=Z,z[Y]=te,pe=Y;else break e}}return K}function c(z,K){var te=z.sortIndex-K.sortIndex;return te!==0?te:z.id-K.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();l.unstable_now=function(){return f.now()-m}}var g=[],y=[],_=1,E=null,b=3,S=!1,O=!1,T=!1,N=!1,U=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function X(z){for(var K=s(y);K!==null;){if(K.callback===null)i(y);else if(K.startTime<=z)i(y),K.sortIndex=K.expirationTime,a(g,K);else break;K=s(y)}}function ge(z){if(T=!1,X(z),!O)if(s(g)!==null)O=!0,ee||(ee=!0,Xe());else{var K=s(y);K!==null&&Ae(ge,K.startTime-z)}}var ee=!1,J=-1,se=5,he=-1;function je(){return N?!0:!(l.unstable_now()-he<se)}function Ke(){if(N=!1,ee){var z=l.unstable_now();he=z;var K=!0;try{e:{O=!1,T&&(T=!1,V(J),J=-1),S=!0;var te=b;try{t:{for(X(z),E=s(g);E!==null&&!(E.expirationTime>z&&je());){var pe=E.callback;if(typeof pe=="function"){E.callback=null,b=E.priorityLevel;var _e=pe(E.expirationTime<=z);if(z=l.unstable_now(),typeof _e=="function"){E.callback=_e,X(z),K=!0;break t}E===s(g)&&i(g),X(z)}else i(g);E=s(g)}if(E!==null)K=!0;else{var x=s(y);x!==null&&Ae(ge,x.startTime-z),K=!1}}break e}finally{E=null,b=te,S=!1}K=void 0}}finally{K?Xe():ee=!1}}}var Xe;if(typeof $=="function")Xe=function(){$(Ke)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,Fe=Qe.port2;Qe.port1.onmessage=Ke,Xe=function(){Fe.postMessage(null)}}else Xe=function(){U(Ke,0)};function Ae(z,K){J=U(function(){z(l.unstable_now())},K)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(z){z.callback=null},l.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<z?Math.floor(1e3/z):5},l.unstable_getCurrentPriorityLevel=function(){return b},l.unstable_next=function(z){switch(b){case 1:case 2:case 3:var K=3;break;default:K=b}var te=b;b=K;try{return z()}finally{b=te}},l.unstable_requestPaint=function(){N=!0},l.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=b;b=z;try{return K()}finally{b=te}},l.unstable_scheduleCallback=function(z,K,te){var pe=l.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?pe+te:pe):te=pe,z){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=te+_e,z={id:_++,callback:K,priorityLevel:z,startTime:te,expirationTime:_e,sortIndex:-1},te>pe?(z.sortIndex=te,a(y,z),s(g)===null&&z===s(y)&&(T?(V(J),J=-1):T=!0,Ae(ge,te-pe))):(z.sortIndex=_e,a(g,z),O||S||(O=!0,ee||(ee=!0,Xe()))),z},l.unstable_shouldYield=je,l.unstable_wrapCallback=function(z){var K=b;return function(){var te=b;b=K;try{return z.apply(this,arguments)}finally{b=te}}}})(qu)),qu}var x0;function Tv(){return x0||(x0=1,Bu.exports=xv()),Bu.exports}var Lu={exports:{}},_t={};var T0;function Ev(){if(T0)return _t;T0=1;var l=dc();function a(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,y,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:E==null?null:""+E,children:g,containerInfo:y,implementation:_}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_t.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(a(299));return d(g,y,null,_)},_t.flushSync=function(g){var y=f.T,_=i.p;try{if(f.T=null,i.p=2,g)return g()}finally{f.T=y,i.p=_,i.d.f()}},_t.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},_t.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},_t.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,E=m(_,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,S=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:S}):_==="script"&&i.d.X(g,{crossOrigin:E,integrity:b,fetchPriority:S,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},_t.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=m(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},_t.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,E=m(_,y.crossOrigin);i.d.L(g,_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},_t.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=m(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},_t.requestFormReset=function(g){i.d.r(g)},_t.unstable_batchedUpdates=function(g,y){return g(y)},_t.useFormState=function(g,y,_){return f.H.useFormState(g,y,_)},_t.useFormStatus=function(){return f.H.useHostTransitionStatus()},_t.version="19.2.0",_t}var E0;function jv(){if(E0)return Lu.exports;E0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Lu.exports=Ev(),Lu.exports}var j0;function Ov(){if(j0)return As;j0=1;var l=Tv(),a=dc(),s=jv();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(i(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return g(o),e;if(u===r)return g(o),t;u=u.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=u;else{for(var h=!1,v=o.child;v;){if(v===n){h=!0,n=o,r=u;break}if(v===r){h=!0,r=o,n=u;break}v=v.sibling}if(!h){for(v=u.child;v;){if(v===n){h=!0,n=u,r=o;break}if(v===r){h=!0,r=u,n=o;break}v=v.sibling}if(!h)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),$=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),he=Symbol.for("react.activity"),je=Symbol.for("react.memo_cache_sentinel"),Ke=Symbol.iterator;function Xe(e){return e===null||typeof e!="object"?null:(e=Ke&&e[Ke]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Symbol.for("react.client.reference");function Fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Qe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case U:return"Profiler";case N:return"StrictMode";case ge:return"Suspense";case ee:return"SuspenseList";case he:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case $:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return t=e.displayName||null,t!==null?t:Fe(e.type)||"Memo";case se:t=e._payload,e=e._init;try{return Fe(e(t))}catch{}}return null}var Ae=Array.isArray,z=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},pe=[],_e=-1;function x(e){return{current:e}}function R(e){0>_e||(e.current=pe[_e],pe[_e]=null,_e--)}function H(e,t){_e++,pe[_e]=e.current,e.current=t}var Y=x(null),Z=x(null),Q=x(null),ie=x(null);function Oe(e,t){switch(H(Q,t),H(Z,e),H(Y,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?$h(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=$h(t),e=Gh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(Y),H(Y,e)}function De(){R(Y),R(Z),R(Q)}function St(e){e.memoizedState!==null&&H(ie,e);var t=Y.current,n=Gh(t,e.type);t!==n&&(H(Z,e),H(Y,n))}function la(e){Z.current===e&&(R(Y),R(Z)),ie.current===e&&(R(ie),xs._currentValue=te)}var Dn,hn;function ut(e){if(Dn===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Dn=t&&t[1]||"",hn=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dn+e+hn}var en=!1;function Ur(e,t){if(!e||en)return"";en=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(M){var D=M}Reflect.construct(e,[],L)}else{try{L.call()}catch(M){D=M}e.call(L.prototype)}}else{try{throw Error()}catch(M){D=M}(L=e())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(M){if(M&&D&&typeof M.stack=="string")return[M.stack,D.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),h=u[0],v=u[1];if(h&&v){var w=h.split(`
`),C=v.split(`
`);for(o=r=0;r<w.length&&!w[r].includes("DetermineComponentFrameRoot");)r++;for(;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;if(r===w.length||o===C.length)for(r=w.length-1,o=C.length-1;1<=r&&0<=o&&w[r]!==C[o];)o--;for(;1<=r&&0<=o;r--,o--)if(w[r]!==C[o]){if(r!==1||o!==1)do if(r--,o--,0>o||w[r]!==C[o]){var B=`
`+w[r].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=r&&0<=o);break}}}finally{en=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ut(n):""}function pl(e,t){switch(e.tag){case 26:case 27:case 5:return ut(e.type);case 16:return ut("Lazy");case 13:return e.child!==t&&t!==null?ut("Suspense Fallback"):ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return Ur(e.type,!1);case 11:return Ur(e.type.render,!1);case 1:return Ur(e.type,!0);case 31:return ut("Activity");default:return""}}function on(e){try{var t="",n=null;do t+=pl(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var oa=Object.prototype.hasOwnProperty,ua=l.unstable_scheduleCallback,ca=l.unstable_cancelCallback,bl=l.unstable_shouldYield,_l=l.unstable_requestPaint,xt=l.unstable_now,G=l.unstable_getCurrentPriorityLevel,I=l.unstable_ImmediatePriority,ne=l.unstable_UserBlockingPriority,ue=l.unstable_NormalPriority,me=l.unstable_LowPriority,ke=l.unstable_IdlePriority,ce=l.log,le=l.unstable_setDisableYieldValue,$e=null,Le=null;function Tt(e){if(typeof ce=="function"&&le(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode($e,e)}catch{}}var nt=Math.clz32?Math.clz32:Bs,_c=Math.log,zr=Math.LN2;function Bs(e){return e>>>=0,e===0?32:31-(_c(e)/zr|0)|0}var Ma=256,Je=262144,qs=4194304;function da(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ls(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var o=0,u=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var v=r&134217727;return v!==0?(r=v&~u,r!==0?o=da(r):(h&=v,h!==0?o=da(h):n||(n=v&~e,n!==0&&(o=da(n))))):(v=r&~u,v!==0?o=da(v):h!==0?o=da(h):n||(n=r&~e,n!==0&&(o=da(n)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:o}function Mr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function rm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(){var e=qs;return qs<<=1,(qs&62914560)===0&&(qs=4194304),e}function wl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Br(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sm(e,t,n,r,o,u){var h=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,w=e.expirationTimes,C=e.hiddenUpdates;for(n=h&~n;0<n;){var B=31-nt(n),L=1<<B;v[B]=0,w[B]=-1;var D=C[B];if(D!==null)for(C[B]=null,B=0;B<D.length;B++){var M=D[B];M!==null&&(M.lane&=-536870913)}n&=~L}r!==0&&Sc(e,r,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(h&~t))}function Sc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-nt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function xc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-nt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Tc(e,t){var n=t&-t;return n=(n&42)!==0?1:Sl(n),(n&(e.suspendedLanes|t))!==0?0:n}function Sl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ec(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:d0(e.type))}function jc(e,t){var n=K.p;try{return K.p=e,t()}finally{K.p=n}}var Un=Math.random().toString(36).slice(2),gt="__reactFiber$"+Un,jt="__reactProps$"+Un,Ba="__reactContainer$"+Un,Tl="__reactEvents$"+Un,im="__reactListeners$"+Un,lm="__reactHandles$"+Un,Oc="__reactResources$"+Un,qr="__reactMarker$"+Un;function El(e){delete e[gt],delete e[jt],delete e[Tl],delete e[im],delete e[lm]}function qa(e){var t=e[gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ba]||n[gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ih(e);e!==null;){if(n=e[gt])return n;e=Ih(e)}return t}e=n,n=e.parentNode}return null}function La(e){if(e=e[gt]||e[Ba]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Lr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Ha(e){var t=e[Oc];return t||(t=e[Oc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ft(e){e[qr]=!0}var Ac=new Set,Nc={};function fa(e,t){$a(e,t),$a(e+"Capture",t)}function $a(e,t){for(Nc[e]=t,e=0;e<t.length;e++)Ac.add(t[e])}var om=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rc={},kc={};function um(e){return oa.call(kc,e)?!0:oa.call(Rc,e)?!1:om.test(e)?kc[e]=!0:(Rc[e]=!0,!1)}function Hs(e,t,n){if(um(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function $s(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function gn(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function Vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cm(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){n=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(h){n=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jl(e){if(!e._valueTracker){var t=Cc(e)?"checked":"value";e._valueTracker=cm(e,t,""+e[t])}}function Dc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Cc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dm=/[\n"\\]/g;function Yt(e){return e.replace(dm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ol(e,t,n,r,o,u,h,v){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Vt(t)):e.value!==""+Vt(t)&&(e.value=""+Vt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?Al(e,h,Vt(t)):n!=null?Al(e,h,Vt(n)):r!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Vt(v):e.removeAttribute("name")}function Uc(e,t,n,r,o,u,h,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){jl(e);return}n=n!=null?""+Vt(n):"",t=t!=null?""+Vt(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=v?e.checked:!!r,e.defaultChecked=!!r,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),jl(e)}function Al(e,t,n){t==="number"&&Gs(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ga(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Vt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function zc(e,t,n){if(t!=null&&(t=""+Vt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Vt(n):""}function Mc(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(Ae(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Vt(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),jl(e)}function Va(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bc(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||fm.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function qc(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Bc(e,o,r)}else for(var u in t)t.hasOwnProperty(u)&&Bc(e,u,t[u])}function Nl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vs(e){return gm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mn(){}var Rl=null;function kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ya=null,Ka=null;function Lc(e){var t=La(e);if(t&&(e=t.stateNode)){var n=e[jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ol(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[jt]||null;if(!o)throw Error(i(90));Ol(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Dc(r)}break e;case"textarea":zc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ga(e,!!n.multiple,t,!1)}}}var Cl=!1;function Hc(e,t,n){if(Cl)return e(t,n);Cl=!0;try{var r=e(t);return r}finally{if(Cl=!1,(Ya!==null||Ka!==null)&&(Ri(),Ya&&(t=Ya,e=Ka,Ka=Ya=null,Lc(t),e)))for(t=0;t<e.length;t++)Lc(e[t])}}function Hr(e,t){var n=e.stateNode;if(n===null)return null;var r=n[jt]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dl=!1;if(yn)try{var $r={};Object.defineProperty($r,"passive",{get:function(){Dl=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{Dl=!1}var zn=null,Ul=null,Ys=null;function $c(){if(Ys)return Ys;var e,t=Ul,n=t.length,r,o="value"in zn?zn.value:zn.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var h=n-e;for(r=1;r<=h&&t[n-r]===o[u-r];r++);return Ys=o.slice(e,1<r?1-r:void 0)}function Ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xs(){return!0}function Gc(){return!1}function Ot(e){function t(n,r,o,u,h){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Xs:Gc,this.isPropagationStopped=Gc,this}return E(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),t}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=Ot(ha),Gr=E({},ha,{view:0,detail:0}),mm=Ot(Gr),zl,Ml,Vr,Js=E({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ql,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vr&&(Vr&&e.type==="mousemove"?(zl=e.screenX-Vr.screenX,Ml=e.screenY-Vr.screenY):Ml=zl=0,Vr=e),zl)},movementY:function(e){return"movementY"in e?e.movementY:Ml}}),Vc=Ot(Js),ym=E({},Js,{dataTransfer:0}),vm=Ot(ym),pm=E({},Gr,{relatedTarget:0}),Bl=Ot(pm),bm=E({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),_m=Ot(bm),wm=E({},ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sm=Ot(wm),xm=E({},ha,{data:0}),Yc=Ot(xm),Tm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Em={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Om(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jm[e])?!!t[e]:!1}function ql(){return Om}var Am=E({},Gr,{key:function(e){if(e.key){var t=Tm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Em[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ql,charCode:function(e){return e.type==="keypress"?Ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nm=Ot(Am),Rm=E({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kc=Ot(Rm),km=E({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ql}),Cm=Ot(km),Dm=E({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),Um=Ot(Dm),zm=E({},Js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mm=Ot(zm),Bm=E({},ha,{newState:0,oldState:0}),qm=Ot(Bm),Lm=[9,13,27,32],Ll=yn&&"CompositionEvent"in window,Yr=null;yn&&"documentMode"in document&&(Yr=document.documentMode);var Hm=yn&&"TextEvent"in window&&!Yr,Xc=yn&&(!Ll||Yr&&8<Yr&&11>=Yr),Qc=" ",Jc=!1;function Ic(e,t){switch(e){case"keyup":return Lm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xa=!1;function $m(e,t){switch(e){case"compositionend":return Zc(t);case"keypress":return t.which!==32?null:(Jc=!0,Qc);case"textInput":return e=t.data,e===Qc&&Jc?null:e;default:return null}}function Gm(e,t){if(Xa)return e==="compositionend"||!Ll&&Ic(e,t)?(e=$c(),Ys=Ul=zn=null,Xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xc&&t.locale!=="ko"?null:t.data;default:return null}}var Vm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vm[e.type]:t==="textarea"}function Wc(e,t,n,r){Ya?Ka?Ka.push(r):Ka=[r]:Ya=r,t=Bi(t,"onChange"),0<t.length&&(n=new Qs("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kr=null,Xr=null;function Ym(e){zh(e,0)}function Is(e){var t=Lr(e);if(Dc(t))return e}function Fc(e,t){if(e==="change")return t}var ed=!1;if(yn){var Hl;if(yn){var $l="oninput"in document;if(!$l){var td=document.createElement("div");td.setAttribute("oninput","return;"),$l=typeof td.oninput=="function"}Hl=$l}else Hl=!1;ed=Hl&&(!document.documentMode||9<document.documentMode)}function nd(){Kr&&(Kr.detachEvent("onpropertychange",ad),Xr=Kr=null)}function ad(e){if(e.propertyName==="value"&&Is(Xr)){var t=[];Wc(t,Xr,e,kl(e)),Hc(Ym,t)}}function Km(e,t,n){e==="focusin"?(nd(),Kr=t,Xr=n,Kr.attachEvent("onpropertychange",ad)):e==="focusout"&&nd()}function Xm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Is(Xr)}function Qm(e,t){if(e==="click")return Is(t)}function Jm(e,t){if(e==="input"||e==="change")return Is(t)}function Im(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:Im;function Qr(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!oa.call(t,o)||!Dt(e[o],t[o]))return!1}return!0}function rd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sd(e,t){var n=rd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rd(n)}}function id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ld(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Gs(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gs(e.document)}return t}function Gl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Zm=yn&&"documentMode"in document&&11>=document.documentMode,Qa=null,Vl=null,Jr=null,Yl=!1;function od(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yl||Qa==null||Qa!==Gs(r)||(r=Qa,"selectionStart"in r&&Gl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jr&&Qr(Jr,r)||(Jr=r,r=Bi(Vl,"onSelect"),0<r.length&&(t=new Qs("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qa)))}function ga(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ja={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},Kl={},ud={};yn&&(ud=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ma(e){if(Kl[e])return Kl[e];if(!Ja[e])return e;var t=Ja[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ud)return Kl[e]=t[n];return e}var cd=ma("animationend"),dd=ma("animationiteration"),fd=ma("animationstart"),Pm=ma("transitionrun"),Wm=ma("transitionstart"),Fm=ma("transitioncancel"),hd=ma("transitionend"),gd=new Map,Xl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xl.push("scrollEnd");function tn(e,t){gd.set(e,t),fa(t,[e])}var Zs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Kt=[],Ia=0,Ql=0;function Ps(){for(var e=Ia,t=Ql=Ia=0;t<e;){var n=Kt[t];Kt[t++]=null;var r=Kt[t];Kt[t++]=null;var o=Kt[t];Kt[t++]=null;var u=Kt[t];if(Kt[t++]=null,r!==null&&o!==null){var h=r.pending;h===null?o.next=o:(o.next=h.next,h.next=o),r.pending=o}u!==0&&md(n,o,u)}}function Ws(e,t,n,r){Kt[Ia++]=e,Kt[Ia++]=t,Kt[Ia++]=n,Kt[Ia++]=r,Ql|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Jl(e,t,n,r){return Ws(e,t,n,r),Fs(e)}function ya(e,t){return Ws(e,null,null,t),Fs(e)}function md(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var o=!1,u=e.return;u!==null;)u.childLanes|=n,r=u.alternate,r!==null&&(r.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-nt(n),e=u.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=n|536870912),u):null}function Fs(e){if(50<ys)throw ys=0,ru=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Za={};function ey(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,n,r){return new ey(e,t,n,r)}function Il(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vn(e,t){var n=e.alternate;return n===null?(n=Ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function yd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ei(e,t,n,r,o,u){var h=0;if(r=e,typeof e=="function")Il(e)&&(h=1);else if(typeof e=="string")h=sv(e,n,Y.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case he:return e=Ut(31,n,t,o),e.elementType=he,e.lanes=u,e;case T:return va(n.children,o,u,t);case N:h=8,o|=24;break;case U:return e=Ut(12,n,t,o|2),e.elementType=U,e.lanes=u,e;case ge:return e=Ut(13,n,t,o),e.elementType=ge,e.lanes=u,e;case ee:return e=Ut(19,n,t,o),e.elementType=ee,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:h=10;break e;case V:h=9;break e;case X:h=11;break e;case J:h=14;break e;case se:h=16,r=null;break e}h=29,n=Error(i(130,e===null?"null":typeof e,"")),r=null}return t=Ut(h,n,t,o),t.elementType=e,t.type=r,t.lanes=u,t}function va(e,t,n,r){return e=Ut(7,e,r,t),e.lanes=n,e}function Zl(e,t,n){return e=Ut(6,e,null,t),e.lanes=n,e}function vd(e){var t=Ut(18,null,null,0);return t.stateNode=e,t}function Pl(e,t,n){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var pd=new WeakMap;function Xt(e,t){if(typeof e=="object"&&e!==null){var n=pd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:on(t)},pd.set(e,t),t)}return{value:e,source:t,stack:on(t)}}var Pa=[],Wa=0,ti=null,Ir=0,Qt=[],Jt=0,Mn=null,un=1,cn="";function pn(e,t){Pa[Wa++]=Ir,Pa[Wa++]=ti,ti=e,Ir=t}function bd(e,t,n){Qt[Jt++]=un,Qt[Jt++]=cn,Qt[Jt++]=Mn,Mn=e;var r=un;e=cn;var o=32-nt(r)-1;r&=~(1<<o),n+=1;var u=32-nt(t)+o;if(30<u){var h=o-o%5;u=(r&(1<<h)-1).toString(32),r>>=h,o-=h,un=1<<32-nt(t)+o|n<<o|r,cn=u+e}else un=1<<u|n<<o|r,cn=e}function Wl(e){e.return!==null&&(pn(e,1),bd(e,1,0))}function Fl(e){for(;e===ti;)ti=Pa[--Wa],Pa[Wa]=null,Ir=Pa[--Wa],Pa[Wa]=null;for(;e===Mn;)Mn=Qt[--Jt],Qt[Jt]=null,cn=Qt[--Jt],Qt[Jt]=null,un=Qt[--Jt],Qt[Jt]=null}function _d(e,t){Qt[Jt++]=un,Qt[Jt++]=cn,Qt[Jt++]=Mn,un=t.id,cn=t.overflow,Mn=e}var mt=null,Ve=null,Ee=!1,Bn=null,It=!1,eo=Error(i(519));function qn(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zr(Xt(t,e)),eo}function wd(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[gt]=e,t[jt]=r,n){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(n=0;n<ps.length;n++)Se(ps[n],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),Uc(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),Mc(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||Lh(t.textContent,n)?(r.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),r.onScroll!=null&&Se("scroll",t),r.onScrollEnd!=null&&Se("scrollend",t),r.onClick!=null&&(t.onclick=mn),t=!0):t=!1,t||qn(e,!0)}function Sd(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 31:case 13:It=!1;return;case 27:case 3:It=!0;return;default:mt=mt.return}}function Fa(e){if(e!==mt)return!1;if(!Ee)return Sd(e),Ee=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||bu(e.type,e.memoizedProps)),n=!n),n&&Ve&&qn(e),Sd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ve=Jh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ve=Jh(e)}else t===27?(t=Ve,Wn(e.type)?(e=Tu,Tu=null,Ve=e):Ve=t):Ve=mt?Pt(e.stateNode.nextSibling):null;return!0}function pa(){Ve=mt=null,Ee=!1}function to(){var e=Bn;return e!==null&&(kt===null?kt=e:kt.push.apply(kt,e),Bn=null),e}function Zr(e){Bn===null?Bn=[e]:Bn.push(e)}var no=x(null),ba=null,bn=null;function Ln(e,t,n){H(no,t._currentValue),t._currentValue=n}function _n(e){e._currentValue=no.current,R(no)}function ao(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ro(e,t,n,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var h=o.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=o;for(var w=0;w<t.length;w++)if(v.context===t[w]){u.lanes|=n,v=u.alternate,v!==null&&(v.lanes|=n),ao(u.return,n,e),r||(h=null);break e}u=v.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(i(341));h.lanes|=n,u=h.alternate,u!==null&&(u.lanes|=n),ao(h,n,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function er(e,t,n,r){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(i(387));if(h=h.memoizedProps,h!==null){var v=o.type;Dt(o.pendingProps.value,h.value)||(e!==null?e.push(v):e=[v])}}else if(o===ie.current){if(h=o.alternate,h===null)throw Error(i(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(xs):e=[xs])}o=o.return}e!==null&&ro(t,e,n,r),t.flags|=262144}function ni(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _a(e){ba=e,bn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yt(e){return xd(ba,e)}function ai(e,t){return ba===null&&_a(e),xd(e,t)}function xd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},bn===null){if(e===null)throw Error(i(308));bn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bn=bn.next=t;return n}var ty=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},ny=l.unstable_scheduleCallback,ay=l.unstable_NormalPriority,at={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function so(){return{controller:new ty,data:new Map,refCount:0}}function Pr(e){e.refCount--,e.refCount===0&&ny(ay,function(){e.controller.abort()})}var Wr=null,io=0,tr=0,nr=null;function ry(e,t){if(Wr===null){var n=Wr=[];io=0,tr=cu(),nr={status:"pending",value:void 0,then:function(r){n.push(r)}}}return io++,t.then(Td,Td),t}function Td(){if(--io===0&&Wr!==null){nr!==null&&(nr.status="fulfilled");var e=Wr;Wr=null,tr=0,nr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function sy(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),r}var Ed=z.S;z.S=function(e,t){uh=xt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ry(e,t),Ed!==null&&Ed(e,t)};var wa=x(null);function lo(){var e=wa.current;return e!==null?e:He.pooledCache}function ri(e,t){t===null?H(wa,wa.current):H(wa,t.pool)}function jd(){var e=lo();return e===null?null:{parent:at._currentValue,pool:e}}var ar=Error(i(460)),oo=Error(i(474)),si=Error(i(542)),ii={then:function(){}};function Od(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ad(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(mn,mn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rd(e),e;default:if(typeof t.status=="string")t.then(mn,mn);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rd(e),e}throw xa=t,ar}}function Sa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(xa=n,ar):n}}var xa=null;function Nd(){if(xa===null)throw Error(i(459));var e=xa;return xa=null,e}function Rd(e){if(e===ar||e===si)throw Error(i(483))}var rr=null,Fr=0;function li(e){var t=Fr;return Fr+=1,rr===null&&(rr=[]),Ad(rr,e,t)}function es(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function oi(e,t){throw t.$$typeof===b?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function kd(e){function t(A,j){if(e){var k=A.deletions;k===null?(A.deletions=[j],A.flags|=16):k.push(j)}}function n(A,j){if(!e)return null;for(;j!==null;)t(A,j),j=j.sibling;return null}function r(A){for(var j=new Map;A!==null;)A.key!==null?j.set(A.key,A):j.set(A.index,A),A=A.sibling;return j}function o(A,j){return A=vn(A,j),A.index=0,A.sibling=null,A}function u(A,j,k){return A.index=k,e?(k=A.alternate,k!==null?(k=k.index,k<j?(A.flags|=67108866,j):k):(A.flags|=67108866,j)):(A.flags|=1048576,j)}function h(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function v(A,j,k,q){return j===null||j.tag!==6?(j=Zl(k,A.mode,q),j.return=A,j):(j=o(j,k),j.return=A,j)}function w(A,j,k,q){var oe=k.type;return oe===T?B(A,j,k.props.children,q,k.key):j!==null&&(j.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===se&&Sa(oe)===j.type)?(j=o(j,k.props),es(j,k),j.return=A,j):(j=ei(k.type,k.key,k.props,null,A.mode,q),es(j,k),j.return=A,j)}function C(A,j,k,q){return j===null||j.tag!==4||j.stateNode.containerInfo!==k.containerInfo||j.stateNode.implementation!==k.implementation?(j=Pl(k,A.mode,q),j.return=A,j):(j=o(j,k.children||[]),j.return=A,j)}function B(A,j,k,q,oe){return j===null||j.tag!==7?(j=va(k,A.mode,q,oe),j.return=A,j):(j=o(j,k),j.return=A,j)}function L(A,j,k){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Zl(""+j,A.mode,k),j.return=A,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return k=ei(j.type,j.key,j.props,null,A.mode,k),es(k,j),k.return=A,k;case O:return j=Pl(j,A.mode,k),j.return=A,j;case se:return j=Sa(j),L(A,j,k)}if(Ae(j)||Xe(j))return j=va(j,A.mode,k,null),j.return=A,j;if(typeof j.then=="function")return L(A,li(j),k);if(j.$$typeof===$)return L(A,ai(A,j),k);oi(A,j)}return null}function D(A,j,k,q){var oe=j!==null?j.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return oe!==null?null:v(A,j,""+k,q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return k.key===oe?w(A,j,k,q):null;case O:return k.key===oe?C(A,j,k,q):null;case se:return k=Sa(k),D(A,j,k,q)}if(Ae(k)||Xe(k))return oe!==null?null:B(A,j,k,q,null);if(typeof k.then=="function")return D(A,j,li(k),q);if(k.$$typeof===$)return D(A,j,ai(A,k),q);oi(A,k)}return null}function M(A,j,k,q,oe){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return A=A.get(k)||null,v(j,A,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return A=A.get(q.key===null?k:q.key)||null,w(j,A,q,oe);case O:return A=A.get(q.key===null?k:q.key)||null,C(j,A,q,oe);case se:return q=Sa(q),M(A,j,k,q,oe)}if(Ae(q)||Xe(q))return A=A.get(k)||null,B(j,A,q,oe,null);if(typeof q.then=="function")return M(A,j,k,li(q),oe);if(q.$$typeof===$)return M(A,j,k,ai(j,q),oe);oi(j,q)}return null}function W(A,j,k,q){for(var oe=null,Ne=null,ae=j,be=j=0,Te=null;ae!==null&&be<k.length;be++){ae.index>be?(Te=ae,ae=null):Te=ae.sibling;var Re=D(A,ae,k[be],q);if(Re===null){ae===null&&(ae=Te);break}e&&ae&&Re.alternate===null&&t(A,ae),j=u(Re,j,be),Ne===null?oe=Re:Ne.sibling=Re,Ne=Re,ae=Te}if(be===k.length)return n(A,ae),Ee&&pn(A,be),oe;if(ae===null){for(;be<k.length;be++)ae=L(A,k[be],q),ae!==null&&(j=u(ae,j,be),Ne===null?oe=ae:Ne.sibling=ae,Ne=ae);return Ee&&pn(A,be),oe}for(ae=r(ae);be<k.length;be++)Te=M(ae,A,be,k[be],q),Te!==null&&(e&&Te.alternate!==null&&ae.delete(Te.key===null?be:Te.key),j=u(Te,j,be),Ne===null?oe=Te:Ne.sibling=Te,Ne=Te);return e&&ae.forEach(function(aa){return t(A,aa)}),Ee&&pn(A,be),oe}function de(A,j,k,q){if(k==null)throw Error(i(151));for(var oe=null,Ne=null,ae=j,be=j=0,Te=null,Re=k.next();ae!==null&&!Re.done;be++,Re=k.next()){ae.index>be?(Te=ae,ae=null):Te=ae.sibling;var aa=D(A,ae,Re.value,q);if(aa===null){ae===null&&(ae=Te);break}e&&ae&&aa.alternate===null&&t(A,ae),j=u(aa,j,be),Ne===null?oe=aa:Ne.sibling=aa,Ne=aa,ae=Te}if(Re.done)return n(A,ae),Ee&&pn(A,be),oe;if(ae===null){for(;!Re.done;be++,Re=k.next())Re=L(A,Re.value,q),Re!==null&&(j=u(Re,j,be),Ne===null?oe=Re:Ne.sibling=Re,Ne=Re);return Ee&&pn(A,be),oe}for(ae=r(ae);!Re.done;be++,Re=k.next())Re=M(ae,A,be,Re.value,q),Re!==null&&(e&&Re.alternate!==null&&ae.delete(Re.key===null?be:Re.key),j=u(Re,j,be),Ne===null?oe=Re:Ne.sibling=Re,Ne=Re);return e&&ae.forEach(function(yv){return t(A,yv)}),Ee&&pn(A,be),oe}function qe(A,j,k,q){if(typeof k=="object"&&k!==null&&k.type===T&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case S:e:{for(var oe=k.key;j!==null;){if(j.key===oe){if(oe=k.type,oe===T){if(j.tag===7){n(A,j.sibling),q=o(j,k.props.children),q.return=A,A=q;break e}}else if(j.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===se&&Sa(oe)===j.type){n(A,j.sibling),q=o(j,k.props),es(q,k),q.return=A,A=q;break e}n(A,j);break}else t(A,j);j=j.sibling}k.type===T?(q=va(k.props.children,A.mode,q,k.key),q.return=A,A=q):(q=ei(k.type,k.key,k.props,null,A.mode,q),es(q,k),q.return=A,A=q)}return h(A);case O:e:{for(oe=k.key;j!==null;){if(j.key===oe)if(j.tag===4&&j.stateNode.containerInfo===k.containerInfo&&j.stateNode.implementation===k.implementation){n(A,j.sibling),q=o(j,k.children||[]),q.return=A,A=q;break e}else{n(A,j);break}else t(A,j);j=j.sibling}q=Pl(k,A.mode,q),q.return=A,A=q}return h(A);case se:return k=Sa(k),qe(A,j,k,q)}if(Ae(k))return W(A,j,k,q);if(Xe(k)){if(oe=Xe(k),typeof oe!="function")throw Error(i(150));return k=oe.call(k),de(A,j,k,q)}if(typeof k.then=="function")return qe(A,j,li(k),q);if(k.$$typeof===$)return qe(A,j,ai(A,k),q);oi(A,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,j!==null&&j.tag===6?(n(A,j.sibling),q=o(j,k),q.return=A,A=q):(n(A,j),q=Zl(k,A.mode,q),q.return=A,A=q),h(A)):n(A,j)}return function(A,j,k,q){try{Fr=0;var oe=qe(A,j,k,q);return rr=null,oe}catch(ae){if(ae===ar||ae===si)throw ae;var Ne=Ut(29,ae,null,A.mode);return Ne.lanes=q,Ne.return=A,Ne}finally{}}}var Ta=kd(!0),Cd=kd(!1),Hn=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $n(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ce&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Fs(e),md(e,null,n),t}return Ws(e,r,t,n),Fs(e)}function ts(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xc(e,n)}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var h={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?o=u=h:u=u.next=h,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ho=!1;function ns(){if(ho){var e=nr;if(e!==null)throw e}}function as(e,t,n,r){ho=!1;var o=e.updateQueue;Hn=!1;var u=o.firstBaseUpdate,h=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var w=v,C=w.next;w.next=null,h===null?u=C:h.next=C,h=w;var B=e.alternate;B!==null&&(B=B.updateQueue,v=B.lastBaseUpdate,v!==h&&(v===null?B.firstBaseUpdate=C:v.next=C,B.lastBaseUpdate=w))}if(u!==null){var L=o.baseState;h=0,B=C=w=null,v=u;do{var D=v.lane&-536870913,M=D!==v.lane;if(M?(xe&D)===D:(r&D)===D){D!==0&&D===tr&&(ho=!0),B!==null&&(B=B.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var W=e,de=v;D=t;var qe=n;switch(de.tag){case 1:if(W=de.payload,typeof W=="function"){L=W.call(qe,L,D);break e}L=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=de.payload,D=typeof W=="function"?W.call(qe,L,D):W,D==null)break e;L=E({},L,D);break e;case 2:Hn=!0}}D=v.callback,D!==null&&(e.flags|=64,M&&(e.flags|=8192),M=o.callbacks,M===null?o.callbacks=[D]:M.push(D))}else M={lane:D,tag:v.tag,payload:v.payload,callback:v.callback,next:null},B===null?(C=B=M,w=L):B=B.next=M,h|=D;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;M=v,v=M.next,M.next=null,o.lastBaseUpdate=M,o.shared.pending=null}}while(!0);B===null&&(w=L),o.baseState=w,o.firstBaseUpdate=C,o.lastBaseUpdate=B,u===null&&(o.shared.lanes=0),Qn|=h,e.lanes=h,e.memoizedState=L}}function Dd(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Ud(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Dd(n[e],t)}var sr=x(null),ui=x(0);function zd(e,t){e=Nn,H(ui,e),H(sr,t),Nn=e|t.baseLanes}function go(){H(ui,Nn),H(sr,sr.current)}function mo(){Nn=ui.current,R(sr),R(ui)}var zt=x(null),Zt=null;function Vn(e){var t=e.alternate;H(et,et.current&1),H(zt,e),Zt===null&&(t===null||sr.current!==null||t.memoizedState!==null)&&(Zt=e)}function yo(e){H(et,et.current),H(zt,e),Zt===null&&(Zt=e)}function Md(e){e.tag===22?(H(et,et.current),H(zt,e),Zt===null&&(Zt=e)):Yn()}function Yn(){H(et,et.current),H(zt,zt.current)}function Mt(e){R(zt),Zt===e&&(Zt=null),R(et)}var et=x(0);function ci(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Su(n)||xu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wn=0,ve=null,Me=null,rt=null,di=!1,ir=!1,Ea=!1,fi=0,rs=0,lr=null,iy=0;function Pe(){throw Error(i(321))}function vo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dt(e[n],t[n]))return!1;return!0}function po(e,t,n,r,o,u){return wn=u,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?_f:Do,Ea=!1,u=n(r,o),Ea=!1,ir&&(u=qd(t,n,r,o)),Bd(e),u}function Bd(e){z.H=ls;var t=Me!==null&&Me.next!==null;if(wn=0,rt=Me=ve=null,di=!1,rs=0,lr=null,t)throw Error(i(300));e===null||st||(e=e.dependencies,e!==null&&ni(e)&&(st=!0))}function qd(e,t,n,r){ve=e;var o=0;do{if(ir&&(lr=null),rs=0,ir=!1,25<=o)throw Error(i(301));if(o+=1,rt=Me=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}z.H=wf,u=t(n,r)}while(ir);return u}function ly(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?ss(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(ve.flags|=1024),t}function bo(){var e=fi!==0;return fi=0,e}function _o(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function wo(e){if(di){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}di=!1}wn=0,rt=Me=ve=null,ir=!1,rs=fi=0,lr=null}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?ve.memoizedState=rt=e:rt=rt.next=e,rt}function tt(){if(Me===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=rt===null?ve.memoizedState:rt.next;if(t!==null)rt=t,Me=e;else{if(e===null)throw ve.alternate===null?Error(i(467)):Error(i(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},rt===null?ve.memoizedState=rt=e:rt=rt.next=e}return rt}function hi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ss(e){var t=rs;return rs+=1,lr===null&&(lr=[]),e=Ad(lr,e,t),t=ve,(rt===null?t.memoizedState:rt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?_f:Do),e}function gi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ss(e);if(e.$$typeof===$)return yt(e)}throw Error(i(438,String(e)))}function So(e){var t=null,n=ve.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=ve.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=hi(),ve.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=je;return t.index++,n}function Sn(e,t){return typeof t=="function"?t(e):t}function mi(e){var t=tt();return xo(t,Me,e)}function xo(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var o=e.baseQueue,u=r.pending;if(u!==null){if(o!==null){var h=o.next;o.next=u.next,u.next=h}t.baseQueue=o=u,r.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var v=h=null,w=null,C=t,B=!1;do{var L=C.lane&-536870913;if(L!==C.lane?(xe&L)===L:(wn&L)===L){var D=C.revertLane;if(D===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),L===tr&&(B=!0);else if((wn&D)===D){C=C.next,D===tr&&(B=!0);continue}else L={lane:0,revertLane:C.revertLane,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},w===null?(v=w=L,h=u):w=w.next=L,ve.lanes|=D,Qn|=D;L=C.action,Ea&&n(u,L),u=C.hasEagerState?C.eagerState:n(u,L)}else D={lane:L,revertLane:C.revertLane,gesture:C.gesture,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},w===null?(v=w=D,h=u):w=w.next=D,ve.lanes|=L,Qn|=L;C=C.next}while(C!==null&&C!==t);if(w===null?h=u:w.next=v,!Dt(u,e.memoizedState)&&(st=!0,B&&(n=nr,n!==null)))throw n;e.memoizedState=u,e.baseState=h,e.baseQueue=w,r.lastRenderedState=u}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function To(e){var t=tt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var h=o=o.next;do u=e(u,h.action),h=h.next;while(h!==o);Dt(u,t.memoizedState)||(st=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,r]}function Ld(e,t,n){var r=ve,o=tt(),u=Ee;if(u){if(n===void 0)throw Error(i(407));n=n()}else n=t();var h=!Dt((Me||o).memoizedState,n);if(h&&(o.memoizedState=n,st=!0),o=o.queue,Oo(Gd.bind(null,r,o,e),[e]),o.getSnapshot!==t||h||rt!==null&&rt.memoizedState.tag&1){if(r.flags|=2048,or(9,{destroy:void 0},$d.bind(null,r,o,n,t),null),He===null)throw Error(i(349));u||(wn&127)!==0||Hd(r,t,n)}return n}function Hd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t=hi(),ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $d(e,t,n,r){t.value=n,t.getSnapshot=r,Vd(t)&&Yd(e)}function Gd(e,t,n){return n(function(){Vd(t)&&Yd(e)})}function Vd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dt(e,n)}catch{return!0}}function Yd(e){var t=ya(e,2);t!==null&&Ct(t,e,2)}function Eo(e){var t=Et();if(typeof e=="function"){var n=e;if(e=n(),Ea){Tt(!0);try{n()}finally{Tt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:e},t}function Kd(e,t,n,r){return e.baseState=n,xo(e,Me,typeof r=="function"?r:Sn)}function oy(e,t,n,r,o){if(pi(e))throw Error(i(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){u.listeners.push(h)}};z.T!==null?n(!0):u.isTransition=!1,r(u),n=t.pending,n===null?(u.next=t.pending=u,Xd(t,u)):(u.next=n.next,t.pending=n.next=u)}}function Xd(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var u=z.T,h={};z.T=h;try{var v=n(o,r),w=z.S;w!==null&&w(h,v),Qd(e,t,v)}catch(C){jo(e,t,C)}finally{u!==null&&h.types!==null&&(u.types=h.types),z.T=u}}else try{u=n(o,r),Qd(e,t,u)}catch(C){jo(e,t,C)}}function Qd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Jd(e,t,r)},function(r){return jo(e,t,r)}):Jd(e,t,n)}function Jd(e,t,n){t.status="fulfilled",t.value=n,Id(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Xd(e,n)))}function jo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,Id(t),t=t.next;while(t!==r)}e.action=null}function Id(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Zd(e,t){return t}function Pd(e,t){if(Ee){var n=He.formState;if(n!==null){e:{var r=ve;if(Ee){if(Ve){t:{for(var o=Ve,u=It;o.nodeType!==8;){if(!u){o=null;break t}if(o=Pt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Ve=Pt(o.nextSibling),r=o.data==="F!";break e}}qn(r)}r=!1}r&&(t=n[0])}}return n=Et(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zd,lastRenderedState:t},n.queue=r,n=vf.bind(null,ve,r),r.dispatch=n,r=Eo(!1),u=Co.bind(null,ve,!1,r.queue),r=Et(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,n=oy.bind(null,ve,o,u,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Wd(e){var t=tt();return Fd(t,Me,e)}function Fd(e,t,n){if(t=xo(e,t,Zd)[0],e=mi(Sn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=ss(t)}catch(h){throw h===ar?si:h}else r=t;t=tt();var o=t.queue,u=o.dispatch;return n!==t.memoizedState&&(ve.flags|=2048,or(9,{destroy:void 0},uy.bind(null,o,n),null)),[r,u,e]}function uy(e,t){e.action=t}function ef(e){var t=tt(),n=Me;if(n!==null)return Fd(t,n,e);tt(),t=t.memoizedState,n=tt();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function or(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=ve.updateQueue,t===null&&(t=hi(),ve.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function tf(){return tt().memoizedState}function yi(e,t,n,r){var o=Et();ve.flags|=e,o.memoizedState=or(1|t,{destroy:void 0},n,r===void 0?null:r)}function vi(e,t,n,r){var o=tt();r=r===void 0?null:r;var u=o.memoizedState.inst;Me!==null&&r!==null&&vo(r,Me.memoizedState.deps)?o.memoizedState=or(t,u,n,r):(ve.flags|=e,o.memoizedState=or(1|t,u,n,r))}function nf(e,t){yi(8390656,8,e,t)}function Oo(e,t){vi(2048,8,e,t)}function cy(e){ve.flags|=4;var t=ve.updateQueue;if(t===null)t=hi(),ve.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function af(e){var t=tt().memoizedState;return cy({ref:t,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function rf(e,t){return vi(4,2,e,t)}function sf(e,t){return vi(4,4,e,t)}function lf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function of(e,t,n){n=n!=null?n.concat([e]):null,vi(4,4,lf.bind(null,t,e),n)}function Ao(){}function uf(e,t){var n=tt();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&vo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function cf(e,t){var n=tt();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&vo(t,r[1]))return r[0];if(r=e(),Ea){Tt(!0);try{e()}finally{Tt(!1)}}return n.memoizedState=[r,t],r}function No(e,t,n){return n===void 0||(wn&1073741824)!==0&&(xe&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=dh(),ve.lanes|=e,Qn|=e,n)}function df(e,t,n,r){return Dt(n,t)?n:sr.current!==null?(e=No(e,n,r),Dt(e,t)||(st=!0),e):(wn&42)===0||(wn&1073741824)!==0&&(xe&261930)===0?(st=!0,e.memoizedState=n):(e=dh(),ve.lanes|=e,Qn|=e,t)}function ff(e,t,n,r,o){var u=K.p;K.p=u!==0&&8>u?u:8;var h=z.T,v={};z.T=v,Co(e,!1,t,n);try{var w=o(),C=z.S;if(C!==null&&C(v,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var B=sy(w,r);is(e,t,B,Lt(e))}else is(e,t,r,Lt(e))}catch(L){is(e,t,{then:function(){},status:"rejected",reason:L},Lt())}finally{K.p=u,h!==null&&v.types!==null&&(h.types=v.types),z.T=h}}function dy(){}function Ro(e,t,n,r){if(e.tag!==5)throw Error(i(476));var o=hf(e).queue;ff(e,o,t,te,n===null?dy:function(){return gf(e),n(r)})}function hf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:te},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function gf(e){var t=hf(e);t.next===null&&(t=e.alternate.memoizedState),is(e,t.next.queue,{},Lt())}function ko(){return yt(xs)}function mf(){return tt().memoizedState}function yf(){return tt().memoizedState}function fy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Lt();e=$n(n);var r=Gn(t,e,n);r!==null&&(Ct(r,t,n),ts(r,t,n)),t={cache:so()},e.payload=t;return}t=t.return}}function hy(e,t,n){var r=Lt();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},pi(e)?pf(t,n):(n=Jl(e,t,n,r),n!==null&&(Ct(n,e,r),bf(n,t,r)))}function vf(e,t,n){var r=Lt();is(e,t,n,r)}function is(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(pi(e))pf(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,v=u(h,n);if(o.hasEagerState=!0,o.eagerState=v,Dt(v,h))return Ws(e,t,o,0),He===null&&Ps(),!1}catch{}finally{}if(n=Jl(e,t,o,r),n!==null)return Ct(n,e,r),bf(n,t,r),!0}return!1}function Co(e,t,n,r){if(r={lane:2,revertLane:cu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},pi(e)){if(t)throw Error(i(479))}else t=Jl(e,n,r,2),t!==null&&Ct(t,e,2)}function pi(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function pf(e,t){ir=di=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bf(e,t,n){if((n&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xc(e,n)}}var ls={readContext:yt,use:gi,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};ls.useEffectEvent=Pe;var _f={readContext:yt,use:gi,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:nf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,yi(4194308,4,lf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yi(4194308,4,e,t)},useInsertionEffect:function(e,t){yi(4,2,e,t)},useMemo:function(e,t){var n=Et();t=t===void 0?null:t;var r=e();if(Ea){Tt(!0);try{e()}finally{Tt(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Et();if(n!==void 0){var o=n(t);if(Ea){Tt(!0);try{n(t)}finally{Tt(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=hy.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:function(e){e=Eo(e);var t=e.queue,n=vf.bind(null,ve,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ao,useDeferredValue:function(e,t){var n=Et();return No(n,e,t)},useTransition:function(){var e=Eo(!1);return e=ff.bind(null,ve,e.queue,!0,!1),Et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ve,o=Et();if(Ee){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),He===null)throw Error(i(349));(xe&127)!==0||Hd(r,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,nf(Gd.bind(null,r,u,e),[e]),r.flags|=2048,or(9,{destroy:void 0},$d.bind(null,r,u,n,t),null),n},useId:function(){var e=Et(),t=He.identifierPrefix;if(Ee){var n=cn,r=un;n=(r&~(1<<32-nt(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=fi++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=iy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ko,useFormState:Pd,useActionState:Pd,useOptimistic:function(e){var t=Et();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Co.bind(null,ve,!0,n),n.dispatch=t,[e,t]},useMemoCache:So,useCacheRefresh:function(){return Et().memoizedState=fy.bind(null,ve)},useEffectEvent:function(e){var t=Et(),n={impl:e};return t.memoizedState=n,function(){if((Ce&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Do={readContext:yt,use:gi,useCallback:uf,useContext:yt,useEffect:Oo,useImperativeHandle:of,useInsertionEffect:rf,useLayoutEffect:sf,useMemo:cf,useReducer:mi,useRef:tf,useState:function(){return mi(Sn)},useDebugValue:Ao,useDeferredValue:function(e,t){var n=tt();return df(n,Me.memoizedState,e,t)},useTransition:function(){var e=mi(Sn)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:ss(e),t]},useSyncExternalStore:Ld,useId:mf,useHostTransitionStatus:ko,useFormState:Wd,useActionState:Wd,useOptimistic:function(e,t){var n=tt();return Kd(n,Me,e,t)},useMemoCache:So,useCacheRefresh:yf};Do.useEffectEvent=af;var wf={readContext:yt,use:gi,useCallback:uf,useContext:yt,useEffect:Oo,useImperativeHandle:of,useInsertionEffect:rf,useLayoutEffect:sf,useMemo:cf,useReducer:To,useRef:tf,useState:function(){return To(Sn)},useDebugValue:Ao,useDeferredValue:function(e,t){var n=tt();return Me===null?No(n,e,t):df(n,Me.memoizedState,e,t)},useTransition:function(){var e=To(Sn)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:ss(e),t]},useSyncExternalStore:Ld,useId:mf,useHostTransitionStatus:ko,useFormState:ef,useActionState:ef,useOptimistic:function(e,t){var n=tt();return Me!==null?Kd(n,Me,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:So,useCacheRefresh:yf};wf.useEffectEvent=af;function Uo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:E({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lt(),o=$n(r);o.payload=t,n!=null&&(o.callback=n),t=Gn(e,o,r),t!==null&&(Ct(t,e,r),ts(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lt(),o=$n(r);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Gn(e,o,r),t!==null&&(Ct(t,e,r),ts(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lt(),r=$n(n);r.tag=2,t!=null&&(r.callback=t),t=Gn(e,r,n),t!==null&&(Ct(t,e,n),ts(t,e,n))}};function Sf(e,t,n,r,o,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,h):t.prototype&&t.prototype.isPureReactComponent?!Qr(n,r)||!Qr(o,u):!0}function xf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function ja(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=E({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function Tf(e){Zs(e)}function Ef(e){console.error(e)}function jf(e){Zs(e)}function bi(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Of(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Mo(e,t,n){return n=$n(n),n.tag=3,n.payload={element:null},n.callback=function(){bi(e,t)},n}function Af(e){return e=$n(e),e.tag=3,e}function Nf(e,t,n,r){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var u=r.value;e.payload=function(){return o(u)},e.callback=function(){Of(t,n,r)}}var h=n.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){Of(t,n,r),typeof o!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})})}function gy(e,t,n,r,o){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&er(t,n,o,!0),n=zt.current,n!==null){switch(n.tag){case 31:case 13:return Zt===null?ki():n.alternate===null&&We===0&&(We=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===ii?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),lu(e,r,o)),!1;case 22:return n.flags|=65536,r===ii?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),lu(e,r,o)),!1}throw Error(i(435,n.tag))}return lu(e,r,o),ki(),!1}if(Ee)return t=zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==eo&&(e=Error(i(422),{cause:r}),Zr(Xt(e,n)))):(r!==eo&&(t=Error(i(423),{cause:r}),Zr(Xt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=Xt(r,n),o=Mo(e.stateNode,r,o),fo(e,o),We!==4&&(We=2)),!1;var u=Error(i(520),{cause:r});if(u=Xt(u,n),ms===null?ms=[u]:ms.push(u),We!==4&&(We=2),t===null)return!0;r=Xt(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=Mo(n.stateNode,r,e),fo(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Jn===null||!Jn.has(u))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Af(o),Nf(o,e,n,r),fo(n,o),!1}n=n.return}while(n!==null);return!1}var Bo=Error(i(461)),st=!1;function vt(e,t,n,r){t.child=e===null?Cd(t,null,n,r):Ta(t,e.child,n,r)}function Rf(e,t,n,r,o){n=n.render;var u=t.ref;if("ref"in r){var h={};for(var v in r)v!=="ref"&&(h[v]=r[v])}else h=r;return _a(t),r=po(e,t,n,h,u,o),v=bo(),e!==null&&!st?(_o(e,t,o),xn(e,t,o)):(Ee&&v&&Wl(t),t.flags|=1,vt(e,t,r,o),t.child)}function kf(e,t,n,r,o){if(e===null){var u=n.type;return typeof u=="function"&&!Il(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,Cf(e,t,u,r,o)):(e=ei(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Ko(e,o)){var h=u.memoizedProps;if(n=n.compare,n=n!==null?n:Qr,n(h,r)&&e.ref===t.ref)return xn(e,t,o)}return t.flags|=1,e=vn(u,r),e.ref=t.ref,e.return=t,t.child=e}function Cf(e,t,n,r,o){if(e!==null){var u=e.memoizedProps;if(Qr(u,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=u,Ko(e,o))(e.flags&131072)!==0&&(st=!0);else return t.lanes=e.lanes,xn(e,t,o)}return qo(e,t,n,r,o)}function Df(e,t,n,r){var o=r.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~u}else r=0,t.child=null;return Uf(e,t,u,n,r)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ri(t,u!==null?u.cachePool:null),u!==null?zd(t,u):go(),Md(t);else return r=t.lanes=536870912,Uf(e,t,u!==null?u.baseLanes|n:n,n,r)}else u!==null?(ri(t,u.cachePool),zd(t,u),Yn(),t.memoizedState=null):(e!==null&&ri(t,null),go(),Yn());return vt(e,t,o,n),t.child}function os(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Uf(e,t,n,r,o){var u=lo();return u=u===null?null:{parent:at._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&ri(t,null),go(),Md(t),e!==null&&er(e,t,r,!0),t.childLanes=o,null}function _i(e,t){return t=Si({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function zf(e,t,n){return Ta(t,e.child,null,n),e=_i(t,t.pendingProps),e.flags|=2,Mt(t),t.memoizedState=null,e}function my(e,t,n){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ee){if(r.mode==="hidden")return e=_i(t,r),t.lanes=536870912,os(null,e);if(yo(t),(e=Ve)?(e=Qh(e,It),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Mn!==null?{id:un,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},n=vd(e),n.return=t,t.child=n,mt=t,Ve=null)):e=null,e===null)throw qn(t);return t.lanes=536870912,null}return _i(t,r)}var u=e.memoizedState;if(u!==null){var h=u.dehydrated;if(yo(t),o)if(t.flags&256)t.flags&=-257,t=zf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(st||er(e,t,n,!1),o=(n&e.childLanes)!==0,st||o){if(r=He,r!==null&&(h=Tc(r,n),h!==0&&h!==u.retryLane))throw u.retryLane=h,ya(e,h),Ct(r,e,h),Bo;ki(),t=zf(e,t,n)}else e=u.treeContext,Ve=Pt(h.nextSibling),mt=t,Ee=!0,Bn=null,It=!1,e!==null&&_d(t,e),t=_i(t,r),t.flags|=4096;return t}return e=vn(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function wi(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function qo(e,t,n,r,o){return _a(t),n=po(e,t,n,r,void 0,o),r=bo(),e!==null&&!st?(_o(e,t,o),xn(e,t,o)):(Ee&&r&&Wl(t),t.flags|=1,vt(e,t,n,o),t.child)}function Mf(e,t,n,r,o,u){return _a(t),t.updateQueue=null,n=qd(t,r,n,o),Bd(e),r=bo(),e!==null&&!st?(_o(e,t,u),xn(e,t,u)):(Ee&&r&&Wl(t),t.flags|=1,vt(e,t,n,u),t.child)}function Bf(e,t,n,r,o){if(_a(t),t.stateNode===null){var u=Za,h=n.contextType;typeof h=="object"&&h!==null&&(u=yt(h)),u=new n(r,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=zo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=r,u.state=t.memoizedState,u.refs={},uo(t),h=n.contextType,u.context=typeof h=="object"&&h!==null?yt(h):Za,u.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(Uo(t,n,h,r),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(h=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),h!==u.state&&zo.enqueueReplaceState(u,u.state,null),as(t,r,u,o),ns(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,w=ja(n,v);u.props=w;var C=u.context,B=n.contextType;h=Za,typeof B=="object"&&B!==null&&(h=yt(B));var L=n.getDerivedStateFromProps;B=typeof L=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,B||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||C!==h)&&xf(t,u,r,h),Hn=!1;var D=t.memoizedState;u.state=D,as(t,r,u,o),ns(),C=t.memoizedState,v||D!==C||Hn?(typeof L=="function"&&(Uo(t,n,L,r),C=t.memoizedState),(w=Hn||Sf(t,n,w,r,D,C,h))?(B||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=C),u.props=r,u.state=C,u.context=h,r=w):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,co(e,t),h=t.memoizedProps,B=ja(n,h),u.props=B,L=t.pendingProps,D=u.context,C=n.contextType,w=Za,typeof C=="object"&&C!==null&&(w=yt(C)),v=n.getDerivedStateFromProps,(C=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==L||D!==w)&&xf(t,u,r,w),Hn=!1,D=t.memoizedState,u.state=D,as(t,r,u,o),ns();var M=t.memoizedState;h!==L||D!==M||Hn||e!==null&&e.dependencies!==null&&ni(e.dependencies)?(typeof v=="function"&&(Uo(t,n,v,r),M=t.memoizedState),(B=Hn||Sf(t,n,B,r,D,M,w)||e!==null&&e.dependencies!==null&&ni(e.dependencies))?(C||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,M,w),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,M,w)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=M),u.props=r,u.state=M,u.context=w,r=B):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),r=!1)}return u=r,wi(e,t),r=(t.flags&128)!==0,u||r?(u=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&r?(t.child=Ta(t,e.child,null,o),t.child=Ta(t,null,n,o)):vt(e,t,n,o),t.memoizedState=u.state,e=t.child):e=xn(e,t,o),e}function qf(e,t,n,r){return pa(),t.flags|=256,vt(e,t,n,r),t.child}var Lo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ho(e){return{baseLanes:e,cachePool:jd()}}function $o(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=qt),e}function Lf(e,t,n){var r=t.pendingProps,o=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(o?Vn(t):Yn(),(e=Ve)?(e=Qh(e,It),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Mn!==null?{id:un,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},n=vd(e),n.return=t,t.child=n,mt=t,Ve=null)):e=null,e===null)throw qn(t);return xu(e)?t.lanes=32:t.lanes=536870912,null}var v=r.children;return r=r.fallback,o?(Yn(),o=t.mode,v=Si({mode:"hidden",children:v},o),r=va(r,o,n,null),v.return=t,r.return=t,v.sibling=r,t.child=v,r=t.child,r.memoizedState=Ho(n),r.childLanes=$o(e,h,n),t.memoizedState=Lo,os(null,r)):(Vn(t),Go(t,v))}var w=e.memoizedState;if(w!==null&&(v=w.dehydrated,v!==null)){if(u)t.flags&256?(Vn(t),t.flags&=-257,t=Vo(e,t,n)):t.memoizedState!==null?(Yn(),t.child=e.child,t.flags|=128,t=null):(Yn(),v=r.fallback,o=t.mode,r=Si({mode:"visible",children:r.children},o),v=va(v,o,n,null),v.flags|=2,r.return=t,v.return=t,r.sibling=v,t.child=r,Ta(t,e.child,null,n),r=t.child,r.memoizedState=Ho(n),r.childLanes=$o(e,h,n),t.memoizedState=Lo,t=os(null,r));else if(Vn(t),xu(v)){if(h=v.nextSibling&&v.nextSibling.dataset,h)var C=h.dgst;h=C,r=Error(i(419)),r.stack="",r.digest=h,Zr({value:r,source:null,stack:null}),t=Vo(e,t,n)}else if(st||er(e,t,n,!1),h=(n&e.childLanes)!==0,st||h){if(h=He,h!==null&&(r=Tc(h,n),r!==0&&r!==w.retryLane))throw w.retryLane=r,ya(e,r),Ct(h,e,r),Bo;Su(v)||ki(),t=Vo(e,t,n)}else Su(v)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Ve=Pt(v.nextSibling),mt=t,Ee=!0,Bn=null,It=!1,e!==null&&_d(t,e),t=Go(t,r.children),t.flags|=4096);return t}return o?(Yn(),v=r.fallback,o=t.mode,w=e.child,C=w.sibling,r=vn(w,{mode:"hidden",children:r.children}),r.subtreeFlags=w.subtreeFlags&65011712,C!==null?v=vn(C,v):(v=va(v,o,n,null),v.flags|=2),v.return=t,r.return=t,r.sibling=v,t.child=r,os(null,r),r=t.child,v=e.child.memoizedState,v===null?v=Ho(n):(o=v.cachePool,o!==null?(w=at._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=jd(),v={baseLanes:v.baseLanes|n,cachePool:o}),r.memoizedState=v,r.childLanes=$o(e,h,n),t.memoizedState=Lo,os(e.child,r)):(Vn(t),n=e.child,e=n.sibling,n=vn(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=n,t.memoizedState=null,n)}function Go(e,t){return t=Si({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Si(e,t){return e=Ut(22,e,null,t),e.lanes=0,e}function Vo(e,t,n){return Ta(t,e.child,null,n),e=Go(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ao(e.return,t,n)}function Yo(e,t,n,r,o,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:u}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=n,h.tailMode=o,h.treeForkCount=u)}function $f(e,t,n){var r=t.pendingProps,o=r.revealOrder,u=r.tail;r=r.children;var h=et.current,v=(h&2)!==0;if(v?(h=h&1|2,t.flags|=128):h&=1,H(et,h),vt(e,t,r,n),r=Ee?Ir:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hf(e,n,t);else if(e.tag===19)Hf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ci(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Yo(t,!1,o,n,u,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ci(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Yo(t,!0,n,null,u,r);break;case"together":Yo(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(er(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=vn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ko(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ni(e)))}function yy(e,t,n){switch(t.tag){case 3:Oe(t,t.stateNode.containerInfo),Ln(t,at,e.memoizedState.cache),pa();break;case 27:case 5:St(t);break;case 4:Oe(t,t.stateNode.containerInfo);break;case 10:Ln(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,yo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Vn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Lf(e,t,n):(Vn(t),e=xn(e,t,n),e!==null?e.sibling:null);Vn(t);break;case 19:var o=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(er(e,t,n,!1),r=(n&t.childLanes)!==0),o){if(r)return $f(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),H(et,et.current),r)break;return null;case 22:return t.lanes=0,Df(e,t,n,t.pendingProps);case 24:Ln(t,at,e.memoizedState.cache)}return xn(e,t,n)}function Gf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)st=!0;else{if(!Ko(e,n)&&(t.flags&128)===0)return st=!1,yy(e,t,n);st=(e.flags&131072)!==0}else st=!1,Ee&&(t.flags&1048576)!==0&&bd(t,Ir,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Sa(t.elementType),t.type=e,typeof e=="function")Il(e)?(r=ja(e,r),t.tag=1,t=Bf(null,t,e,r,n)):(t.tag=0,t=qo(null,t,e,r,n));else{if(e!=null){var o=e.$$typeof;if(o===X){t.tag=11,t=Rf(null,t,e,r,n);break e}else if(o===J){t.tag=14,t=kf(null,t,e,r,n);break e}}throw t=Fe(e)||e,Error(i(306,t,""))}}return t;case 0:return qo(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,o=ja(r,t.pendingProps),Bf(e,t,r,o,n);case 3:e:{if(Oe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var u=t.memoizedState;o=u.element,co(e,t),as(t,r,null,n);var h=t.memoizedState;if(r=h.cache,Ln(t,at,r),r!==u.cache&&ro(t,[at],n,!0),ns(),r=h.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=qf(e,t,r,n);break e}else if(r!==o){o=Xt(Error(i(424)),t),Zr(o),t=qf(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=Pt(e.firstChild),mt=t,Ee=!0,Bn=null,It=!0,n=Cd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(pa(),r===o){t=xn(e,t,n);break e}vt(e,t,r,n)}t=t.child}return t;case 26:return wi(e,t),e===null?(n=Fh(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ee||(n=t.type,e=t.pendingProps,r=qi(Q.current).createElement(n),r[gt]=t,r[jt]=e,pt(r,n,e),ft(r),t.stateNode=r):t.memoizedState=Fh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return St(t),e===null&&Ee&&(r=t.stateNode=Zh(t.type,t.pendingProps,Q.current),mt=t,It=!0,o=Ve,Wn(t.type)?(Tu=o,Ve=Pt(r.firstChild)):Ve=o),vt(e,t,t.pendingProps.children,n),wi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((o=r=Ve)&&(r=Xy(r,t.type,t.pendingProps,It),r!==null?(t.stateNode=r,mt=t,Ve=Pt(r.firstChild),It=!1,o=!0):o=!1),o||qn(t)),St(t),o=t.type,u=t.pendingProps,h=e!==null?e.memoizedProps:null,r=u.children,bu(o,u)?r=null:h!==null&&bu(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=po(e,t,ly,null,null,n),xs._currentValue=o),wi(e,t),vt(e,t,r,n),t.child;case 6:return e===null&&Ee&&((e=n=Ve)&&(n=Qy(n,t.pendingProps,It),n!==null?(t.stateNode=n,mt=t,Ve=null,e=!0):e=!1),e||qn(t)),null;case 13:return Lf(e,t,n);case 4:return Oe(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ta(t,null,r,n):vt(e,t,r,n),t.child;case 11:return Rf(e,t,t.type,t.pendingProps,n);case 7:return vt(e,t,t.pendingProps,n),t.child;case 8:return vt(e,t,t.pendingProps.children,n),t.child;case 12:return vt(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ln(t,t.type,r.value),vt(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,_a(t),o=yt(o),r=r(o),t.flags|=1,vt(e,t,r,n),t.child;case 14:return kf(e,t,t.type,t.pendingProps,n);case 15:return Cf(e,t,t.type,t.pendingProps,n);case 19:return $f(e,t,n);case 31:return my(e,t,n);case 22:return Df(e,t,n,t.pendingProps);case 24:return _a(t),r=yt(at),e===null?(o=lo(),o===null&&(o=He,u=so(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=n),o=u),t.memoizedState={parent:r,cache:o},uo(t),Ln(t,at,o)):((e.lanes&n)!==0&&(co(e,t),as(t,null,null,n),ns()),o=e.memoizedState,u=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ln(t,at,r)):(r=u.cache,Ln(t,at,r),r!==o.cache&&ro(t,[at],n,!0))),vt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Tn(e){e.flags|=4}function Xo(e,t,n,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(mh())e.flags|=8192;else throw xa=ii,oo}else e.flags&=-16777217}function Vf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!r0(t))if(mh())e.flags|=8192;else throw xa=ii,oo}function xi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?wc():536870912,e.lanes|=t,fr|=t)}function us(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vy(e,t,n){var r=t.pendingProps;switch(Fl(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),_n(at),De(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Fa(t)?Tn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,to())),Ye(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(Tn(t),u!==null?(Ye(t),Vf(t,u)):(Ye(t),Xo(t,o,null,r,n))):u?u!==e.memoizedState?(Tn(t),Ye(t),Vf(t,u)):(Ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&Tn(t),Ye(t),Xo(t,o,e,r,n)),null;case 27:if(la(t),n=Q.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Tn(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Ye(t),null}e=Y.current,Fa(t)?wd(t):(e=Zh(o,r,n),t.stateNode=e,Tn(t))}return Ye(t),null;case 5:if(la(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Tn(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Ye(t),null}if(u=Y.current,Fa(t))wd(t);else{var h=qi(Q.current);switch(u){case 1:u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=h.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?h.createElement("select",{is:r.is}):h.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?h.createElement(o,{is:r.is}):h.createElement(o)}}u[gt]=t,u[jt]=r;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)u.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=u;e:switch(pt(u,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Tn(t)}}return Ye(t),Xo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Tn(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(i(166));if(e=Q.current,Fa(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,o=mt,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[gt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Lh(e.nodeValue,n)),e||qn(t,!0)}else e=qi(e).createTextNode(r),e[gt]=t,t.stateNode=e}return Ye(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Fa(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[gt]=t}else pa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),e=!1}else n=to(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Mt(t),t):(Mt(t),null);if((t.flags&128)!==0)throw Error(i(558))}return Ye(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Fa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(i(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));o[gt]=t}else pa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),o=!1}else o=to(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Mt(t),t):(Mt(t),null)}return Mt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),xi(t,t.updateQueue),Ye(t),null);case 4:return De(),e===null&&gu(t.stateNode.containerInfo),Ye(t),null;case 10:return _n(t.type),Ye(t),null;case 19:if(R(et),r=t.memoizedState,r===null)return Ye(t),null;if(o=(t.flags&128)!==0,u=r.rendering,u===null)if(o)us(r,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=ci(e),u!==null){for(t.flags|=128,us(r,!1),e=u.updateQueue,t.updateQueue=e,xi(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)yd(n,e),n=n.sibling;return H(et,et.current&1|2),Ee&&pn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&xt()>Ai&&(t.flags|=128,o=!0,us(r,!1),t.lanes=4194304)}else{if(!o)if(e=ci(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,xi(t,e),us(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!Ee)return Ye(t),null}else 2*xt()-r.renderingStartTime>Ai&&n!==536870912&&(t.flags|=128,o=!0,us(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=xt(),e.sibling=null,n=et.current,H(et,o?n&1|2:n&1),Ee&&pn(t,r.treeForkCount),e):(Ye(t),null);case 22:case 23:return Mt(t),mo(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(n&536870912)!==0&&(t.flags&128)===0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),n=t.updateQueue,n!==null&&xi(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&R(wa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_n(at),Ye(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function py(e,t){switch(Fl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _n(at),De(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return la(t),null;case 31:if(t.memoizedState!==null){if(Mt(t),t.alternate===null)throw Error(i(340));pa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Mt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));pa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(et),null;case 4:return De(),null;case 10:return _n(t.type),null;case 22:case 23:return Mt(t),mo(),e!==null&&R(wa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _n(at),null;case 25:return null;default:return null}}function Yf(e,t){switch(Fl(t),t.tag){case 3:_n(at),De();break;case 26:case 27:case 5:la(t);break;case 4:De();break;case 31:t.memoizedState!==null&&Mt(t);break;case 13:Mt(t);break;case 19:R(et);break;case 10:_n(t.type);break;case 22:case 23:Mt(t),mo(),e!==null&&R(wa);break;case 24:_n(at)}}function cs(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var u=n.create,h=n.inst;r=u(),h.destroy=r}n=n.next}while(n!==o)}}catch(v){ze(t,t.return,v)}}function Kn(e,t,n){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&e)===e){var h=r.inst,v=h.destroy;if(v!==void 0){h.destroy=void 0,o=t;var w=n,C=v;try{C()}catch(B){ze(o,w,B)}}}r=r.next}while(r!==u)}}catch(B){ze(t,t.return,B)}}function Kf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ud(t,n)}catch(r){ze(e,e.return,r)}}}function Xf(e,t,n){n.props=ja(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ze(e,t,r)}}function ds(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(o){ze(e,t,o)}}function dn(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(o){ze(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){ze(e,t,o)}else n.current=null}function Qf(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){ze(e,e.return,o)}}function Qo(e,t,n){try{var r=e.stateNode;Hy(r,e.type,n,t),r[jt]=t}catch(o){ze(e,e.return,o)}}function Jf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wn(e.type)||e.tag===4}function Jo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Io(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=mn));else if(r!==4&&(r===27&&Wn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Io(e,t,n),e=e.sibling;e!==null;)Io(e,t,n),e=e.sibling}function Ti(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Wn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ti(e,t,n),e=e.sibling;e!==null;)Ti(e,t,n),e=e.sibling}function If(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);pt(t,r,n),t[gt]=e,t[jt]=n}catch(u){ze(e,e.return,u)}}var En=!1,it=!1,Zo=!1,Zf=typeof WeakSet=="function"?WeakSet:Set,ht=null;function by(e,t){if(e=e.containerInfo,vu=Ki,e=ld(e),Gl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var h=0,v=-1,w=-1,C=0,B=0,L=e,D=null;t:for(;;){for(var M;L!==n||o!==0&&L.nodeType!==3||(v=h+o),L!==u||r!==0&&L.nodeType!==3||(w=h+r),L.nodeType===3&&(h+=L.nodeValue.length),(M=L.firstChild)!==null;)D=L,L=M;for(;;){if(L===e)break t;if(D===n&&++C===o&&(v=h),D===u&&++B===r&&(w=h),(M=L.nextSibling)!==null)break;L=D,D=L.parentNode}L=M}n=v===-1||w===-1?null:{start:v,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(pu={focusedElem:e,selectionRange:n},Ki=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){switch(t=ht,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,o=u.memoizedProps,u=u.memoizedState,r=n.stateNode;try{var W=ja(n.type,o);e=r.getSnapshotBeforeUpdate(W,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(de){ze(n,n.return,de)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)wu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}}function Pf(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:On(e,n),r&4&&cs(5,n);break;case 1:if(On(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(h){ze(n,n.return,h)}else{var o=ja(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){ze(n,n.return,h)}}r&64&&Kf(n),r&512&&ds(n,n.return);break;case 3:if(On(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ud(e,t)}catch(h){ze(n,n.return,h)}}break;case 27:t===null&&r&4&&If(n);case 26:case 5:On(e,n),t===null&&r&4&&Qf(n),r&512&&ds(n,n.return);break;case 12:On(e,n);break;case 31:On(e,n),r&4&&eh(e,n);break;case 13:On(e,n),r&4&&th(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ay.bind(null,n),Jy(e,n))));break;case 22:if(r=n.memoizedState!==null||En,!r){t=t!==null&&t.memoizedState!==null||it,o=En;var u=it;En=r,(it=t)&&!u?An(e,n,(n.subtreeFlags&8772)!==0):On(e,n),En=o,it=u}break;case 30:break;default:On(e,n)}}function Wf(e){var t=e.alternate;t!==null&&(e.alternate=null,Wf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&El(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ie=null,At=!1;function jn(e,t,n){for(n=n.child;n!==null;)Ff(e,t,n),n=n.sibling}function Ff(e,t,n){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount($e,n)}catch{}switch(n.tag){case 26:it||dn(n,t),jn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:it||dn(n,t);var r=Ie,o=At;Wn(n.type)&&(Ie=n.stateNode,At=!1),jn(e,t,n),_s(n.stateNode),Ie=r,At=o;break;case 5:it||dn(n,t);case 6:if(r=Ie,o=At,Ie=null,jn(e,t,n),Ie=r,At=o,Ie!==null)if(At)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(n.stateNode)}catch(u){ze(n,t,u)}else try{Ie.removeChild(n.stateNode)}catch(u){ze(n,t,u)}break;case 18:Ie!==null&&(At?(e=Ie,Kh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),_r(e)):Kh(Ie,n.stateNode));break;case 4:r=Ie,o=At,Ie=n.stateNode.containerInfo,At=!0,jn(e,t,n),Ie=r,At=o;break;case 0:case 11:case 14:case 15:Kn(2,n,t),it||Kn(4,n,t),jn(e,t,n);break;case 1:it||(dn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&Xf(n,t,r)),jn(e,t,n);break;case 21:jn(e,t,n);break;case 22:it=(r=it)||n.memoizedState!==null,jn(e,t,n),it=r;break;default:jn(e,t,n)}}function eh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{_r(e)}catch(n){ze(t,t.return,n)}}}function th(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_r(e)}catch(n){ze(t,t.return,n)}}function _y(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Zf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Zf),t;default:throw Error(i(435,e.tag))}}function Ei(e,t){var n=_y(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var o=Ny.bind(null,e,r);r.then(o,o)}})}function Nt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r],u=e,h=t,v=h;e:for(;v!==null;){switch(v.tag){case 27:if(Wn(v.type)){Ie=v.stateNode,At=!1;break e}break;case 5:Ie=v.stateNode,At=!1;break e;case 3:case 4:Ie=v.stateNode.containerInfo,At=!0;break e}v=v.return}if(Ie===null)throw Error(i(160));Ff(u,h,o),Ie=null,At=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)nh(t,e),t=t.sibling}var nn=null;function nh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nt(t,e),Rt(e),r&4&&(Kn(3,e,e.return),cs(3,e),Kn(5,e,e.return));break;case 1:Nt(t,e),Rt(e),r&512&&(it||n===null||dn(n,n.return)),r&64&&En&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var o=nn;if(Nt(t,e),Rt(e),r&512&&(it||n===null||dn(n,n.return)),r&4){var u=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":u=o.getElementsByTagName("title")[0],(!u||u[qr]||u[gt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(r),o.head.insertBefore(u,o.querySelector("head > title"))),pt(u,r,n),u[gt]=e,ft(u),r=u;break e;case"link":var h=n0("link","href",o).get(r+(n.href||""));if(h){for(var v=0;v<h.length;v++)if(u=h[v],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){h.splice(v,1);break t}}u=o.createElement(r),pt(u,r,n),o.head.appendChild(u);break;case"meta":if(h=n0("meta","content",o).get(r+(n.content||""))){for(v=0;v<h.length;v++)if(u=h[v],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){h.splice(v,1);break t}}u=o.createElement(r),pt(u,r,n),o.head.appendChild(u);break;default:throw Error(i(468,r))}u[gt]=e,ft(u),r=u}e.stateNode=r}else a0(o,e.type,e.stateNode);else e.stateNode=t0(o,r,e.memoizedProps);else u!==r?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,r===null?a0(o,e.type,e.stateNode):t0(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Qo(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nt(t,e),Rt(e),r&512&&(it||n===null||dn(n,n.return)),n!==null&&r&4&&Qo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nt(t,e),Rt(e),r&512&&(it||n===null||dn(n,n.return)),e.flags&32){o=e.stateNode;try{Va(o,"")}catch(W){ze(e,e.return,W)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,Qo(e,o,n!==null?n.memoizedProps:o)),r&1024&&(Zo=!0);break;case 6:if(Nt(t,e),Rt(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(W){ze(e,e.return,W)}}break;case 3:if($i=null,o=nn,nn=Li(t.containerInfo),Nt(t,e),nn=o,Rt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_r(t.containerInfo)}catch(W){ze(e,e.return,W)}Zo&&(Zo=!1,ah(e));break;case 4:r=nn,nn=Li(e.stateNode.containerInfo),Nt(t,e),Rt(e),nn=r;break;case 12:Nt(t,e),Rt(e);break;case 31:Nt(t,e),Rt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ei(e,r)));break;case 13:Nt(t,e),Rt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Oi=xt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ei(e,r)));break;case 22:o=e.memoizedState!==null;var w=n!==null&&n.memoizedState!==null,C=En,B=it;if(En=C||o,it=B||w,Nt(t,e),it=B,En=C,Rt(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||w||En||it||Oa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){w=n=t;try{if(u=w.stateNode,o)h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{v=w.stateNode;var L=w.memoizedProps.style,D=L!=null&&L.hasOwnProperty("display")?L.display:null;v.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(W){ze(w,w.return,W)}}}else if(t.tag===6){if(n===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(W){ze(w,w.return,W)}}}else if(t.tag===18){if(n===null){w=t;try{var M=w.stateNode;o?Xh(M,!0):Xh(w.stateNode,!1)}catch(W){ze(w,w.return,W)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Ei(e,n))));break;case 19:Nt(t,e),Rt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ei(e,r)));break;case 30:break;case 21:break;default:Nt(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Jf(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var o=n.stateNode,u=Jo(e);Ti(e,u,o);break;case 5:var h=n.stateNode;n.flags&32&&(Va(h,""),n.flags&=-33);var v=Jo(e);Ti(e,v,h);break;case 3:case 4:var w=n.stateNode.containerInfo,C=Jo(e);Io(e,C,w);break;default:throw Error(i(161))}}catch(B){ze(e,e.return,B)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ah(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ah(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function On(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Pf(e,t.alternate,t),t=t.sibling}function Oa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Kn(4,t,t.return),Oa(t);break;case 1:dn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Xf(t,t.return,n),Oa(t);break;case 27:_s(t.stateNode);case 26:case 5:dn(t,t.return),Oa(t);break;case 22:t.memoizedState===null&&Oa(t);break;case 30:Oa(t);break;default:Oa(t)}e=e.sibling}}function An(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,u=t,h=u.flags;switch(u.tag){case 0:case 11:case 15:An(o,u,n),cs(4,u);break;case 1:if(An(o,u,n),r=u,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(C){ze(r,r.return,C)}if(r=u,o=r.updateQueue,o!==null){var v=r.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)Dd(w[o],v)}catch(C){ze(r,r.return,C)}}n&&h&64&&Kf(u),ds(u,u.return);break;case 27:If(u);case 26:case 5:An(o,u,n),n&&r===null&&h&4&&Qf(u),ds(u,u.return);break;case 12:An(o,u,n);break;case 31:An(o,u,n),n&&h&4&&eh(o,u);break;case 13:An(o,u,n),n&&h&4&&th(o,u);break;case 22:u.memoizedState===null&&An(o,u,n),ds(u,u.return);break;case 30:break;default:An(o,u,n)}t=t.sibling}}function Po(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Pr(n))}function Wo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Pr(e))}function an(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rh(e,t,n,r),t=t.sibling}function rh(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:an(e,t,n,r),o&2048&&cs(9,t);break;case 1:an(e,t,n,r);break;case 3:an(e,t,n,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Pr(e)));break;case 12:if(o&2048){an(e,t,n,r),e=t.stateNode;try{var u=t.memoizedProps,h=u.id,v=u.onPostCommit;typeof v=="function"&&v(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){ze(t,t.return,w)}}else an(e,t,n,r);break;case 31:an(e,t,n,r);break;case 13:an(e,t,n,r);break;case 23:break;case 22:u=t.stateNode,h=t.alternate,t.memoizedState!==null?u._visibility&2?an(e,t,n,r):fs(e,t):u._visibility&2?an(e,t,n,r):(u._visibility|=2,ur(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Po(h,t);break;case 24:an(e,t,n,r),o&2048&&Wo(t.alternate,t);break;default:an(e,t,n,r)}}function ur(e,t,n,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,h=t,v=n,w=r,C=h.flags;switch(h.tag){case 0:case 11:case 15:ur(u,h,v,w,o),cs(8,h);break;case 23:break;case 22:var B=h.stateNode;h.memoizedState!==null?B._visibility&2?ur(u,h,v,w,o):fs(u,h):(B._visibility|=2,ur(u,h,v,w,o)),o&&C&2048&&Po(h.alternate,h);break;case 24:ur(u,h,v,w,o),o&&C&2048&&Wo(h.alternate,h);break;default:ur(u,h,v,w,o)}t=t.sibling}}function fs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:fs(n,r),o&2048&&Po(r.alternate,r);break;case 24:fs(n,r),o&2048&&Wo(r.alternate,r);break;default:fs(n,r)}t=t.sibling}}var hs=8192;function cr(e,t,n){if(e.subtreeFlags&hs)for(e=e.child;e!==null;)sh(e,t,n),e=e.sibling}function sh(e,t,n){switch(e.tag){case 26:cr(e,t,n),e.flags&hs&&e.memoizedState!==null&&iv(n,nn,e.memoizedState,e.memoizedProps);break;case 5:cr(e,t,n);break;case 3:case 4:var r=nn;nn=Li(e.stateNode.containerInfo),cr(e,t,n),nn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=hs,hs=16777216,cr(e,t,n),hs=r):cr(e,t,n));break;default:cr(e,t,n)}}function ih(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function gs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ht=r,oh(r,e)}ih(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lh(e),e=e.sibling}function lh(e){switch(e.tag){case 0:case 11:case 15:gs(e),e.flags&2048&&Kn(9,e,e.return);break;case 3:gs(e);break;case 12:gs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ji(e)):gs(e);break;default:gs(e)}}function ji(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ht=r,oh(r,e)}ih(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Kn(8,t,t.return),ji(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ji(t));break;default:ji(t)}e=e.sibling}}function oh(e,t){for(;ht!==null;){var n=ht;switch(n.tag){case 0:case 11:case 15:Kn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Pr(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,ht=r;else e:for(n=e;ht!==null;){r=ht;var o=r.sibling,u=r.return;if(Wf(r),r===n){ht=null;break e}if(o!==null){o.return=u,ht=o;break e}ht=u}}}var wy={getCacheForType:function(e){var t=yt(at),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return yt(at).controller.signal}},Sy=typeof WeakMap=="function"?WeakMap:Map,Ce=0,He=null,we=null,xe=0,Ue=0,Bt=null,Xn=!1,dr=!1,Fo=!1,Nn=0,We=0,Qn=0,Aa=0,eu=0,qt=0,fr=0,ms=null,kt=null,tu=!1,Oi=0,uh=0,Ai=1/0,Ni=null,Jn=null,ct=0,In=null,hr=null,Rn=0,nu=0,au=null,ch=null,ys=0,ru=null;function Lt(){return(Ce&2)!==0&&xe!==0?xe&-xe:z.T!==null?cu():Ec()}function dh(){if(qt===0)if((xe&536870912)===0||Ee){var e=Je;Je<<=1,(Je&3932160)===0&&(Je=262144),qt=e}else qt=536870912;return e=zt.current,e!==null&&(e.flags|=32),qt}function Ct(e,t,n){(e===He&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(gr(e,0),Zn(e,xe,qt,!1)),Br(e,n),((Ce&2)===0||e!==He)&&(e===He&&((Ce&2)===0&&(Aa|=n),We===4&&Zn(e,xe,qt,!1)),fn(e))}function fh(e,t,n){if((Ce&6)!==0)throw Error(i(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Mr(e,t),o=r?Ey(e,t):iu(e,t,!0),u=r;do{if(o===0){dr&&!r&&Zn(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!xy(n)){o=iu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var v=e;o=ms;var w=v.current.memoizedState.isDehydrated;if(w&&(gr(v,h).flags|=256),h=iu(v,h,!1),h!==2){if(Fo&&!w){v.errorRecoveryDisabledLanes|=u,Aa|=u,o=4;break e}u=kt,kt=o,u!==null&&(kt===null?kt=u:kt.push.apply(kt,u))}o=h}if(u=!1,o!==2)continue}}if(o===1){gr(e,0),Zn(e,t,0,!0);break}e:{switch(r=e,u=o,u){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Zn(r,t,qt,!Xn);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(o=Oi+300-xt(),10<o)){if(Zn(r,t,qt,!Xn),Ls(r,0,!0)!==0)break e;Rn=t,r.timeoutHandle=Vh(hh.bind(null,r,n,kt,Ni,tu,t,qt,Aa,fr,Xn,u,"Throttled",-0,0),o);break e}hh(r,n,kt,Ni,tu,t,qt,Aa,fr,Xn,u,null,-0,0)}}break}while(!0);fn(e)}function hh(e,t,n,r,o,u,h,v,w,C,B,L,D,M){if(e.timeoutHandle=-1,L=t.subtreeFlags,L&8192||(L&16785408)===16785408){L={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mn},sh(t,u,L);var W=(u&62914560)===u?Oi-xt():(u&4194048)===u?uh-xt():0;if(W=lv(L,W),W!==null){Rn=u,e.cancelPendingCommit=W(wh.bind(null,e,t,u,n,r,o,h,v,w,B,L,null,D,M)),Zn(e,u,h,!C);return}}wh(e,t,u,n,r,o,h,v,w)}function xy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var o=n[r],u=o.getSnapshot;o=o.value;try{if(!Dt(u(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zn(e,t,n,r){t&=~eu,t&=~Aa,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var u=31-nt(o),h=1<<u;r[u]=-1,o&=~h}n!==0&&Sc(e,n,t)}function Ri(){return(Ce&6)===0?(vs(0),!1):!0}function su(){if(we!==null){if(Ue===0)var e=we.return;else e=we,bn=ba=null,wo(e),rr=null,Fr=0,e=we;for(;e!==null;)Yf(e.alternate,e),e=e.return;we=null}}function gr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Vy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Rn=0,su(),He=e,we=n=vn(e.current,null),xe=t,Ue=0,Bt=null,Xn=!1,dr=Mr(e,t),Fo=!1,fr=qt=eu=Aa=Qn=We=0,kt=ms=null,tu=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-nt(r),u=1<<o;t|=e[o],r&=~u}return Nn=t,Ps(),n}function gh(e,t){ve=null,z.H=ls,t===ar||t===si?(t=Nd(),Ue=3):t===oo?(t=Nd(),Ue=4):Ue=t===Bo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bt=t,we===null&&(We=1,bi(e,Xt(t,e.current)))}function mh(){var e=zt.current;return e===null?!0:(xe&4194048)===xe?Zt===null:(xe&62914560)===xe||(xe&536870912)!==0?e===Zt:!1}function yh(){var e=z.H;return z.H=ls,e===null?ls:e}function vh(){var e=z.A;return z.A=wy,e}function ki(){We=4,Xn||(xe&4194048)!==xe&&zt.current!==null||(dr=!0),(Qn&134217727)===0&&(Aa&134217727)===0||He===null||Zn(He,xe,qt,!1)}function iu(e,t,n){var r=Ce;Ce|=2;var o=yh(),u=vh();(He!==e||xe!==t)&&(Ni=null,gr(e,t)),t=!1;var h=We;e:do try{if(Ue!==0&&we!==null){var v=we,w=Bt;switch(Ue){case 8:su(),h=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(t=!0);var C=Ue;if(Ue=0,Bt=null,mr(e,v,w,C),n&&dr){h=0;break e}break;default:C=Ue,Ue=0,Bt=null,mr(e,v,w,C)}}Ty(),h=We;break}catch(B){gh(e,B)}while(!0);return t&&e.shellSuspendCounter++,bn=ba=null,Ce=r,z.H=o,z.A=u,we===null&&(He=null,xe=0,Ps()),h}function Ty(){for(;we!==null;)ph(we)}function Ey(e,t){var n=Ce;Ce|=2;var r=yh(),o=vh();He!==e||xe!==t?(Ni=null,Ai=xt()+500,gr(e,t)):dr=Mr(e,t);e:do try{if(Ue!==0&&we!==null){t=we;var u=Bt;t:switch(Ue){case 1:Ue=0,Bt=null,mr(e,t,u,1);break;case 2:case 9:if(Od(u)){Ue=0,Bt=null,bh(t);break}t=function(){Ue!==2&&Ue!==9||He!==e||(Ue=7),fn(e)},u.then(t,t);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:Od(u)?(Ue=0,Bt=null,bh(t)):(Ue=0,Bt=null,mr(e,t,u,7));break;case 5:var h=null;switch(we.tag){case 26:h=we.memoizedState;case 5:case 27:var v=we;if(h?r0(h):v.stateNode.complete){Ue=0,Bt=null;var w=v.sibling;if(w!==null)we=w;else{var C=v.return;C!==null?(we=C,Ci(C)):we=null}break t}}Ue=0,Bt=null,mr(e,t,u,5);break;case 6:Ue=0,Bt=null,mr(e,t,u,6);break;case 8:su(),We=6;break e;default:throw Error(i(462))}}jy();break}catch(B){gh(e,B)}while(!0);return bn=ba=null,z.H=r,z.A=o,Ce=n,we!==null?0:(He=null,xe=0,Ps(),We)}function jy(){for(;we!==null&&!bl();)ph(we)}function ph(e){var t=Gf(e.alternate,e,Nn);e.memoizedProps=e.pendingProps,t===null?Ci(e):we=t}function bh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Mf(n,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=Mf(n,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:wo(t);default:Yf(n,t),t=we=yd(t,Nn),t=Gf(n,t,Nn)}e.memoizedProps=e.pendingProps,t===null?Ci(e):we=t}function mr(e,t,n,r){bn=ba=null,wo(t),rr=null,Fr=0;var o=t.return;try{if(gy(e,o,t,n,xe)){We=1,bi(e,Xt(n,e.current)),we=null;return}}catch(u){if(o!==null)throw we=o,u;We=1,bi(e,Xt(n,e.current)),we=null;return}t.flags&32768?(Ee||r===1?e=!0:dr||(xe&536870912)!==0?e=!1:(Xn=e=!0,(r===2||r===9||r===3||r===6)&&(r=zt.current,r!==null&&r.tag===13&&(r.flags|=16384))),_h(t,e)):Ci(t)}function Ci(e){var t=e;do{if((t.flags&32768)!==0){_h(t,Xn);return}e=t.return;var n=vy(t.alternate,t,Nn);if(n!==null){we=n;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);We===0&&(We=5)}function _h(e,t){do{var n=py(e.alternate,e);if(n!==null){n.flags&=32767,we=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=n}while(e!==null);We=6,we=null}function wh(e,t,n,r,o,u,h,v,w){e.cancelPendingCommit=null;do Di();while(ct!==0);if((Ce&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(u=t.lanes|t.childLanes,u|=Ql,sm(e,n,u,h,v,w),e===He&&(we=He=null,xe=0),hr=t,In=e,Rn=n,nu=u,au=o,ch=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ry(ue,function(){return jh(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=z.T,z.T=null,o=K.p,K.p=2,h=Ce,Ce|=4;try{by(e,t,n)}finally{Ce=h,K.p=o,z.T=r}}ct=1,Sh(),xh(),Th()}}function Sh(){if(ct===1){ct=0;var e=In,t=hr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var r=K.p;K.p=2;var o=Ce;Ce|=4;try{nh(t,e);var u=pu,h=ld(e.containerInfo),v=u.focusedElem,w=u.selectionRange;if(h!==v&&v&&v.ownerDocument&&id(v.ownerDocument.documentElement,v)){if(w!==null&&Gl(v)){var C=w.start,B=w.end;if(B===void 0&&(B=C),"selectionStart"in v)v.selectionStart=C,v.selectionEnd=Math.min(B,v.value.length);else{var L=v.ownerDocument||document,D=L&&L.defaultView||window;if(D.getSelection){var M=D.getSelection(),W=v.textContent.length,de=Math.min(w.start,W),qe=w.end===void 0?de:Math.min(w.end,W);!M.extend&&de>qe&&(h=qe,qe=de,de=h);var A=sd(v,de),j=sd(v,qe);if(A&&j&&(M.rangeCount!==1||M.anchorNode!==A.node||M.anchorOffset!==A.offset||M.focusNode!==j.node||M.focusOffset!==j.offset)){var k=L.createRange();k.setStart(A.node,A.offset),M.removeAllRanges(),de>qe?(M.addRange(k),M.extend(j.node,j.offset)):(k.setEnd(j.node,j.offset),M.addRange(k))}}}}for(L=[],M=v;M=M.parentNode;)M.nodeType===1&&L.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<L.length;v++){var q=L[v];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Ki=!!vu,pu=vu=null}finally{Ce=o,K.p=r,z.T=n}}e.current=t,ct=2}}function xh(){if(ct===2){ct=0;var e=In,t=hr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var r=K.p;K.p=2;var o=Ce;Ce|=4;try{Pf(e,t.alternate,t)}finally{Ce=o,K.p=r,z.T=n}}ct=3}}function Th(){if(ct===4||ct===3){ct=0,_l();var e=In,t=hr,n=Rn,r=ch;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ct=5:(ct=0,hr=In=null,Eh(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Jn=null),xl(n),t=t.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot($e,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=z.T,o=K.p,K.p=2,z.T=null;try{for(var u=e.onRecoverableError,h=0;h<r.length;h++){var v=r[h];u(v.value,{componentStack:v.stack})}}finally{z.T=t,K.p=o}}(Rn&3)!==0&&Di(),fn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===ru?ys++:(ys=0,ru=e):ys=0,vs(0)}}function Eh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Pr(t)))}function Di(){return Sh(),xh(),Th(),jh()}function jh(){if(ct!==5)return!1;var e=In,t=nu;nu=0;var n=xl(Rn),r=z.T,o=K.p;try{K.p=32>n?32:n,z.T=null,n=au,au=null;var u=In,h=Rn;if(ct=0,hr=In=null,Rn=0,(Ce&6)!==0)throw Error(i(331));var v=Ce;if(Ce|=4,lh(u.current),rh(u,u.current,h,n),Ce=v,vs(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot($e,u)}catch{}return!0}finally{K.p=o,z.T=r,Eh(e,t)}}function Oh(e,t,n){t=Xt(n,t),t=Mo(e.stateNode,t,2),e=Gn(e,t,2),e!==null&&(Br(e,2),fn(e))}function ze(e,t,n){if(e.tag===3)Oh(e,e,n);else for(;t!==null;){if(t.tag===3){Oh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jn===null||!Jn.has(r))){e=Xt(n,e),n=Af(2),r=Gn(t,n,2),r!==null&&(Nf(n,r,t,e),Br(r,2),fn(r));break}}t=t.return}}function lu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Sy;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(Fo=!0,o.add(n),e=Oy.bind(null,e,t,n),t.then(e,e))}function Oy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,He===e&&(xe&n)===n&&(We===4||We===3&&(xe&62914560)===xe&&300>xt()-Oi?(Ce&2)===0&&gr(e,0):eu|=n,fr===xe&&(fr=0)),fn(e)}function Ah(e,t){t===0&&(t=wc()),e=ya(e,t),e!==null&&(Br(e,t),fn(e))}function Ay(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ah(e,n)}function Ny(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Ah(e,n)}function Ry(e,t){return ua(e,t)}var Ui=null,yr=null,ou=!1,zi=!1,uu=!1,Pn=0;function fn(e){e!==yr&&e.next===null&&(yr===null?Ui=yr=e:yr=yr.next=e),zi=!0,ou||(ou=!0,Cy())}function vs(e,t){if(!uu&&zi){uu=!0;do for(var n=!1,r=Ui;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var u=0;else{var h=r.suspendedLanes,v=r.pingedLanes;u=(1<<31-nt(42|e)+1)-1,u&=o&~(h&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,Ch(r,u))}else u=xe,u=Ls(r,r===He?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||Mr(r,u)||(n=!0,Ch(r,u));r=r.next}while(n);uu=!1}}function ky(){Nh()}function Nh(){zi=ou=!1;var e=0;Pn!==0&&Gy()&&(e=Pn);for(var t=xt(),n=null,r=Ui;r!==null;){var o=r.next,u=Rh(r,t);u===0?(r.next=null,n===null?Ui=o:n.next=o,o===null&&(yr=n)):(n=r,(e!==0||(u&3)!==0)&&(zi=!0)),r=o}ct!==0&&ct!==5||vs(e),Pn!==0&&(Pn=0)}function Rh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var h=31-nt(u),v=1<<h,w=o[h];w===-1?((v&n)===0||(v&r)!==0)&&(o[h]=rm(v,t)):w<=t&&(e.expiredLanes|=v),u&=~v}if(t=He,n=xe,n=Ls(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&ca(r),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Mr(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&ca(r),xl(n)){case 2:case 8:n=ne;break;case 32:n=ue;break;case 268435456:n=ke;break;default:n=ue}return r=kh.bind(null,e),n=ua(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&ca(r),e.callbackPriority=2,e.callbackNode=null,2}function kh(e,t){if(ct!==0&&ct!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Di()&&e.callbackNode!==n)return null;var r=xe;return r=Ls(e,e===He?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(fh(e,r,t),Rh(e,xt()),e.callbackNode!=null&&e.callbackNode===n?kh.bind(null,e):null)}function Ch(e,t){if(Di())return null;fh(e,t,!0)}function Cy(){Yy(function(){(Ce&6)!==0?ua(I,ky):Nh()})}function cu(){if(Pn===0){var e=tr;e===0&&(e=Ma,Ma<<=1,(Ma&261888)===0&&(Ma=256)),Pn=e}return Pn}function Dh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vs(""+e)}function Uh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Dy(e,t,n,r,o){if(t==="submit"&&n&&n.stateNode===o){var u=Dh((o[jt]||null).action),h=r.submitter;h&&(t=(t=h[jt]||null)?Dh(t.formAction):h.getAttribute("formAction"),t!==null&&(u=t,h=null));var v=new Qs("action","action",null,r,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Pn!==0){var w=h?Uh(o,h):new FormData(o);Ro(n,{pending:!0,data:w,method:o.method,action:u},null,w)}}else typeof u=="function"&&(v.preventDefault(),w=h?Uh(o,h):new FormData(o),Ro(n,{pending:!0,data:w,method:o.method,action:u},u,w))},currentTarget:o}]})}}for(var du=0;du<Xl.length;du++){var fu=Xl[du],Uy=fu.toLowerCase(),zy=fu[0].toUpperCase()+fu.slice(1);tn(Uy,"on"+zy)}tn(cd,"onAnimationEnd"),tn(dd,"onAnimationIteration"),tn(fd,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(Pm,"onTransitionRun"),tn(Wm,"onTransitionStart"),tn(Fm,"onTransitionCancel"),tn(hd,"onTransitionEnd"),$a("onMouseEnter",["mouseout","mouseover"]),$a("onMouseLeave",["mouseout","mouseover"]),$a("onPointerEnter",["pointerout","pointerover"]),$a("onPointerLeave",["pointerout","pointerover"]),fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),My=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ps));function zh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var h=r.length-1;0<=h;h--){var v=r[h],w=v.instance,C=v.currentTarget;if(v=v.listener,w!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=C;try{u(o)}catch(B){Zs(B)}o.currentTarget=null,u=w}else for(h=0;h<r.length;h++){if(v=r[h],w=v.instance,C=v.currentTarget,v=v.listener,w!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=C;try{u(o)}catch(B){Zs(B)}o.currentTarget=null,u=w}}}}function Se(e,t){var n=t[Tl];n===void 0&&(n=t[Tl]=new Set);var r=e+"__bubble";n.has(r)||(Mh(t,e,2,!1),n.add(r))}function hu(e,t,n){var r=0;t&&(r|=4),Mh(n,e,r,t)}var Mi="_reactListening"+Math.random().toString(36).slice(2);function gu(e){if(!e[Mi]){e[Mi]=!0,Ac.forEach(function(n){n!=="selectionchange"&&(My.has(n)||hu(n,!1,e),hu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mi]||(t[Mi]=!0,hu("selectionchange",!1,t))}}function Mh(e,t,n,r){switch(d0(t)){case 2:var o=cv;break;case 8:o=dv;break;default:o=Nu}n=o.bind(null,t,n,e),o=void 0,!Dl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function mu(e,t,n,r,o){var u=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var v=r.stateNode.containerInfo;if(v===o)break;if(h===4)for(h=r.return;h!==null;){var w=h.tag;if((w===3||w===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;v!==null;){if(h=qa(v),h===null)return;if(w=h.tag,w===5||w===6||w===26||w===27){r=u=h;continue e}v=v.parentNode}}r=r.return}Hc(function(){var C=u,B=kl(n),L=[];e:{var D=gd.get(e);if(D!==void 0){var M=Qs,W=e;switch(e){case"keypress":if(Ks(n)===0)break e;case"keydown":case"keyup":M=Nm;break;case"focusin":W="focus",M=Bl;break;case"focusout":W="blur",M=Bl;break;case"beforeblur":case"afterblur":M=Bl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=Cm;break;case cd:case dd:case fd:M=_m;break;case hd:M=Um;break;case"scroll":case"scrollend":M=mm;break;case"wheel":M=Mm;break;case"copy":case"cut":case"paste":M=Sm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Kc;break;case"toggle":case"beforetoggle":M=qm}var de=(t&4)!==0,qe=!de&&(e==="scroll"||e==="scrollend"),A=de?D!==null?D+"Capture":null:D;de=[];for(var j=C,k;j!==null;){var q=j;if(k=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||k===null||A===null||(q=Hr(j,A),q!=null&&de.push(bs(j,q,k))),qe)break;j=j.return}0<de.length&&(D=new M(D,W,null,n,B),L.push({event:D,listeners:de}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",D&&n!==Rl&&(W=n.relatedTarget||n.fromElement)&&(qa(W)||W[Ba]))break e;if((M||D)&&(D=B.window===B?B:(D=B.ownerDocument)?D.defaultView||D.parentWindow:window,M?(W=n.relatedTarget||n.toElement,M=C,W=W?qa(W):null,W!==null&&(qe=d(W),de=W.tag,W!==qe||de!==5&&de!==27&&de!==6)&&(W=null)):(M=null,W=C),M!==W)){if(de=Vc,q="onMouseLeave",A="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(de=Kc,q="onPointerLeave",A="onPointerEnter",j="pointer"),qe=M==null?D:Lr(M),k=W==null?D:Lr(W),D=new de(q,j+"leave",M,n,B),D.target=qe,D.relatedTarget=k,q=null,qa(B)===C&&(de=new de(A,j+"enter",W,n,B),de.target=k,de.relatedTarget=qe,q=de),qe=q,M&&W)t:{for(de=By,A=M,j=W,k=0,q=A;q;q=de(q))k++;q=0;for(var oe=j;oe;oe=de(oe))q++;for(;0<k-q;)A=de(A),k--;for(;0<q-k;)j=de(j),q--;for(;k--;){if(A===j||j!==null&&A===j.alternate){de=A;break t}A=de(A),j=de(j)}de=null}else de=null;M!==null&&Bh(L,D,M,de,!1),W!==null&&qe!==null&&Bh(L,qe,W,de,!0)}}e:{if(D=C?Lr(C):window,M=D.nodeName&&D.nodeName.toLowerCase(),M==="select"||M==="input"&&D.type==="file")var Ne=Fc;else if(Pc(D))if(ed)Ne=Jm;else{Ne=Xm;var ae=Km}else M=D.nodeName,!M||M.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?C&&Nl(C.elementType)&&(Ne=Fc):Ne=Qm;if(Ne&&(Ne=Ne(e,C))){Wc(L,Ne,n,B);break e}ae&&ae(e,D,C),e==="focusout"&&C&&D.type==="number"&&C.memoizedProps.value!=null&&Al(D,"number",D.value)}switch(ae=C?Lr(C):window,e){case"focusin":(Pc(ae)||ae.contentEditable==="true")&&(Qa=ae,Vl=C,Jr=null);break;case"focusout":Jr=Vl=Qa=null;break;case"mousedown":Yl=!0;break;case"contextmenu":case"mouseup":case"dragend":Yl=!1,od(L,n,B);break;case"selectionchange":if(Zm)break;case"keydown":case"keyup":od(L,n,B)}var be;if(Ll)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Xa?Ic(e,n)&&(Te="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Te="onCompositionStart");Te&&(Xc&&n.locale!=="ko"&&(Xa||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Xa&&(be=$c()):(zn=B,Ul="value"in zn?zn.value:zn.textContent,Xa=!0)),ae=Bi(C,Te),0<ae.length&&(Te=new Yc(Te,e,null,n,B),L.push({event:Te,listeners:ae}),be?Te.data=be:(be=Zc(n),be!==null&&(Te.data=be)))),(be=Hm?$m(e,n):Gm(e,n))&&(Te=Bi(C,"onBeforeInput"),0<Te.length&&(ae=new Yc("onBeforeInput","beforeinput",null,n,B),L.push({event:ae,listeners:Te}),ae.data=be)),Dy(L,e,C,n,B)}zh(L,t)})}function bs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Hr(e,n),o!=null&&r.unshift(bs(e,o,u)),o=Hr(e,t),o!=null&&r.push(bs(e,o,u))),e.tag===3)return r;e=e.return}return[]}function By(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bh(e,t,n,r,o){for(var u=t._reactName,h=[];n!==null&&n!==r;){var v=n,w=v.alternate,C=v.stateNode;if(v=v.tag,w!==null&&w===r)break;v!==5&&v!==26&&v!==27||C===null||(w=C,o?(C=Hr(n,u),C!=null&&h.unshift(bs(n,C,w))):o||(C=Hr(n,u),C!=null&&h.push(bs(n,C,w)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var qy=/\r\n?/g,Ly=/\u0000|\uFFFD/g;function qh(e){return(typeof e=="string"?e:""+e).replace(qy,`
`).replace(Ly,"")}function Lh(e,t){return t=qh(t),qh(e)===t}function Be(e,t,n,r,o,u){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Va(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Va(e,""+r);break;case"className":$s(e,"class",r);break;case"tabIndex":$s(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":$s(e,n,r);break;case"style":qc(e,r,u);break;case"data":if(t!=="object"){$s(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Vs(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Be(e,t,"name",o.name,o,null),Be(e,t,"formEncType",o.formEncType,o,null),Be(e,t,"formMethod",o.formMethod,o,null),Be(e,t,"formTarget",o.formTarget,o,null)):(Be(e,t,"encType",o.encType,o,null),Be(e,t,"method",o.method,o,null),Be(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Vs(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=mn);break;case"onScroll":r!=null&&Se("scroll",e);break;case"onScrollEnd":r!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(n=r.__html,n!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Vs(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Se("beforetoggle",e),Se("toggle",e),Hs(e,"popover",r);break;case"xlinkActuate":gn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":gn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":gn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":gn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":gn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":gn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":gn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":gn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":gn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Hs(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=hm.get(n)||n,Hs(e,n,r))}}function yu(e,t,n,r,o,u){switch(n){case"style":qc(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(n=r.__html,n!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Va(e,r):(typeof r=="number"||typeof r=="bigint")&&Va(e,""+r);break;case"onScroll":r!=null&&Se("scroll",e);break;case"onScrollEnd":r!=null&&Se("scrollend",e);break;case"onClick":r!=null&&(e.onclick=mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),u=e[jt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof r=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Hs(e,n,r)}}}function pt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var r=!1,o=!1,u;for(u in n)if(n.hasOwnProperty(u)){var h=n[u];if(h!=null)switch(u){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Be(e,t,u,h,n,null)}}o&&Be(e,t,"srcSet",n.srcSet,n,null),r&&Be(e,t,"src",n.src,n,null);return;case"input":Se("invalid",e);var v=u=h=o=null,w=null,C=null;for(r in n)if(n.hasOwnProperty(r)){var B=n[r];if(B!=null)switch(r){case"name":o=B;break;case"type":h=B;break;case"checked":w=B;break;case"defaultChecked":C=B;break;case"value":u=B;break;case"defaultValue":v=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,t));break;default:Be(e,t,r,B,n,null)}}Uc(e,u,v,w,C,h,o,!1);return;case"select":Se("invalid",e),r=h=u=null;for(o in n)if(n.hasOwnProperty(o)&&(v=n[o],v!=null))switch(o){case"value":u=v;break;case"defaultValue":h=v;break;case"multiple":r=v;default:Be(e,t,o,v,n,null)}t=u,n=h,e.multiple=!!r,t!=null?Ga(e,!!r,t,!1):n!=null&&Ga(e,!!r,n,!0);return;case"textarea":Se("invalid",e),u=o=r=null;for(h in n)if(n.hasOwnProperty(h)&&(v=n[h],v!=null))switch(h){case"value":r=v;break;case"defaultValue":o=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:Be(e,t,h,v,n,null)}Mc(e,r,o,u);return;case"option":for(w in n)if(n.hasOwnProperty(w)&&(r=n[w],r!=null))switch(w){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Be(e,t,w,r,n,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(r=0;r<ps.length;r++)Se(ps[r],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in n)if(n.hasOwnProperty(C)&&(r=n[C],r!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Be(e,t,C,r,n,null)}return;default:if(Nl(t)){for(B in n)n.hasOwnProperty(B)&&(r=n[B],r!==void 0&&yu(e,t,B,r,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(r=n[v],r!=null&&Be(e,t,v,r,n,null))}function Hy(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,h=null,v=null,w=null,C=null,B=null;for(M in n){var L=n[M];if(n.hasOwnProperty(M)&&L!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":w=L;default:r.hasOwnProperty(M)||Be(e,t,M,null,r,L)}}for(var D in r){var M=r[D];if(L=n[D],r.hasOwnProperty(D)&&(M!=null||L!=null))switch(D){case"type":u=M;break;case"name":o=M;break;case"checked":C=M;break;case"defaultChecked":B=M;break;case"value":h=M;break;case"defaultValue":v=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(137,t));break;default:M!==L&&Be(e,t,D,M,r,L)}}Ol(e,h,v,w,C,B,u,o);return;case"select":M=h=v=D=null;for(u in n)if(w=n[u],n.hasOwnProperty(u)&&w!=null)switch(u){case"value":break;case"multiple":M=w;default:r.hasOwnProperty(u)||Be(e,t,u,null,r,w)}for(o in r)if(u=r[o],w=n[o],r.hasOwnProperty(o)&&(u!=null||w!=null))switch(o){case"value":D=u;break;case"defaultValue":v=u;break;case"multiple":h=u;default:u!==w&&Be(e,t,o,u,r,w)}t=v,n=h,r=M,D!=null?Ga(e,!!n,D,!1):!!r!=!!n&&(t!=null?Ga(e,!!n,t,!0):Ga(e,!!n,n?[]:"",!1));return;case"textarea":M=D=null;for(v in n)if(o=n[v],n.hasOwnProperty(v)&&o!=null&&!r.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Be(e,t,v,null,r,o)}for(h in r)if(o=r[h],u=n[h],r.hasOwnProperty(h)&&(o!=null||u!=null))switch(h){case"value":D=o;break;case"defaultValue":M=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(i(91));break;default:o!==u&&Be(e,t,h,o,r,u)}zc(e,D,M);return;case"option":for(var W in n)if(D=n[W],n.hasOwnProperty(W)&&D!=null&&!r.hasOwnProperty(W))switch(W){case"selected":e.selected=!1;break;default:Be(e,t,W,null,r,D)}for(w in r)if(D=r[w],M=n[w],r.hasOwnProperty(w)&&D!==M&&(D!=null||M!=null))switch(w){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Be(e,t,w,D,r,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in n)D=n[de],n.hasOwnProperty(de)&&D!=null&&!r.hasOwnProperty(de)&&Be(e,t,de,null,r,D);for(C in r)if(D=r[C],M=n[C],r.hasOwnProperty(C)&&D!==M&&(D!=null||M!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(137,t));break;default:Be(e,t,C,D,r,M)}return;default:if(Nl(t)){for(var qe in n)D=n[qe],n.hasOwnProperty(qe)&&D!==void 0&&!r.hasOwnProperty(qe)&&yu(e,t,qe,void 0,r,D);for(B in r)D=r[B],M=n[B],!r.hasOwnProperty(B)||D===M||D===void 0&&M===void 0||yu(e,t,B,D,r,M);return}}for(var A in n)D=n[A],n.hasOwnProperty(A)&&D!=null&&!r.hasOwnProperty(A)&&Be(e,t,A,null,r,D);for(L in r)D=r[L],M=n[L],!r.hasOwnProperty(L)||D===M||D==null&&M==null||Be(e,t,L,D,r,M)}function Hh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $y(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],u=o.transferSize,h=o.initiatorType,v=o.duration;if(u&&v&&Hh(h)){for(h=0,v=o.responseEnd,r+=1;r<n.length;r++){var w=n[r],C=w.startTime;if(C>v)break;var B=w.transferSize,L=w.initiatorType;B&&Hh(L)&&(w=w.responseEnd,h+=B*(w<v?1:(v-C)/(w-C)))}if(--r,t+=8*(u+h)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vu=null,pu=null;function qi(e){return e.nodeType===9?e:e.ownerDocument}function $h(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function bu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _u=null;function Gy(){var e=window.event;return e&&e.type==="popstate"?e===_u?!1:(_u=e,!0):(_u=null,!1)}var Vh=typeof setTimeout=="function"?setTimeout:void 0,Vy=typeof clearTimeout=="function"?clearTimeout:void 0,Yh=typeof Promise=="function"?Promise:void 0,Yy=typeof queueMicrotask=="function"?queueMicrotask:typeof Yh<"u"?function(e){return Yh.resolve(null).then(e).catch(Ky)}:Vh;function Ky(e){setTimeout(function(){throw e})}function Wn(e){return e==="head"}function Kh(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(o),_r(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")_s(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,_s(n);for(var u=n.firstChild;u;){var h=u.nextSibling,v=u.nodeName;u[qr]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=h}}else n==="body"&&_s(e.ownerDocument.body);n=o}while(n);_r(t)}function Xh(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function wu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":wu(n),El(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Xy(e,t,n,r){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[qr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Pt(e.nextSibling),e===null)break}return null}function Qy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pt(e.nextSibling),e===null))return null;return e}function Qh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Pt(e.nextSibling),e===null))return null;return e}function Su(e){return e.data==="$?"||e.data==="$~"}function xu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Jy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Tu=null;function Jh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Pt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Ih(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Zh(e,t,n){switch(t=qi(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function _s(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);El(e)}var Wt=new Map,Ph=new Set;function Li(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var kn=K.d;K.d={f:Iy,r:Zy,D:Py,C:Wy,L:Fy,m:ev,X:nv,S:tv,M:av};function Iy(){var e=kn.f(),t=Ri();return e||t}function Zy(e){var t=La(e);t!==null&&t.tag===5&&t.type==="form"?gf(t):kn.r(e)}var vr=typeof document>"u"?null:document;function Wh(e,t,n){var r=vr;if(r&&typeof t=="string"&&t){var o=Yt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Ph.has(o)||(Ph.add(o),e={rel:e,crossOrigin:n,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),pt(t,"link",e),ft(t),r.head.appendChild(t)))}}function Py(e){kn.D(e),Wh("dns-prefetch",e,null)}function Wy(e,t){kn.C(e,t),Wh("preconnect",e,t)}function Fy(e,t,n){kn.L(e,t,n);var r=vr;if(r&&e&&t){var o='link[rel="preload"][as="'+Yt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Yt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Yt(n.imageSizes)+'"]')):o+='[href="'+Yt(e)+'"]';var u=o;switch(t){case"style":u=pr(e);break;case"script":u=br(e)}Wt.has(u)||(e=E({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Wt.set(u,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(ws(u))||t==="script"&&r.querySelector(Ss(u))||(t=r.createElement("link"),pt(t,"link",e),ft(t),r.head.appendChild(t)))}}function ev(e,t){kn.m(e,t);var n=vr;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Yt(r)+'"][href="'+Yt(e)+'"]',u=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=br(e)}if(!Wt.has(u)&&(e=E({rel:"modulepreload",href:e},t),Wt.set(u,e),n.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ss(u)))return}r=n.createElement("link"),pt(r,"link",e),ft(r),n.head.appendChild(r)}}}function tv(e,t,n){kn.S(e,t,n);var r=vr;if(r&&e){var o=Ha(r).hoistableStyles,u=pr(e);t=t||"default";var h=o.get(u);if(!h){var v={loading:0,preload:null};if(h=r.querySelector(ws(u)))v.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Wt.get(u))&&Eu(e,n);var w=h=r.createElement("link");ft(w),pt(w,"link",e),w._p=new Promise(function(C,B){w.onload=C,w.onerror=B}),w.addEventListener("load",function(){v.loading|=1}),w.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Hi(h,t,r)}h={type:"stylesheet",instance:h,count:1,state:v},o.set(u,h)}}}function nv(e,t){kn.X(e,t);var n=vr;if(n&&e){var r=Ha(n).hoistableScripts,o=br(e),u=r.get(o);u||(u=n.querySelector(Ss(o)),u||(e=E({src:e,async:!0},t),(t=Wt.get(o))&&ju(e,t),u=n.createElement("script"),ft(u),pt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function av(e,t){kn.M(e,t);var n=vr;if(n&&e){var r=Ha(n).hoistableScripts,o=br(e),u=r.get(o);u||(u=n.querySelector(Ss(o)),u||(e=E({src:e,async:!0,type:"module"},t),(t=Wt.get(o))&&ju(e,t),u=n.createElement("script"),ft(u),pt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function Fh(e,t,n,r){var o=(o=Q.current)?Li(o):null;if(!o)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=pr(n.href),n=Ha(o).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=pr(n.href);var u=Ha(o).hoistableStyles,h=u.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=o.querySelector(ws(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Wt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Wt.set(e,n),u||rv(o,e,n,h.state))),t&&r===null)throw Error(i(528,""));return h}if(t&&r!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=br(n),n=Ha(o).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function pr(e){return'href="'+Yt(e)+'"'}function ws(e){return'link[rel="stylesheet"]['+e+"]"}function e0(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function rv(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),pt(t,"link",n),ft(t),e.head.appendChild(t))}function br(e){return'[src="'+Yt(e)+'"]'}function Ss(e){return"script[async]"+e}function t0(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Yt(n.href)+'"]');if(r)return t.instance=r,ft(r),r;var o=E({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),ft(r),pt(r,"style",o),Hi(r,n.precedence,e),t.instance=r;case"stylesheet":o=pr(n.href);var u=e.querySelector(ws(o));if(u)return t.state.loading|=4,t.instance=u,ft(u),u;r=e0(n),(o=Wt.get(o))&&Eu(r,o),u=(e.ownerDocument||e).createElement("link"),ft(u);var h=u;return h._p=new Promise(function(v,w){h.onload=v,h.onerror=w}),pt(u,"link",r),t.state.loading|=4,Hi(u,n.precedence,e),t.instance=u;case"script":return u=br(n.src),(o=e.querySelector(Ss(u)))?(t.instance=o,ft(o),o):(r=n,(o=Wt.get(u))&&(r=E({},n),ju(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),ft(o),pt(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Hi(r,n.precedence,e));return t.instance}function Hi(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,u=o,h=0;h<r.length;h++){var v=r[h];if(v.dataset.precedence===t)u=v;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Eu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var $i=null;function n0(e,t,n){if($i===null){var r=new Map,o=$i=new Map;o.set(n,r)}else o=$i,r=o.get(n),r||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var u=n[o];if(!(u[qr]||u[gt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var h=u.getAttribute(t)||"";h=e+h;var v=r.get(h);v?v.push(u):r.set(h,[u])}}return r}function a0(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function sv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function r0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function iv(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=pr(r.href),u=t.querySelector(ws(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Gi.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,ft(u);return}u=t.ownerDocument||t,r=e0(r),(o=Wt.get(o))&&Eu(r,o),u=u.createElement("link"),ft(u);var h=u;h._p=new Promise(function(v,w){h.onload=v,h.onerror=w}),pt(u,"link",r),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Gi.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Ou=0;function lv(e,t){return e.stylesheets&&e.count===0&&Yi(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Yi(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Ou===0&&(Ou=62500*$y());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Yi(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Ou?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function Gi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vi=null;function Yi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vi=new Map,t.forEach(ov,e),Vi=null,Gi.call(e))}function ov(e,t){if(!(t.state.loading&4)){var n=Vi.get(e);if(n)var r=n.get(null);else{n=new Map,Vi.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var h=o[u];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(n.set(h.dataset.precedence,h),r=h)}r&&n.set(null,r)}o=t.instance,h=o.getAttribute("data-precedence"),u=n.get(h)||r,u===r&&n.set(null,o),n.set(h,o),this.count++,r=Gi.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var xs={$$typeof:$,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function uv(e,t,n,r,o,u,h,v,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.hiddenUpdates=wl(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function s0(e,t,n,r,o,u,h,v,w,C,B,L){return e=new uv(e,t,n,h,w,C,B,L,v),t=1,u===!0&&(t|=24),u=Ut(3,null,null,t),e.current=u,u.stateNode=e,t=so(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:r,isDehydrated:n,cache:t},uo(u),e}function i0(e){return e?(e=Za,e):Za}function l0(e,t,n,r,o,u){o=i0(o),r.context===null?r.context=o:r.pendingContext=o,r=$n(t),r.payload={element:n},u=u===void 0?null:u,u!==null&&(r.callback=u),n=Gn(e,r,t),n!==null&&(Ct(n,e,t),ts(n,e,t))}function o0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Au(e,t){o0(e,t),(e=e.alternate)&&o0(e,t)}function u0(e){if(e.tag===13||e.tag===31){var t=ya(e,67108864);t!==null&&Ct(t,e,67108864),Au(e,67108864)}}function c0(e){if(e.tag===13||e.tag===31){var t=Lt();t=Sl(t);var n=ya(e,t);n!==null&&Ct(n,e,t),Au(e,t)}}var Ki=!0;function cv(e,t,n,r){var o=z.T;z.T=null;var u=K.p;try{K.p=2,Nu(e,t,n,r)}finally{K.p=u,z.T=o}}function dv(e,t,n,r){var o=z.T;z.T=null;var u=K.p;try{K.p=8,Nu(e,t,n,r)}finally{K.p=u,z.T=o}}function Nu(e,t,n,r){if(Ki){var o=Ru(r);if(o===null)mu(e,t,r,Xi,n),f0(e,r);else if(hv(o,e,t,n,r))r.stopPropagation();else if(f0(e,r),t&4&&-1<fv.indexOf(e)){for(;o!==null;){var u=La(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=da(u.pendingLanes);if(h!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;h;){var w=1<<31-nt(h);v.entanglements[1]|=w,h&=~w}fn(u),(Ce&6)===0&&(Ai=xt()+500,vs(0))}}break;case 31:case 13:v=ya(u,2),v!==null&&Ct(v,u,2),Ri(),Au(u,2)}if(u=Ru(r),u===null&&mu(e,t,r,Xi,n),u===o)break;o=u}o!==null&&r.stopPropagation()}else mu(e,t,r,null,n)}}function Ru(e){return e=kl(e),ku(e)}var Xi=null;function ku(e){if(Xi=null,e=qa(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Xi=e,null}function d0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(G()){case I:return 2;case ne:return 8;case ue:case me:return 32;case ke:return 268435456;default:return 32}default:return 32}}var Cu=!1,Fn=null,ea=null,ta=null,Ts=new Map,Es=new Map,na=[],fv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f0(e,t){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Ts.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(t.pointerId)}}function js(e,t,n,r,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:u,targetContainers:[o]},t!==null&&(t=La(t),t!==null&&u0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function hv(e,t,n,r,o){switch(t){case"focusin":return Fn=js(Fn,e,t,n,r,o),!0;case"dragenter":return ea=js(ea,e,t,n,r,o),!0;case"mouseover":return ta=js(ta,e,t,n,r,o),!0;case"pointerover":var u=o.pointerId;return Ts.set(u,js(Ts.get(u)||null,e,t,n,r,o)),!0;case"gotpointercapture":return u=o.pointerId,Es.set(u,js(Es.get(u)||null,e,t,n,r,o)),!0}return!1}function h0(e){var t=qa(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,jc(e.priority,function(){c0(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,jc(e.priority,function(){c0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ru(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Rl=r,n.target.dispatchEvent(r),Rl=null}else return t=La(n),t!==null&&u0(t),e.blockedOn=n,!1;t.shift()}return!0}function g0(e,t,n){Qi(e)&&n.delete(t)}function gv(){Cu=!1,Fn!==null&&Qi(Fn)&&(Fn=null),ea!==null&&Qi(ea)&&(ea=null),ta!==null&&Qi(ta)&&(ta=null),Ts.forEach(g0),Es.forEach(g0)}function Ji(e,t){e.blockedOn===t&&(e.blockedOn=null,Cu||(Cu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,gv)))}var Ii=null;function m0(e){Ii!==e&&(Ii=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Ii===e&&(Ii=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(ku(r||n)===null)continue;break}var u=La(n);u!==null&&(e.splice(t,3),t-=3,Ro(u,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function _r(e){function t(w){return Ji(w,e)}Fn!==null&&Ji(Fn,e),ea!==null&&Ji(ea,e),ta!==null&&Ji(ta,e),Ts.forEach(t),Es.forEach(t);for(var n=0;n<na.length;n++){var r=na[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<na.length&&(n=na[0],n.blockedOn===null);)h0(n),n.blockedOn===null&&na.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var o=n[r],u=n[r+1],h=o[jt]||null;if(typeof u=="function")h||m0(n);else if(h){var v=null;if(u&&u.hasAttribute("formAction")){if(o=u,h=u[jt]||null)v=h.formAction;else if(ku(o)!==null)continue}else v=h.action;typeof v=="function"?n[r+1]=v:(n.splice(r,3),r-=3),m0(n)}}}function y0(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(h){return o=h})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Du(e){this._internalRoot=e}Zi.prototype.render=Du.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,r=Lt();l0(n,r,e,t,null,null)},Zi.prototype.unmount=Du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;l0(e.current,2,null,e,null,null),Ri(),t[Ba]=null}};function Zi(e){this._internalRoot=e}Zi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ec();e={blockedOn:null,target:e,priority:t};for(var n=0;n<na.length&&t!==0&&t<na[n].priority;n++);na.splice(n,0,e),n===0&&h0(e)}};var v0=a.version;if(v0!=="19.2.0")throw Error(i(527,v0,"19.2.0"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=y(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var mv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pi.isDisabled&&Pi.supportsFiber)try{$e=Pi.inject(mv),Le=Pi}catch{}}return As.createRoot=function(e,t){if(!c(e))throw Error(i(299));var n=!1,r="",o=Tf,u=Ef,h=jf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=s0(e,1,!1,null,null,n,r,null,o,u,h,y0),e[Ba]=t.current,gu(e),new Du(t)},As.hydrateRoot=function(e,t,n){if(!c(e))throw Error(i(299));var r=!1,o="",u=Tf,h=Ef,v=jf,w=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(w=n.formState)),t=s0(e,1,!0,t,n??null,r,o,w,u,h,v,y0),t.context=i0(null),n=t.current,r=Lt(),r=Sl(r),o=$n(r),o.callback=null,Gn(n,o,r),n=r,t.current.lanes=n,Br(t,n),fn(t),e[Ba]=t.current,gu(e),new Zi(t)},As.version="19.2.0",As}var O0;function Av(){if(O0)return Mu.exports;O0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Mu.exports=Ov(),Mu.exports}var Nv=Av(),Pu=function(l,a){return Pu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(s[c]=i[c])},Pu(l,a)};function rg(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");Pu(l,a);function s(){this.constructor=l}l.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}var ol=function(){return ol=Object.assign||function(a){for(var s,i=1,c=arguments.length;i<c;i++){s=arguments[i];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(a[d]=s[d])}return a},ol.apply(this,arguments)};function Cr(l,a){var s={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&a.indexOf(i)<0&&(s[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(l);c<i.length;c++)a.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(l,i[c])&&(s[i[c]]=l[i[c]]);return s}function sg(l,a,s,i){var c=arguments.length,d=c<3?a:i===null?i=Object.getOwnPropertyDescriptor(a,s):i,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(l,a,s,i);else for(var m=l.length-1;m>=0;m--)(f=l[m])&&(d=(c<3?f(d):c>3?f(a,s,d):f(a,s))||d);return c>3&&d&&Object.defineProperty(a,s,d),d}function ig(l,a){return function(s,i){a(s,i,l)}}function lg(l,a,s,i,c,d){function f(U){if(U!==void 0&&typeof U!="function")throw new TypeError("Function expected");return U}for(var m=i.kind,g=m==="getter"?"get":m==="setter"?"set":"value",y=!a&&l?i.static?l:l.prototype:null,_=a||(y?Object.getOwnPropertyDescriptor(y,i.name):{}),E,b=!1,S=s.length-1;S>=0;S--){var O={};for(var T in i)O[T]=T==="access"?{}:i[T];for(var T in i.access)O.access[T]=i.access[T];O.addInitializer=function(U){if(b)throw new TypeError("Cannot add initializers after decoration has completed");d.push(f(U||null))};var N=(0,s[S])(m==="accessor"?{get:_.get,set:_.set}:_[g],O);if(m==="accessor"){if(N===void 0)continue;if(N===null||typeof N!="object")throw new TypeError("Object expected");(E=f(N.get))&&(_.get=E),(E=f(N.set))&&(_.set=E),(E=f(N.init))&&c.unshift(E)}else(E=f(N))&&(m==="field"?c.unshift(E):_[g]=E)}y&&Object.defineProperty(y,i.name,_),b=!0}function og(l,a,s){for(var i=arguments.length>2,c=0;c<a.length;c++)s=i?a[c].call(l,s):a[c].call(l);return i?s:void 0}function ug(l){return typeof l=="symbol"?l:"".concat(l)}function cg(l,a,s){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:s?"".concat(s," ",a):a})}function dg(l,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,a)}function F(l,a,s,i){function c(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function m(_){try{y(i.next(_))}catch(E){f(E)}}function g(_){try{y(i.throw(_))}catch(E){f(E)}}function y(_){_.done?d(_.value):c(_.value).then(m,g)}y((i=i.apply(l,a||[])).next())})}function fg(l,a){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},i,c,d,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=m(0),f.throw=m(1),f.return=m(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(y){return function(_){return g([y,_])}}function g(y){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(s=0)),s;)try{if(i=1,c&&(d=y[0]&2?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return s.label++,{value:y[1],done:!1};case 5:s.label++,c=y[1],y=[0];continue;case 7:y=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){s=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){s.label=y[1];break}if(y[0]===6&&s.label<d[1]){s.label=d[1],d=y;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(y);break}d[2]&&s.ops.pop(),s.trys.pop();continue}y=a.call(l,s)}catch(_){y=[6,_],c=0}finally{i=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var hl=Object.create?(function(l,a,s,i){i===void 0&&(i=s);var c=Object.getOwnPropertyDescriptor(a,s);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(l,i,c)}):(function(l,a,s,i){i===void 0&&(i=s),l[i]=a[s]});function hg(l,a){for(var s in l)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&hl(a,l,s)}function ul(l){var a=typeof Symbol=="function"&&Symbol.iterator,s=a&&l[a],i=0;if(s)return s.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function fc(l,a){var s=typeof Symbol=="function"&&l[Symbol.iterator];if(!s)return l;var i=s.call(l),c,d=[],f;try{for(;(a===void 0||a-- >0)&&!(c=i.next()).done;)d.push(c.value)}catch(m){f={error:m}}finally{try{c&&!c.done&&(s=i.return)&&s.call(i)}finally{if(f)throw f.error}}return d}function gg(){for(var l=[],a=0;a<arguments.length;a++)l=l.concat(fc(arguments[a]));return l}function mg(){for(var l=0,a=0,s=arguments.length;a<s;a++)l+=arguments[a].length;for(var i=Array(l),c=0,a=0;a<s;a++)for(var d=arguments[a],f=0,m=d.length;f<m;f++,c++)i[c]=d[f];return i}function yg(l,a,s){if(s||arguments.length===2)for(var i=0,c=a.length,d;i<c;i++)(d||!(i in a))&&(d||(d=Array.prototype.slice.call(a,0,i)),d[i]=a[i]);return l.concat(d||Array.prototype.slice.call(a))}function kr(l){return this instanceof kr?(this.v=l,this):new kr(l)}function vg(l,a,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=s.apply(l,a||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",f),c[Symbol.asyncIterator]=function(){return this},c;function f(S){return function(O){return Promise.resolve(O).then(S,E)}}function m(S,O){i[S]&&(c[S]=function(T){return new Promise(function(N,U){d.push([S,T,N,U])>1||g(S,T)})},O&&(c[S]=O(c[S])))}function g(S,O){try{y(i[S](O))}catch(T){b(d[0][3],T)}}function y(S){S.value instanceof kr?Promise.resolve(S.value.v).then(_,E):b(d[0][2],S)}function _(S){g("next",S)}function E(S){g("throw",S)}function b(S,O){S(O),d.shift(),d.length&&g(d[0][0],d[0][1])}}function pg(l){var a,s;return a={},i("next"),i("throw",function(c){throw c}),i("return"),a[Symbol.iterator]=function(){return this},a;function i(c,d){a[c]=l[c]?function(f){return(s=!s)?{value:kr(l[c](f)),done:!1}:d?d(f):f}:d}}function bg(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l[Symbol.asyncIterator],s;return a?a.call(l):(l=typeof ul=="function"?ul(l):l[Symbol.iterator](),s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s);function i(d){s[d]=l[d]&&function(f){return new Promise(function(m,g){f=l[d](f),c(m,g,f.done,f.value)})}}function c(d,f,m,g){Promise.resolve(g).then(function(y){d({value:y,done:m})},f)}}function _g(l,a){return Object.defineProperty?Object.defineProperty(l,"raw",{value:a}):l.raw=a,l}var Rv=Object.create?(function(l,a){Object.defineProperty(l,"default",{enumerable:!0,value:a})}):function(l,a){l.default=a},Wu=function(l){return Wu=Object.getOwnPropertyNames||function(a){var s=[];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[s.length]=i);return s},Wu(l)};function wg(l){if(l&&l.__esModule)return l;var a={};if(l!=null)for(var s=Wu(l),i=0;i<s.length;i++)s[i]!=="default"&&hl(a,l,s[i]);return Rv(a,l),a}function Sg(l){return l&&l.__esModule?l:{default:l}}function xg(l,a,s,i){if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?l!==a||!i:!a.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?i:s==="a"?i.call(l):i?i.value:a.get(l)}function Tg(l,a,s,i,c){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?l!==a||!c:!a.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?c.call(l,s):c?c.value=s:a.set(l,s),s}function Eg(l,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?a===l:l.has(a)}function jg(l,a,s){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var i,c;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=a[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=a[Symbol.dispose],s&&(c=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");c&&(i=function(){try{c.call(this)}catch(d){return Promise.reject(d)}}),l.stack.push({value:a,dispose:i,async:s})}else s&&l.stack.push({async:!0});return a}var kv=typeof SuppressedError=="function"?SuppressedError:function(l,a,s){var i=new Error(s);return i.name="SuppressedError",i.error=l,i.suppressed=a,i};function Og(l){function a(d){l.error=l.hasError?new kv(d,l.error,"An error was suppressed during disposal."):d,l.hasError=!0}var s,i=0;function c(){for(;s=l.stack.pop();)try{if(!s.async&&i===1)return i=0,l.stack.push(s),Promise.resolve().then(c);if(s.dispose){var d=s.dispose.call(s.value);if(s.async)return i|=2,Promise.resolve(d).then(c,function(f){return a(f),c()})}else i|=1}catch(f){a(f)}if(i===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return c()}function Ag(l,a){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,i,c,d,f){return i?a?".jsx":".js":c&&(!d||!f)?s:c+d+"."+f.toLowerCase()+"js"}):l}const Cv={__extends:rg,__assign:ol,__rest:Cr,__decorate:sg,__param:ig,__esDecorate:lg,__runInitializers:og,__propKey:ug,__setFunctionName:cg,__metadata:dg,__awaiter:F,__generator:fg,__createBinding:hl,__exportStar:hg,__values:ul,__read:fc,__spread:gg,__spreadArrays:mg,__spreadArray:yg,__await:kr,__asyncGenerator:vg,__asyncDelegator:pg,__asyncValues:bg,__makeTemplateObject:_g,__importStar:wg,__importDefault:Sg,__classPrivateFieldGet:xg,__classPrivateFieldSet:Tg,__classPrivateFieldIn:Eg,__addDisposableResource:jg,__disposeResources:Og,__rewriteRelativeImportExtension:Ag},Dv=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:jg,get __assign(){return ol},__asyncDelegator:pg,__asyncGenerator:vg,__asyncValues:bg,__await:kr,__awaiter:F,__classPrivateFieldGet:xg,__classPrivateFieldIn:Eg,__classPrivateFieldSet:Tg,__createBinding:hl,__decorate:sg,__disposeResources:Og,__esDecorate:lg,__exportStar:hg,__extends:rg,__generator:fg,__importDefault:Sg,__importStar:wg,__makeTemplateObject:_g,__metadata:dg,__param:ig,__propKey:ug,__read:fc,__rest:Cr,__rewriteRelativeImportExtension:Ag,__runInitializers:og,__setFunctionName:cg,__spread:gg,__spreadArray:yg,__spreadArrays:mg,__values:ul,default:Cv},Symbol.toStringTag,{value:"Module"})),Uv=l=>l?(...a)=>l(...a):(...a)=>fetch(...a);class hc extends Error{constructor(a,s="FunctionsError",i){super(a),this.name=s,this.context=i}}class zv extends hc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class A0 extends hc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class N0 extends hc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Fu;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Fu||(Fu={}));class Mv{constructor(a,{headers:s={},customFetch:i,region:c=Fu.Any}={}){this.url=a,this.headers=s,this.region=c,this.fetch=Uv(i)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return F(this,arguments,void 0,function*(s,i={}){var c;let d,f;try{const{headers:m,method:g,body:y,signal:_,timeout:E}=i;let b={},{region:S}=i;S||(S=this.region);const O=new URL(`${this.url}/${s}`);S&&S!=="any"&&(b["x-region"]=S,O.searchParams.set("forceFunctionRegion",S));let T;y&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",T=y):typeof y=="string"?(b["Content-Type"]="text/plain",T=y):typeof FormData<"u"&&y instanceof FormData?T=y:(b["Content-Type"]="application/json",T=JSON.stringify(y)):T=y;let N=_;E&&(f=new AbortController,d=setTimeout(()=>f.abort(),E),_?(N=f.signal,_.addEventListener("abort",()=>f.abort())):N=f.signal);const U=yield this.fetch(O.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),m),body:T,signal:N}).catch(ge=>{throw new zv(ge)}),V=U.headers.get("x-relay-error");if(V&&V==="true")throw new A0(U);if(!U.ok)throw new N0(U);let $=((c=U.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),X;return $==="application/json"?X=yield U.json():$==="application/octet-stream"||$==="application/pdf"?X=yield U.blob():$==="text/event-stream"?X=U:$==="multipart/form-data"?X=yield U.formData():X=yield U.text(),{data:X,error:null,response:U}}catch(m){return{data:null,error:m,response:m instanceof N0||m instanceof A0?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var wt={};const Dr=bv(Dv);var Wi={},Fi={},el={},tl={},nl={},al={},R0;function Ng(){if(R0)return al;R0=1,Object.defineProperty(al,"__esModule",{value:!0});class l extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return al.default=l,al}var k0;function Rg(){if(k0)return nl;k0=1,Object.defineProperty(nl,"__esModule",{value:!0});const a=Dr.__importDefault(Ng());class s{constructor(c){var d,f;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(d=c.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=c.signal,this.isMaybeSingle=(f=c.isMaybeSingle)!==null&&f!==void 0?f:!1,c.fetch?this.fetch=c.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=new Headers(this.headers),this.headers.set(c,d),this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let m=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,_,E,b;let S=null,O=null,T=null,N=g.status,U=g.statusText;if(g.ok){if(this.method!=="HEAD"){const ge=await g.text();ge===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?O=ge:O=JSON.parse(ge))}const $=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),X=(E=g.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");$&&X&&X.length>1&&(T=parseInt(X[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(O)&&(O.length>1?(S={code:"PGRST116",details:`Results contain ${O.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},O=null,T=null,N=406,U="Not Acceptable"):O.length===1?O=O[0]:O=null)}else{const $=await g.text();try{S=JSON.parse($),Array.isArray(S)&&g.status===404&&(O=[],S=null,N=200,U="OK")}catch{g.status===404&&$===""?(N=204,U="No Content"):S={message:$}}if(S&&this.isMaybeSingle&&(!((b=S?.details)===null||b===void 0)&&b.includes("0 rows"))&&(S=null,N=200,U="OK"),S&&this.shouldThrowOnError)throw new a.default(S)}return{error:S,data:O,count:T,status:N,statusText:U}});return this.shouldThrowOnError||(m=m.catch(g=>{var y,_,E,b,S,O;let T="";const N=g?.cause;if(N){const U=(y=N?.message)!==null&&y!==void 0?y:"",V=(_=N?.code)!==null&&_!==void 0?_:"";T=`${(E=g?.name)!==null&&E!==void 0?E:"FetchError"}: ${g?.message}`,T+=`

Caused by: ${(b=N?.name)!==null&&b!==void 0?b:"Error"}: ${U}`,V&&(T+=` (${V})`),N?.stack&&(T+=`
${N.stack}`)}else T=(S=g?.stack)!==null&&S!==void 0?S:"";return{error:{message:`${(O=g?.name)!==null&&O!==void 0?O:"FetchError"}: ${g?.message}`,details:T,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(c,d)}returns(){return this}overrideTypes(){return this}}return nl.default=s,nl}var C0;function kg(){if(C0)return tl;C0=1,Object.defineProperty(tl,"__esModule",{value:!0});const a=Dr.__importDefault(Rg());class s extends a.default{select(c){let d=!1;const f=(c??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:d=!0,nullsFirst:f,foreignTable:m,referencedTable:g=m}={}){const y=g?`${g}.order`:"order",_=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${_?`${_},`:""}${c}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:f=d}={}){const m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,d,{foreignTable:f,referencedTable:m=f}={}){const g=typeof m>"u"?"offset":`${m}.offset`,y=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${c}`),this.url.searchParams.set(y,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:d=!1,settings:f=!1,buffers:m=!1,wal:g=!1,format:y="text"}={}){var _;const E=[c?"analyze":null,d?"verbose":null,f?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),b=(_=this.headers.get("Accept"))!==null&&_!==void 0?_:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${b}"; options=${E};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return tl.default=s,tl}var D0;function gc(){if(D0)return el;D0=1,Object.defineProperty(el,"__esModule",{value:!0});const a=Dr.__importDefault(kg()),s=new RegExp("[,()]");class i extends a.default{eq(d,f){return this.url.searchParams.append(d,`eq.${f}`),this}neq(d,f){return this.url.searchParams.append(d,`neq.${f}`),this}gt(d,f){return this.url.searchParams.append(d,`gt.${f}`),this}gte(d,f){return this.url.searchParams.append(d,`gte.${f}`),this}lt(d,f){return this.url.searchParams.append(d,`lt.${f}`),this}lte(d,f){return this.url.searchParams.append(d,`lte.${f}`),this}like(d,f){return this.url.searchParams.append(d,`like.${f}`),this}likeAllOf(d,f){return this.url.searchParams.append(d,`like(all).{${f.join(",")}}`),this}likeAnyOf(d,f){return this.url.searchParams.append(d,`like(any).{${f.join(",")}}`),this}ilike(d,f){return this.url.searchParams.append(d,`ilike.${f}`),this}ilikeAllOf(d,f){return this.url.searchParams.append(d,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(d,f){return this.url.searchParams.append(d,`ilike(any).{${f.join(",")}}`),this}regexMatch(d,f){return this.url.searchParams.append(d,`match.${f}`),this}regexIMatch(d,f){return this.url.searchParams.append(d,`imatch.${f}`),this}is(d,f){return this.url.searchParams.append(d,`is.${f}`),this}isDistinct(d,f){return this.url.searchParams.append(d,`isdistinct.${f}`),this}in(d,f){const m=Array.from(new Set(f)).map(g=>typeof g=="string"&&s.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(d,`in.(${m})`),this}contains(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cs.{${f.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(f)}`),this}containedBy(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cd.{${f.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(f)}`),this}rangeGt(d,f){return this.url.searchParams.append(d,`sr.${f}`),this}rangeGte(d,f){return this.url.searchParams.append(d,`nxl.${f}`),this}rangeLt(d,f){return this.url.searchParams.append(d,`sl.${f}`),this}rangeLte(d,f){return this.url.searchParams.append(d,`nxr.${f}`),this}rangeAdjacent(d,f){return this.url.searchParams.append(d,`adj.${f}`),this}overlaps(d,f){return typeof f=="string"?this.url.searchParams.append(d,`ov.${f}`):this.url.searchParams.append(d,`ov.{${f.join(",")}}`),this}textSearch(d,f,{config:m,type:g}={}){let y="";g==="plain"?y="pl":g==="phrase"?y="ph":g==="websearch"&&(y="w");const _=m===void 0?"":`(${m})`;return this.url.searchParams.append(d,`${y}fts${_}.${f}`),this}match(d){return Object.entries(d).forEach(([f,m])=>{this.url.searchParams.append(f,`eq.${m}`)}),this}not(d,f,m){return this.url.searchParams.append(d,`not.${f}.${m}`),this}or(d,{foreignTable:f,referencedTable:m=f}={}){const g=m?`${m}.or`:"or";return this.url.searchParams.append(g,`(${d})`),this}filter(d,f,m){return this.url.searchParams.append(d,`${f}.${m}`),this}}return el.default=i,el}var U0;function Cg(){if(U0)return Fi;U0=1,Object.defineProperty(Fi,"__esModule",{value:!0});const a=Dr.__importDefault(gc());class s{constructor(c,{headers:d={},schema:f,fetch:m}){this.url=c,this.headers=new Headers(d),this.schema=f,this.fetch=m}select(c,d){const{head:f=!1,count:m}=d??{},g=f?"HEAD":"GET";let y=!1;const _=(c??"*").split("").map(E=>/\s/.test(E)&&!y?"":(E==='"'&&(y=!y),E)).join("");return this.url.searchParams.set("select",_),m&&this.headers.append("Prefer",`count=${m}`),new a.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:d,defaultToNull:f=!0}={}){var m;const g="POST";if(d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const y=c.reduce((_,E)=>_.concat(Object.keys(E)),[]);if(y.length>0){const _=[...new Set(y)].map(E=>`"${E}"`);this.url.searchParams.set("columns",_.join(","))}}return new a.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(c,{onConflict:d,ignoreDuplicates:f=!1,count:m,defaultToNull:g=!0}={}){var y;const _="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const E=c.reduce((b,S)=>b.concat(Object.keys(S)),[]);if(E.length>0){const b=[...new Set(E)].map(S=>`"${S}"`);this.url.searchParams.set("columns",b.join(","))}}return new a.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(c,{count:d}={}){var f;const m="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:c}={}){var d;const f="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new a.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Fi.default=s,Fi}var z0;function Bv(){if(z0)return Wi;z0=1,Object.defineProperty(Wi,"__esModule",{value:!0});const l=Dr,a=l.__importDefault(Cg()),s=l.__importDefault(gc());class i{constructor(d,{headers:f={},schema:m,fetch:g}={}){this.url=d,this.headers=new Headers(f),this.schemaName=m,this.fetch=g}from(d){if(!d||typeof d!="string"||d.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const f=new URL(`${this.url}/${d}`);return new a.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new i(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:m=!1,get:g=!1,count:y}={}){var _;let E;const b=new URL(`${this.url}/rpc/${d}`);let S;m||g?(E=m?"HEAD":"GET",Object.entries(f).filter(([T,N])=>N!==void 0).map(([T,N])=>[T,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([T,N])=>{b.searchParams.append(T,N)})):(E="POST",S=f);const O=new Headers(this.headers);return y&&O.set("Prefer",`count=${y}`),new s.default({method:E,url:b,headers:O,schema:this.schemaName,body:S,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}}return Wi.default=i,Wi}var M0;function qv(){if(M0)return wt;M0=1,Object.defineProperty(wt,"__esModule",{value:!0}),wt.PostgrestError=wt.PostgrestBuilder=wt.PostgrestTransformBuilder=wt.PostgrestFilterBuilder=wt.PostgrestQueryBuilder=wt.PostgrestClient=void 0;const l=Dr,a=l.__importDefault(Bv());wt.PostgrestClient=a.default;const s=l.__importDefault(Cg());wt.PostgrestQueryBuilder=s.default;const i=l.__importDefault(gc());wt.PostgrestFilterBuilder=i.default;const c=l.__importDefault(kg());wt.PostgrestTransformBuilder=c.default;const d=l.__importDefault(Rg());wt.PostgrestBuilder=d.default;const f=l.__importDefault(Ng());return wt.PostgrestError=f.default,wt.default={PostgrestClient:a.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:f.default},wt}var Dg=qv();const Ug=pv(Dg),Lv=vv({__proto__:null,default:Ug},[Dg]),{PostgrestClient:Hv,PostgrestQueryBuilder:__,PostgrestFilterBuilder:w_,PostgrestTransformBuilder:S_,PostgrestBuilder:x_,PostgrestError:T_}=Ug||Lv;class $v{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,c=parseInt(i.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let s=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(s+=`

Suggested solution: ${a.workaround}`),new Error(s)}static createWebSocket(a,s){const i=this.getWebSocketConstructor();return new i(a,s)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Gv="2.86.0",Vv=`realtime-js/${Gv}`,zg="1.0.0",Yv="2.0.0",B0=zg,ec=1e4,Kv=1e3,Xv=100;var Ca;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Ca||(Ca={}));var dt;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(dt||(dt={}));var ln;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(ln||(ln={}));var tc;(function(l){l.websocket="websocket"})(tc||(tc={}));var Da;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(Da||(Da={}));class Qv{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,s){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(a));let i=[a.join_ref,a.ref,a.topic,a.event,a.payload];return s(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(a){var s;return this._isArrayBuffer((s=a.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var s,i;const c=(i=(s=a.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var s,i;const c=(i=(s=a.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,s,i){var c,d;const f=a.topic,m=(c=a.ref)!==null&&c!==void 0?c:"",g=(d=a.join_ref)!==null&&d!==void 0?d:"",y=a.payload.event,_=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},E=Object.keys(_).length===0?"":JSON.stringify(_);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(E.length>255)throw new Error(`metadata length ${E.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+f.length+y.length+E.length,S=new ArrayBuffer(this.HEADER_LENGTH+b);let O=new DataView(S),T=0;O.setUint8(T++,this.KINDS.userBroadcastPush),O.setUint8(T++,g.length),O.setUint8(T++,m.length),O.setUint8(T++,f.length),O.setUint8(T++,y.length),O.setUint8(T++,E.length),O.setUint8(T++,s),Array.from(g,U=>O.setUint8(T++,U.charCodeAt(0))),Array.from(m,U=>O.setUint8(T++,U.charCodeAt(0))),Array.from(f,U=>O.setUint8(T++,U.charCodeAt(0))),Array.from(y,U=>O.setUint8(T++,U.charCodeAt(0))),Array.from(E,U=>O.setUint8(T++,U.charCodeAt(0)));var N=new Uint8Array(S.byteLength+i.byteLength);return N.set(new Uint8Array(S),0),N.set(new Uint8Array(i),S.byteLength),N.buffer}decode(a,s){if(this._isArrayBuffer(a)){let i=this._binaryDecode(a);return s(i)}if(typeof a=="string"){const i=JSON.parse(a),[c,d,f,m,g]=i;return s({join_ref:c,ref:d,topic:f,event:m,payload:g})}return s({})}_binaryDecode(a){const s=new DataView(a),i=s.getUint8(0),c=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,s,c)}}_decodeUserBroadcast(a,s,i){const c=s.getUint8(1),d=s.getUint8(2),f=s.getUint8(3),m=s.getUint8(4);let g=this.HEADER_LENGTH+4;const y=i.decode(a.slice(g,g+c));g=g+c;const _=i.decode(a.slice(g,g+d));g=g+d;const E=i.decode(a.slice(g,g+f));g=g+f;const b=a.slice(g,a.byteLength),S=m===this.JSON_ENCODING?JSON.parse(i.decode(b)):b,O={type:this.BROADCAST_EVENT,event:_,payload:S};return f>0&&(O.meta=JSON.parse(E)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(a){var s;return a instanceof ArrayBuffer||((s=a?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(a,s){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([i])=>s.includes(i)))}}class Mg{constructor(a,s){this.callback=a,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Ge||(Ge={}));const q0=(l,a,s={})=>{var i;const c=(i=s.skipTypes)!==null&&i!==void 0?i:[];return a?Object.keys(a).reduce((d,f)=>(d[f]=Jv(f,l,a,c),d),{}):{}},Jv=(l,a,s,i)=>{const c=a.find(m=>m.name===l),d=c?.type,f=s[l];return d&&!i.includes(d)?Bg(d,f):nc(f)},Bg=(l,a)=>{if(l.charAt(0)==="_"){const s=l.slice(1,l.length);return Wv(a,s)}switch(l){case Ge.bool:return Iv(a);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return Zv(a);case Ge.json:case Ge.jsonb:return Pv(a);case Ge.timestamp:return Fv(a);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return nc(a);default:return nc(a)}},nc=l=>l,Iv=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},Zv=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},Pv=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(a){return console.log(`JSON parse error: ${a}`),l}return l},Wv=(l,a)=>{if(typeof l!="string")return l;const s=l.length-1,i=l[s];if(l[0]==="{"&&i==="}"){let d;const f=l.slice(1,s);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(m=>Bg(a,m))}return l},Fv=l=>typeof l=="string"?l.replace(" ","T"):l,qg=l=>{const a=new URL(l);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Hu{constructor(a,s,i={},c=ec){this.channel=a,this.event=s,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,s){var i;return this._hasReceived(a)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:a,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:s}){this.recHooks.filter(i=>i.status===a).forEach(i=>i.callback(s))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var L0;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(L0||(L0={}));class Rs{constructor(a,s){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rs.syncState(this.state,c,d,f),this.pendingDiffs.forEach(g=>{this.state=Rs.syncDiff(this.state,g,d,f)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Rs.syncDiff(this.state,c,d,f),m())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,s,i,c){const d=this.cloneDeep(a),f=this.transformState(s),m={},g={};return this.map(d,(y,_)=>{f[y]||(g[y]=_)}),this.map(f,(y,_)=>{const E=d[y];if(E){const b=_.map(N=>N.presence_ref),S=E.map(N=>N.presence_ref),O=_.filter(N=>S.indexOf(N.presence_ref)<0),T=E.filter(N=>b.indexOf(N.presence_ref)<0);O.length>0&&(m[y]=O),T.length>0&&(g[y]=T)}else m[y]=_}),this.syncDiff(d,{joins:m,leaves:g},i,c)}static syncDiff(a,s,i,c){const{joins:d,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(d,(m,g)=>{var y;const _=(y=a[m])!==null&&y!==void 0?y:[];if(a[m]=this.cloneDeep(g),_.length>0){const E=a[m].map(S=>S.presence_ref),b=_.filter(S=>E.indexOf(S.presence_ref)<0);a[m].unshift(...b)}i(m,_,g)}),this.map(f,(m,g)=>{let y=a[m];if(!y)return;const _=g.map(E=>E.presence_ref);y=y.filter(E=>_.indexOf(E.presence_ref)<0),a[m]=y,c(m,y,g),y.length===0&&delete a[m]}),a}static map(a,s){return Object.getOwnPropertyNames(a).map(i=>s(i,a[i]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((s,i)=>{const c=a[i];return"metas"in c?s[i]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[i]=c,s},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var H0;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(H0||(H0={}));var ks;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(ks||(ks={}));var Cn;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Cn||(Cn={}));class mc{constructor(a,s={config:{}},i){var c,d;if(this.topic=a,this.params=s,this.socket=i,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Hu(this,ln.join,this.params,this.timeout),this.rejoinTimer=new Mg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ln.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new Rs(this),this.broadcastEndpointURL=qg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,s=this.timeout){var i,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==dt.closed){const{config:{broadcast:f,presence:m,private:g}}=this.params,y=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&c!==void 0?c:[],_=!!this.bindings[ks.PRESENCE]&&this.bindings[ks.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,E={},b={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:_}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(S=>a?.(Cn.CHANNEL_ERROR,S)),this._onClose(()=>a?.(Cn.CLOSED)),this.updateJoinPayload(Object.assign({config:b},E)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:S})=>{var O;if(this.socket.setAuth(),S===void 0){a?.(Cn.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,N=(O=T?.length)!==null&&O!==void 0?O:0,U=[];for(let V=0;V<N;V++){const $=T[V],{filter:{event:X,schema:ge,table:ee,filter:J}}=$,se=S&&S[V];if(se&&se.event===X&&se.schema===ge&&se.table===ee&&se.filter===J)U.push(Object.assign(Object.assign({},$),{id:se.id}));else{this.unsubscribe(),this.state=dt.errored,a?.(Cn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,a&&a(Cn.SUBSCRIBED);return}}).receive("error",S=>{this.state=dt.errored,a?.(Cn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{a?.(Cn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,s={}){return await this.send({type:"presence",event:"track",payload:a},s.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,s,i){return this.state===dt.joined&&a===ks.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,s,i)}async httpSend(a,s,i={}){var c;const d=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:d,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=i.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const y=await m.json();g=y.error||y.message||g}catch{}return Promise.reject(new Error(g))}async send(a,s={}){var i,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=a,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,m,g;const y=this._push(a.type,a,s.timeout||this.timeout);a.type==="broadcast"&&!(!((g=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),y.receive("ok",()=>d("ok")),y.receive("error",()=>d("error")),y.receive("timeout",()=>d("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=dt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ln.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new Hu(this,ln.leave,{},a),i.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dt.closed,this.bindings={}}async _fetchWithTimeout(a,s,i){const c=new AbortController,d=setTimeout(()=>c.abort(),i),f=await this.socket.fetch(a,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(d),f}_push(a,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Hu(this,a,s,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Xv){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(a,s,i){return s}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,s,i){var c,d;const f=a.toLocaleLowerCase(),{close:m,error:g,leave:y,join:_}=ln;if(i&&[m,g,y,_].indexOf(f)>=0&&i!==this._joinRef())return;let b=this._onMessage(f,s,i);if(s&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(S=>{var O,T,N;return((O=S.filter)===null||O===void 0?void 0:O.event)==="*"||((N=(T=S.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===f}).map(S=>S.callback(b,i)):(d=this.bindings[f])===null||d===void 0||d.filter(S=>{var O,T,N,U,V,$;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in S){const X=S.id,ge=(O=S.filter)===null||O===void 0?void 0:O.event;return X&&((T=s.ids)===null||T===void 0?void 0:T.includes(X))&&(ge==="*"||ge?.toLocaleLowerCase()===((N=s.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const X=(V=(U=S?.filter)===null||U===void 0?void 0:U.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return X==="*"||X===(($=s?.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===f}).map(S=>{if(typeof b=="object"&&"ids"in b){const O=b.data,{schema:T,table:N,commit_timestamp:U,type:V,errors:$}=O;b=Object.assign(Object.assign({},{schema:T,table:N,commit_timestamp:U,eventType:V,new:{},old:{},errors:$}),this._getPayloadRecords(O))}S.callback(b,i)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,s,i){const c=a.toLocaleLowerCase(),d={type:c,filter:s,callback:i};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(a,s){const i=a.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===i&&mc.isEqual(c.filter,s))})),this}static isEqual(a,s){if(Object.keys(a).length!==Object.keys(s).length)return!1;for(const i in a)if(a[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(ln.close,{},a)}_onError(a){this._on(ln.error,{},s=>a(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const s={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(s.new=q0(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(s.old=q0(a.columns,a.old_record)),s}}const $u=()=>{},rl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ep=[1e3,2e3,5e3,1e4],tp=1e4,np=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ap{constructor(a,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ec,this.transport=null,this.heartbeatIntervalMs=rl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$u,this.ref=0,this.reconnectTimer=null,this.vsn=B0,this.logger=$u,this.conn=null,this.sendBuffer=[],this.serializer=new Qv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${a}/${tc.websocket}`,this.httpEndpoint=qg(a),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$v.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const s=a.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const s=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const a=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,s,i){this.logger(a,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ca.connecting:return Da.Connecting;case Ca.open:return Da.Open;case Ca.closing:return Da.Closing;default:return Da.Closed}}isConnected(){return this.connectionState()===Da.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,s={config:{}}){const i=`realtime:${a}`,c=this.getChannels().find(d=>d.topic===i);if(c)return c;{const d=new mc(`realtime:${a}`,s,this);return this.channels.push(d),d}}push(a){const{topic:s,event:i,payload:c,ref:d}=a,f=()=>{this.encode(a,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${s} ${i} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Kv,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},rl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let s=this.channels.find(i=>i.topic===a&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${a}"`),s.unsubscribe())}_remove(a){this.channels=this.channels.filter(s=>s.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:c,payload:d,ref:f}=s,m=f?`(${f})`:"",g=d.status||"";this.log("receive",`${g} ${i} ${c} ${m}`.trim(),d),this.channels.filter(y=>y._isMember(i)).forEach(y=>y._trigger(c,d,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(a){var s;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ca.open||this.conn.readyState===Ca.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var s;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(ln.error))}_appendParams(a,s){if(Object.keys(s).length===0)return a;const i=a.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${a}${i}${c}`}_workerObjectUrl(a){let s;if(a)s=a;else{const i=new Blob([np],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(a,s=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(a=null){let s;a?s=a:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const c={access_token:s,version:Vv};s&&i.updateJoinPayload(c),i.joinedOnce&&i._isJoined()&&i._push(ln.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${a}`,s)})}_triggerStateCallbacks(a,s){try{this.stateChangeCallbacks[a].forEach(i=>{try{i(s)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(i){this.log("error",`error triggering ${a} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Mg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},rl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var s,i,c,d,f,m,g,y,_,E,b,S;switch(this.transport=(s=a?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=a?.timeout)!==null&&i!==void 0?i:ec,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:rl.HEARTBEAT_INTERVAL,this.worker=(d=a?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=a?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:$u,this.vsn=(g=a?.vsn)!==null&&g!==void 0?g:B0,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=a?.reconnectAfterMs)!==null&&y!==void 0?y:(O=>ep[O-1]||tp),this.vsn){case zg:this.encode=(_=a?.encode)!==null&&_!==void 0?_:((O,T)=>T(JSON.stringify(O))),this.decode=(E=a?.decode)!==null&&E!==void 0?E:((O,T)=>T(JSON.parse(O)));break;case Yv:this.encode=(b=a?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(S=a?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}class gl extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Ze(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class rp extends gl{constructor(a,s,i){super(a),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ac extends gl{constructor(a,s){super(a),this.name="StorageUnknownError",this.originalError=s}}const yc=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),sp=()=>Response,rc=l=>{if(Array.isArray(l))return l.map(s=>rc(s));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([s,i])=>{const c=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));a[c]=rc(i)}),a},ip=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},lp=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l),Gu=l=>{var a;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(a=l.error)===null||a===void 0?void 0:a.message)||JSON.stringify(l)},op=(l,a,s)=>F(void 0,void 0,void 0,function*(){const i=yield sp();l instanceof i&&!s?.noResolveJson?l.json().then(c=>{const d=l.status||500,f=c?.statusCode||d+"";a(new rp(Gu(c),d,f))}).catch(c=>{a(new ac(Gu(c),c))}):a(new ac(Gu(l),l))}),up=(l,a,s,i)=>{const c={method:l,headers:a?.headers||{}};return l==="GET"||!i?c:(ip(i)?(c.headers=Object.assign({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(i)):c.body=i,a?.duplex&&(c.duplex=a.duplex),Object.assign(Object.assign({},c),s))};function Ms(l,a,s,i,c,d){return F(this,void 0,void 0,function*(){return new Promise((f,m)=>{l(s,up(a,i,c,d)).then(g=>{if(!g.ok)throw g;return i?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>op(g,m,i))})})}function Cs(l,a,s,i){return F(this,void 0,void 0,function*(){return Ms(l,"GET",a,s,i)})}function sn(l,a,s,i,c){return F(this,void 0,void 0,function*(){return Ms(l,"POST",a,i,c,s)})}function sc(l,a,s,i,c){return F(this,void 0,void 0,function*(){return Ms(l,"PUT",a,i,c,s)})}function cp(l,a,s,i){return F(this,void 0,void 0,function*(){return Ms(l,"HEAD",a,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function vc(l,a,s,i,c){return F(this,void 0,void 0,function*(){return Ms(l,"DELETE",a,i,c,s)})}class dp{constructor(a,s){this.downloadFn=a,this.shouldThrowOnError=s}then(a,s){return this.execute().then(a,s)}execute(){return F(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}})}}var Lg;class fp{constructor(a,s){this.downloadFn=a,this.shouldThrowOnError=s,this[Lg]="BlobDownloadBuilder",this.promise=null}asStream(){return new dp(this.downloadFn,this.shouldThrowOnError)}then(a,s){return this.getPromise().then(a,s)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return F(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}})}}Lg=Symbol.toStringTag;const hp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gp{constructor(a,s={},i,c){this.shouldThrowOnError=!1,this.url=a,this.headers=s,this.bucketId=i,this.fetch=yc(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,s,i,c){return F(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},$0),c);let m=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",this.encodeMetadata(g)),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),g&&!d.has("metadata")&&d.append("metadata",this.encodeMetadata(g))):(d=i,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),c?.headers&&(m=Object.assign(Object.assign({},m),c.headers));const y=this._removeEmptyFolders(s),_=this._getFinalPath(y),E=yield(a=="PUT"?sc:sn)(this.fetch,`${this.url}/object/${_}`,d,Object.assign({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:y,id:E.Id,fullPath:E.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ze(d))return{data:null,error:d};throw d}})}upload(a,s,i){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,s,i)})}uploadToSignedUrl(a,s,i,c){return F(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(a),f=this._getFinalPath(d),m=new URL(this.url+`/object/upload/sign/${f}`);m.searchParams.set("token",s);try{let g;const y=Object.assign({upsert:$0.upsert},c),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",y.cacheControl)):(g=i,_["cache-control"]=`max-age=${y.cacheControl}`,_["content-type"]=y.contentType);const E=yield sc(this.fetch,m.toString(),g,{headers:_});return{data:{path:d,fullPath:E.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Ze(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(a,s){return F(this,void 0,void 0,function*(){try{let i=this._getFinalPath(a);const c=Object.assign({},this.headers);s?.upsert&&(c["x-upsert"]="true");const d=yield sn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:c}),f=new URL(this.url+d.url),m=f.searchParams.get("token");if(!m)throw new gl("No token returned by API");return{data:{signedUrl:f.toString(),path:a,token:m},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}update(a,s,i){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,s,i)})}move(a,s,i){return F(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}})}copy(a,s,i){return F(this,void 0,void 0,function*(){try{return{data:{path:(yield sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}})}createSignedUrl(a,s,i){return F(this,void 0,void 0,function*(){try{let c=this._getFinalPath(a),d=yield sn(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:s},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}})}createSignedUrls(a,s,i){return F(this,void 0,void 0,function*(){try{const c=yield sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:a},{headers:this.headers}),d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}})}download(a,s){const c=typeof s?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(s?.transform||{}),f=d?`?${d}`:"",m=this._getFinalPath(a),g=()=>Cs(this.fetch,`${this.url}/${c}/${m}${f}`,{headers:this.headers,noResolveJson:!0});return new fp(g,this.shouldThrowOnError)}info(a){return F(this,void 0,void 0,function*(){const s=this._getFinalPath(a);try{const i=yield Cs(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:rc(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}exists(a){return F(this,void 0,void 0,function*(){const s=this._getFinalPath(a);try{return yield cp(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i)&&i instanceof ac){const c=i.originalError;if([400,404].includes(c?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(a,s){const i=this._getFinalPath(a),c=[],d=s?.download?`download=${s.download===!0?"":s.download}`:"";d!==""&&c.push(d);const m=typeof s?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(s?.transform||{});g!==""&&c.push(g);let y=c.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${i}${y}`)}}}remove(a){return F(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}list(a,s,i){return F(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},hp),s),{prefix:a||""});return{data:yield sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},i),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}})}listV2(a,s){return F(this,void 0,void 0,function*(){try{const i=Object.assign({},a);return{data:yield sn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const s=[];return a.width&&s.push(`width=${a.width}`),a.height&&s.push(`height=${a.height}`),a.resize&&s.push(`resize=${a.resize}`),a.format&&s.push(`format=${a.format}`),a.quality&&s.push(`quality=${a.quality}`),s.join("&")}}const Hg="2.86.0",$g={"X-Client-Info":`storage-js/${Hg}`};class mp{constructor(a,s={},i,c){this.shouldThrowOnError=!1;const d=new URL(a);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$g),s),this.fetch=yc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return F(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(a);return{data:yield Cs(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}getBucket(a){return F(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}createBucket(a){return F(this,arguments,void 0,function*(s,i={public:!1}){try{return{data:yield sn(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}})}updateBucket(a,s){return F(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}emptyBucket(a){return F(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}deleteBucket(a){return F(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(a){const s={};return a&&("limit"in a&&(s.limit=String(a.limit)),"offset"in a&&(s.offset=String(a.offset)),a.search&&(s.search=a.search),a.sortColumn&&(s.sortColumn=a.sortColumn),a.sortOrder&&(s.sortOrder=a.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}var Ds=class extends Error{constructor(l,a){super(l),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function yp(l,a,s){const i=new URL(a,l);if(s)for(const[c,d]of Object.entries(s))d!==void 0&&i.searchParams.set(c,d);return i.toString()}async function vp(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function pp(l){const a=l.fetchImpl??globalThis.fetch;return{async request({method:s,path:i,query:c,body:d,headers:f}){const m=yp(l.baseUrl,i,c),g=await vp(l.auth),y=await a(m,{method:s,headers:{...d?{"Content-Type":"application/json"}:{},...g,...f},body:d?JSON.stringify(d):void 0}),_=await y.text(),E=(y.headers.get("content-type")||"").includes("application/json"),b=E&&_?JSON.parse(_):_;if(!y.ok){const S=E?b:void 0,O=S?.error;throw new Ds(O?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:O?.type,icebergCode:O?.code,details:S})}return{status:y.status,headers:y.headers,data:b}}}}function sl(l){return l.join("")}var bp=class{constructor(l,a=""){this.client=l,this.prefix=a}async listNamespaces(l){const a=l?{parent:sl(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(l,a){const s={namespace:l.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${sl(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sl(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${sl(l.namespace)}`}),!0}catch(a){if(a instanceof Ds&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(l,a){try{return await this.createNamespace(l,a)}catch(s){if(s instanceof Ds&&s.status===409)return;throw s}}};function wr(l){return l.join("")}var _p=class{constructor(l,a="",s){this.client=l,this.prefix=a,this.accessDelegation=s}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wr(l.namespace)}/tables`})).data.identifiers}async createTable(l,a){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wr(l.namespace)}/tables`,body:a,headers:s})).data.metadata}async updateTable(l,a){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wr(l.namespace)}/tables/${l.name}`,body:a});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(l,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wr(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(l){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wr(l.namespace)}/tables/${l.name}`,headers:a})).data.metadata}async tableExists(l){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wr(l.namespace)}/tables/${l.name}`,headers:a}),!0}catch(s){if(s instanceof Ds&&s.status===404)return!1;throw s}}async createTableIfNotExists(l,a){try{return await this.createTable(l,a)}catch(s){if(s instanceof Ds&&s.status===409)return await this.loadTable({namespace:l.namespace,name:a.name});throw s}}},wp=class{constructor(l){let a="v1";l.catalogName&&(a+=`/${l.catalogName}`);const s=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=pp({baseUrl:s,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=l.accessDelegation?.join(","),this.namespaceOps=new bp(this.client,a),this.tableOps=new _p(this.client,a,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,a){return this.namespaceOps.createNamespace(l,a)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,a){return this.tableOps.createTable(l,a)}async updateTable(l,a){return this.tableOps.updateTable(l,a)}async dropTable(l,a){await this.tableOps.dropTable(l,a)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,a){return this.namespaceOps.createNamespaceIfNotExists(l,a)}async createTableIfNotExists(l,a){return this.tableOps.createTableIfNotExists(l,a)}};class Sp{constructor(a,s={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$g),s),this.fetch=yc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return F(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}listBuckets(a){return F(this,void 0,void 0,function*(){try{const s=new URLSearchParams;a?.limit!==void 0&&s.set("limit",a.limit.toString()),a?.offset!==void 0&&s.set("offset",a.offset.toString()),a?.sortColumn&&s.set("sortColumn",a.sortColumn),a?.sortOrder&&s.set("sortOrder",a.sortOrder),a?.search&&s.set("search",a.search);const i=s.toString(),c=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Cs(this.fetch,c,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}deleteBucket(a){return F(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}from(a){if(!lp(a))throw new gl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new wp({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:()=>F(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const pc={"X-Client-Info":`storage-js/${Hg}`,"Content-Type":"application/json"};class Gg extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function $t(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}class Vu extends Gg{constructor(a,s,i){super(a),this.name="StorageVectorsApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xp extends Gg{constructor(a,s){super(a),this.name="StorageVectorsUnknownError",this.originalError=s}}var G0;(function(l){l.InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(G0||(G0={}));const bc=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),Tp=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},V0=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Ep=(l,a,s)=>F(void 0,void 0,void 0,function*(){if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!s?.noResolveJson){const c=l.status||500,d=l;if(typeof d.json=="function")d.json().then(f=>{const m=f?.statusCode||f?.code||c+"";a(new Vu(V0(f),c,m))}).catch(()=>{const f=c+"",m=d.statusText||`HTTP ${c} error`;a(new Vu(m,c,f))});else{const f=c+"",m=d.statusText||`HTTP ${c} error`;a(new Vu(m,c,f))}}else a(new xp(V0(l),l))}),jp=(l,a,s,i)=>{const c={method:l,headers:a?.headers||{}};return i?(Tp(i)?(c.headers=Object.assign({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(i)):c.body=i,Object.assign(Object.assign({},c),s)):c};function Op(l,a,s,i,c,d){return F(this,void 0,void 0,function*(){return new Promise((f,m)=>{l(s,jp(a,i,c,d)).then(g=>{if(!g.ok)throw g;if(i?.noResolveJson)return g;const y=g.headers.get("content-type");return!y||!y.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>Ep(g,m,i))})})}function Gt(l,a,s,i,c){return F(this,void 0,void 0,function*(){return Op(l,"POST",a,i,c,s)})}class Ap{constructor(a,s={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pc),s),this.fetch=bc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return F(this,void 0,void 0,function*(){try{return{data:(yield Gt(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}getIndex(a,s){return F(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:s},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}})}listIndexes(a){return F(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}deleteIndex(a,s){return F(this,void 0,void 0,function*(){try{return{data:(yield Gt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:s},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}})}}class Np{constructor(a,s={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pc),s),this.fetch=bc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return F(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Gt(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}getVectors(a){return F(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}listVectors(a){return F(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield Gt(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}queryVectors(a){return F(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}deleteVectors(a){return F(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Gt(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}}class Rp{constructor(a,s={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pc),s),this.fetch=bc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return F(this,void 0,void 0,function*(){try{return{data:(yield Gt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}getBucket(a){return F(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}listBuckets(){return F(this,arguments,void 0,function*(a={}){try{return{data:yield Gt(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}deleteBucket(a){return F(this,void 0,void 0,function*(){try{return{data:(yield Gt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}}class kp extends Rp{constructor(a,s={}){super(a,s.headers||{},s.fetch)}from(a){return new Cp(this.url,this.headers,a,this.fetch)}createBucket(a){const s=Object.create(null,{createBucket:{get:()=>super.createBucket}});return F(this,void 0,void 0,function*(){return s.createBucket.call(this,a)})}getBucket(a){const s=Object.create(null,{getBucket:{get:()=>super.getBucket}});return F(this,void 0,void 0,function*(){return s.getBucket.call(this,a)})}listBuckets(){const a=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return F(this,arguments,void 0,function*(s={}){return a.listBuckets.call(this,s)})}deleteBucket(a){const s=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return F(this,void 0,void 0,function*(){return s.deleteBucket.call(this,a)})}}class Cp extends Ap{constructor(a,s,i,c){super(a,s,c),this.vectorBucketName=i}createIndex(a){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return F(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return F(this,arguments,void 0,function*(s={}){return a.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return F(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return F(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new Dp(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class Dp extends Np{constructor(a,s,i,c,d){super(a,s,d),this.vectorBucketName=i,this.indexName=c}putVectors(a){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return F(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return F(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return F(this,arguments,void 0,function*(s={}){return a.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return F(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return F(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Up extends mp{constructor(a,s={},i,c){super(a,s,i,c)}from(a){return new gp(this.url,this.headers,a,this.fetch)}get vectors(){return new kp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Sp(this.url+"/iceberg",this.headers,this.fetch)}}const zp="2.86.0";let Ns="";typeof Deno<"u"?Ns="deno":typeof document<"u"?Ns="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ns="react-native":Ns="node";const Mp={"X-Client-Info":`supabase-js-${Ns}/${zp}`},Bp={headers:Mp},qp={schema:"public"},Lp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hp={},$p=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),Gp=()=>Headers,Vp=(l,a,s)=>{const i=$p(s),c=Gp();return async(d,f)=>{var m;const g=(m=await a())!==null&&m!==void 0?m:l;let y=new c(f?.headers);return y.has("apikey")||y.set("apikey",l),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),i(d,Object.assign(Object.assign({},f),{headers:y}))}};function Yp(l){return l.endsWith("/")?l:l+"/"}function Kp(l,a){var s,i;const{db:c,auth:d,realtime:f,global:m}=l,{db:g,auth:y,realtime:_,global:E}=a,b={db:Object.assign(Object.assign({},g),c),auth:Object.assign(Object.assign({},y),d),realtime:Object.assign(Object.assign({},_),f),storage:{},global:Object.assign(Object.assign(Object.assign({},E),m),{headers:Object.assign(Object.assign({},(s=E?.headers)!==null&&s!==void 0?s:{}),(i=m?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return l.accessToken?b.accessToken=l.accessToken:delete b.accessToken,b}function Xp(l){const a=l?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Yp(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Vg="2.86.0",Or=30*1e3,ic=3,Yu=ic*Or,Qp="http://localhost:9999",Jp="supabase.auth.token",Ip={"X-Client-Info":`gotrue-js/${Vg}`},lc="X-Supabase-Api-Version",Yg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Zp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Pp=600*1e3;class Us extends Error{constructor(a,s,i){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function re(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class Wp extends Us{constructor(a,s,i){super(a,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function Fp(l){return re(l)&&l.name==="AuthApiError"}class Ua extends Us{constructor(a,s){super(a),this.name="AuthUnknownError",this.originalError=s}}class ia extends Us{constructor(a,s,i,c){super(a,i,c),this.name=s,this.status=i}}class Ht extends ia{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eb(l){return re(l)&&l.name==="AuthSessionMissingError"}class Sr extends ia{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class il extends ia{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class ll extends ia{constructor(a,s=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tb(l){return re(l)&&l.name==="AuthImplicitGrantRedirectError"}class Y0 extends ia{constructor(a,s=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oc extends ia{constructor(a,s){super(a,"AuthRetryableFetchError",s,void 0)}}function Ku(l){return re(l)&&l.name==="AuthRetryableFetchError"}class K0 extends ia{constructor(a,s,i){super(a,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class uc extends ia{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const cl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),X0=` 	
\r=`.split(""),nb=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<X0.length;a+=1)l[X0[a].charCodeAt(0)]=-2;for(let a=0;a<cl.length;a+=1)l[cl[a].charCodeAt(0)]=a;return l})();function Q0(l,a,s){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;s(cl[i]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;s(cl[i]),a.queuedBits-=6}}function Kg(l,a,s){const i=nb[l];if(i>-1)for(a.queue=a.queue<<6|i,a.queuedBits+=6;a.queuedBits>=8;)s(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function J0(l){const a=[],s=f=>{a.push(String.fromCodePoint(f))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{sb(f,i,s)};for(let f=0;f<l.length;f+=1)Kg(l.charCodeAt(f),c,d);return a.join("")}function ab(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function rb(l,a){for(let s=0;s<l.length;s+=1){let i=l.charCodeAt(s);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(l.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}ab(i,a)}}function sb(l,a,s){if(a.utf8seq===0){if(l<=127){s(l);return}for(let i=1;i<6;i+=1)if((l>>7-i&1)===0){a.utf8seq=i;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&s(a.codepoint)}}function Nr(l){const a=[],s={queue:0,queuedBits:0},i=c=>{a.push(c)};for(let c=0;c<l.length;c+=1)Kg(l.charCodeAt(c),s,i);return new Uint8Array(a)}function ib(l){const a=[];return rb(l,s=>a.push(s)),new Uint8Array(a)}function za(l){const a=[],s={queue:0,queuedBits:0},i=c=>{a.push(c)};return l.forEach(c=>Q0(c,s,i)),Q0(null,s,i),a.join("")}function lb(l){return Math.round(Date.now()/1e3)+l}function ob(){return Symbol("auth-callback")}const bt=()=>typeof window<"u"&&typeof document<"u",Na={tested:!1,writable:!1},Xg=()=>{if(!bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Na.tested)return Na.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Na.tested=!0,Na.writable=!0}catch{Na.tested=!0,Na.writable=!1}return Na.writable};function ub(l){const a={},s=new URL(l);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,d)=>{a[d]=c})}catch{}return s.searchParams.forEach((i,c)=>{a[c]=i}),a}const Qg=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),cb=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Ar=async(l,a,s)=>{await l.setItem(a,JSON.stringify(s))},Ra=async(l,a)=>{const s=await l.getItem(a);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ra=async(l,a)=>{await l.removeItem(a)};class ml{constructor(){this.promise=new ml.promiseConstructor((a,s)=>{this.resolve=a,this.reject=s})}}ml.promiseConstructor=Promise;function Xu(l){const a=l.split(".");if(a.length!==3)throw new uc("Invalid JWT structure");for(let i=0;i<a.length;i++)if(!Zp.test(a[i]))throw new uc("JWT not in base64url format");return{header:JSON.parse(J0(a[0])),payload:JSON.parse(J0(a[1])),signature:Nr(a[2]),raw:{header:a[0],payload:a[1]}}}async function db(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function fb(l,a){return new Promise((i,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await l(d);if(!a(d,null,f)){i(f);return}}catch(f){if(!a(d,f)){c(f);return}}})()})}function hb(l){return("0"+l.toString(16)).substr(-2)}function gb(){const a=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let c="";for(let d=0;d<56;d++)c+=s.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(a),Array.from(a,hb).join("")}async function mb(l){const s=new TextEncoder().encode(l),i=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(i);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function yb(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const s=await mb(l);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xr(l,a,s=!1){const i=gb();let c=i;s&&(c+="/PASSWORD_RECOVERY"),await Ar(l,`${a}-code-verifier`,c);const d=await yb(i);return[d,i===d?"plain":"s256"]}const vb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pb(l){const a=l.headers.get(lc);if(!a||!a.match(vb))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function bb(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function _b(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tr(l){if(!wb.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qu(){const l={};return new Proxy(l,{get:(a,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Sb(l,a){return new Proxy(l,{get:(s,i,c)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const d=i.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,c)}return!a.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(s,i,c)}})}function I0(l){return JSON.parse(JSON.stringify(l))}const ka=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),xb=[502,503,504];async function Z0(l){var a;if(!cb(l))throw new oc(ka(l),0);if(xb.includes(l.status))throw new oc(ka(l),l.status);let s;try{s=await l.json()}catch(d){throw new Ua(ka(d),d)}let i;const c=pb(l);if(c&&c.getTime()>=Yg["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new K0(ka(s),l.status,((a=s.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(i==="session_not_found")throw new Ht}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new K0(ka(s),l.status,s.weak_password.reasons);throw new Wp(ka(s),l.status||500,i)}const Tb=(l,a,s,i)=>{const c={method:l,headers:a?.headers||{}};return l==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),s))};async function fe(l,a,s,i){var c;const d=Object.assign({},i?.headers);d[lc]||(d[lc]=Yg["2024-01-01"].name),i?.jwt&&(d.Authorization=`Bearer ${i.jwt}`);const f=(c=i?.query)!==null&&c!==void 0?c:{};i?.redirectTo&&(f.redirect_to=i.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await Eb(l,a,s+m,{headers:d,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(g):{data:Object.assign({},g),error:null}}async function Eb(l,a,s,i,c,d){const f=Tb(a,i,c,d);let m;try{m=await l(s,Object.assign({},f))}catch(g){throw console.error(g),new oc(ka(g),0)}if(m.ok||await Z0(m),i?.noResolveJson)return m;try{return await m.json()}catch(g){await Z0(g)}}function rn(l){var a;let s=null;Ab(l)&&(s=Object.assign({},l),l.expires_at||(s.expires_at=lb(l.expires_in)));const i=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:s,user:i},error:null}}function P0(l){const a=rn(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(a.data.weak_password=l.weak_password),a}function sa(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function jb(l){return{data:l,error:null}}function Ob(l){const{action_link:a,email_otp:s,hashed_token:i,redirect_to:c,verification_type:d}=l,f=Cr(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:s,hashed_token:i,redirect_to:c,verification_type:d},g=Object.assign({},f);return{data:{properties:m,user:g},error:null}}function W0(l){return l}function Ab(l){return l.access_token&&l.refresh_token&&l.expires_in}const Ju=["global","local","others"];class Nb{constructor({url:a="",headers:s={},fetch:i}){this.url=a,this.headers=s,this.fetch=Qg(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,s=Ju[0]){if(Ju.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ju.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}}async inviteUserByEmail(a,s={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:sa})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async generateLink(a){try{const{options:s}=a,i=Cr(a,["options"]),c=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(c.new_email=i?.newEmail,delete c.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Ob,redirectTo:s?.redirectTo})}catch(s){if(re(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(a){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:sa})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async listUsers(a){var s,i,c,d,f,m,g;try{const y={nextPage:null,lastPage:0,total:0},_=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=a?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(d=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:W0});if(_.error)throw _.error;const E=await _.json(),b=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(g=(m=_.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return S.length>0&&(S.forEach(O=>{const T=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(O.split(";")[1].split("=")[1]);y[`${N}Page`]=T}),y.total=parseInt(b)),{data:Object.assign(Object.assign({},E),y),error:null}}catch(y){if(re(y))return{data:{users:[]},error:y};throw y}}async getUserById(a){Tr(a);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:sa})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async updateUserById(a,s){Tr(a);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:s,headers:this.headers,xform:sa})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async deleteUser(a,s=!1){Tr(a);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:s},xform:sa})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async _listFactors(a){Tr(a.userId);try{const{data:s,error:i}=await fe(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:i}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _deleteFactor(a){Tr(a.userId),Tr(a.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _listOAuthClients(a){var s,i,c,d,f,m,g;try{const y={nextPage:null,lastPage:0,total:0},_=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=a?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(d=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:W0});if(_.error)throw _.error;const E=await _.json(),b=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(g=(m=_.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return S.length>0&&(S.forEach(O=>{const T=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(O.split(";")[1].split("=")[1]);y[`${N}Page`]=T}),y.total=parseInt(b)),{data:Object.assign(Object.assign({},E),y),error:null}}catch(y){if(re(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(a){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _getOAuthClient(a){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _updateOAuthClient(a,s){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(re(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(a){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(a){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}}function F0(l={}){return{getItem:a=>l[a]||null,setItem:(a,s)=>{l[a]=s},removeItem:a=>{delete l[a]}}}const Er={debug:!!(globalThis&&Xg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jg extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Rb extends Jg{}async function kb(l,a,s){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const i=new globalThis.AbortController;return a>0&&setTimeout(()=>{i.abort(),Er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,c.name);try{return await s()}finally{Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,c.name)}}else{if(a===0)throw Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new Rb(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(Er.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Cb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ig(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function Db(l){return parseInt(l,16)}function Ub(l){const a=new TextEncoder().encode(l);return"0x"+Array.from(a,i=>i.toString(16).padStart(2,"0")).join("")}function zb(l){var a;const{chainId:s,domain:i,expirationTime:c,issuedAt:d=new Date,nonce:f,notBefore:m,requestId:g,resources:y,scheme:_,uri:E,version:b}=l;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!E)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((a=l.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const S=Ig(l.address),O=_?`${_}://${i}`:i,T=l.statement?`${l.statement}
`:"",N=`${O} wants you to sign in with your Ethereum account:
${S}

${T}`;let U=`URI: ${E}
Version: ${b}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(c&&(U+=`
Expiration Time: ${c.toISOString()}`),m&&(U+=`
Not Before: ${m.toISOString()}`),g&&(U+=`
Request ID: ${g}`),y){let V=`
Resources:`;for(const $ of y){if(!$||typeof $!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${$}`);V+=`
- ${$}`}U+=V}return`${N}
${U}`}class lt extends Error{constructor({message:a,code:s,cause:i,name:c}){var d;super(a,{cause:i}),this.__isWebAuthnError=!0,this.name=(d=c??(i instanceof Error?i.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=s}}class dl extends lt{constructor(a,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:a}),this.name="WebAuthnUnknownError",this.originalError=s}}function Mb({error:l,options:a}){var s,i,c;const{publicKey:d}=a;if(!d)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new lt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((s=d.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new lt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(a.mediation==="conditional"&&((i=d.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new lt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new lt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new lt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new lt({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new lt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new lt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const f=window.location.hostname;if(Zg(f)){if(d.rp.id!==f)return new lt({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new lt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function Bb({error:l,options:a}){const{publicKey:s}=a;if(!s)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new lt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new lt({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const i=window.location.hostname;if(Zg(i)){if(s.rpId!==i)return new lt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class qb{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Lb=new qb;function Hb(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:a,user:s,excludeCredentials:i}=l,c=Cr(l,["challenge","user","excludeCredentials"]),d=Nr(a).buffer,f=Object.assign(Object.assign({},s),{id:Nr(s.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:d,user:f});if(i&&i.length>0){m.excludeCredentials=new Array(i.length);for(let g=0;g<i.length;g++){const y=i[g];m.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:Nr(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return m}function $b(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:a,allowCredentials:s}=l,i=Cr(l,["challenge","allowCredentials"]),c=Nr(a).buffer,d=Object.assign(Object.assign({},i),{challenge:c});if(s&&s.length>0){d.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const m=s[f];d.allowCredentials[f]=Object.assign(Object.assign({},m),{id:Nr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function Gb(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l;return{id:l.id,rawId:l.id,response:{attestationObject:za(new Uint8Array(l.response.attestationObject)),clientDataJSON:za(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Vb(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l,i=l.getClientExtensionResults(),c=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:za(new Uint8Array(c.authenticatorData)),clientDataJSON:za(new Uint8Array(c.clientDataJSON)),signature:za(new Uint8Array(c.signature)),userHandle:c.userHandle?za(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Zg(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function eg(){var l,a;return!!(bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Yb(l){try{const a=await navigator.credentials.create(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new dl("Browser returned unexpected credential type",a)}:{data:null,error:new dl("Empty credential response",a)}}catch(a){return{data:null,error:Mb({error:a,options:l})}}}async function Kb(l){try{const a=await navigator.credentials.get(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new dl("Browser returned unexpected credential type",a)}:{data:null,error:new dl("Empty credential response",a)}}catch(a){return{data:null,error:Bb({error:a,options:l})}}}const Xb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Qb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function fl(...l){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),i={};for(const c of l)if(c)for(const d in c){const f=c[d];if(f!==void 0)if(Array.isArray(f))i[d]=f;else if(s(f))i[d]=f;else if(a(f)){const m=i[d];a(m)?i[d]=fl(m,f):i[d]=fl(f)}else i[d]=f}return i}function Jb(l,a){return fl(Xb,l,a||{})}function Ib(l,a){return fl(Qb,l,a||{})}class Zb{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:s,friendlyName:i,signal:c},d){try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:s});if(!f)return{data:null,error:m};const g=c??Lb.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${i}`),y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=Jb(f.webauthn.credential_options.publicKey,d?.create),{data:_,error:E}=await Yb({publicKey:y,signal:g});return _?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:E}}case"request":{const y=Ib(f.webauthn.credential_options.publicKey,d?.request),{data:_,error:E}=await Kb(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:g}));return _?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:E}}}}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new Ua("Unexpected error in challenge",f)}}}async _verify({challengeId:a,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:a,webauthn:i})}async _authenticate({factorId:a,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!s)return{data:null,error:new Us("rpId is required for WebAuthn authentication")};try{if(!eg())return{data:null,error:new Ua("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:a,webauthn:{rpId:s,rpOrigins:i},signal:c},{request:d});if(!f)return{data:null,error:m};const{webauthn:g}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:i,credential_response:g.credential_response}})}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new Ua("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!s)return{data:null,error:new Us("rpId is required for WebAuthn registration")};try{if(!eg())return{data:null,error:new Ua("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(_=>{var E;return(E=_.data)===null||E===void 0?void 0:E.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===a&&b.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_?.id}):void 0),{data:null,error:m};const{data:g,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:c},{create:d});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:i,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new Ua("Unexpected error in register",f)}}}}Cb();const Pb={url:Qp,storageKey:Jp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ip,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function tg(l,a,s){return await s()}const jr={};class zs{get jwks(){var a,s;return(s=(a=jr[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(a){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,s;return(s=(a=jr[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{cachedAt:a})}constructor(a){var s,i,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},Pb),a);if(this.storageKey=d.storageKey,this.instanceID=(s=zs.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,zs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&bt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new Nb({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Qg(d.fetch),this.lock=d.lock||tg,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:bt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=kb:this.lock=tg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Zb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:Xg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=F0(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=F0(this.memoryStorage)),bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Vg}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let s={},i="none";if(bt()&&(s=ub(window.location.href),this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce")),bt()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:d}=await this._getSessionFromURL(s,i);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),tb(d)){const g=(a=d.details)===null||a===void 0?void 0:a.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return re(s)?this._returnResult({error:s}):this._returnResult({error:new Ua("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var s,i,c;try{const d=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=a?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:rn}),{data:f,error:m}=d;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(d){if(re(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(a){var s,i,c;try{let d;if("email"in a){const{email:_,password:E,options:b}=a;let S=null,O=null;this.flowType==="pkce"&&([S,O]=await xr(this.storage,this.storageKey)),d=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:_,password:E,data:(s=b?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:S,code_challenge_method:O},xform:rn})}else if("phone"in a){const{phone:_,password:E,options:b}=a;d=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:E,data:(i=b?.data)!==null&&i!==void 0?i:{},channel:(c=b?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:rn})}else throw new il("You must provide either an email or phone number and a password");const{data:f,error:m}=d;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(d){if(re(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(a){try{let s;if("email"in a){const{email:d,password:f,options:m}=a;s=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:P0})}else if("phone"in a){const{phone:d,password:f,options:m}=a;s=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:P0})}else throw new il("You must provide either an email or phone number and a password");const{data:i,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!i||!i.session||!i.user){const d=new Sr;return this._returnResult({data:{user:null,session:null},error:d})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(a){var s,i,c,d;return await this._handleProviderSignIn(a.provider,{redirectTo:(s=a.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=a.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=a.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:s}=a;switch(s){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(a){var s,i,c,d,f,m,g,y,_,E,b;let S,O;if("message"in a)S=a.message,O=a.signature;else{const{chain:T,wallet:N,statement:U,options:V}=a;let $;if(bt())if(typeof N=="object")$=N;else{const he=window;if("ethereum"in he&&typeof he.ethereum=="object"&&"request"in he.ethereum&&typeof he.ethereum.request=="function")$=he.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!V?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=N}const X=new URL((s=V?.url)!==null&&s!==void 0?s:window.location.href),ge=await $.request({method:"eth_requestAccounts"}).then(he=>he).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ge||ge.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ee=Ig(ge[0]);let J=(i=V?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!J){const he=await $.request({method:"eth_chainId"});J=Db(he)}const se={domain:X.host,address:ee,statement:U,uri:X.href,version:"1",chainId:J,nonce:(c=V?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(d=V?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=V?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=V?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=V?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(_=V?.signInWithEthereum)===null||_===void 0?void 0:_.resources};S=zb(se),O=await $.request({method:"personal_sign",params:[Ub(S),ee]})}try{const{data:T,error:N}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:O},!((E=a.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(b=a.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:rn});if(N)throw N;if(!T||!T.session||!T.user){const U=new Sr;return this._returnResult({data:{user:null,session:null},error:U})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:N})}catch(T){if(re(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(a){var s,i,c,d,f,m,g,y,_,E,b,S;let O,T;if("message"in a)O=a.message,T=a.signature;else{const{chain:N,wallet:U,statement:V,options:$}=a;let X;if(bt())if(typeof U=="object")X=U;else{const ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))X=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=U}const ge=new URL((s=$?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in X&&X.signIn){const ee=await X.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},$?.signInWithSolana),{version:"1",domain:ge.host,uri:ge.href}),V?{statement:V}:null));let J;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")J=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)J=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)O=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),T=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in X)||typeof X.signMessage!="function"||!("publicKey"in X)||typeof X!="object"||!X.publicKey||!("toBase58"in X.publicKey)||typeof X.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${ge.host} wants you to sign in with your Solana account:`,X.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${ge.href}`,`Issued At: ${(c=(i=$?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=$?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${$.signInWithSolana.notBefore}`]:[],...!((f=$?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${$.signInWithSolana.expirationTime}`]:[],...!((m=$?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${$.signInWithSolana.chainId}`]:[],...!((g=$?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${$.signInWithSolana.nonce}`]:[],...!((y=$?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${$.signInWithSolana.requestId}`]:[],...!((E=(_=$?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||E===void 0)&&E.length?["Resources",...$.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const ee=await X.signMessage(new TextEncoder().encode(O),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=ee}}try{const{data:N,error:U}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:za(T)},!((b=a.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=a.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:rn});if(U)throw U;if(!N||!N.session||!N.user){const V=new Sr;return this._returnResult({data:{user:null,session:null},error:V})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:U})}catch(N){if(re(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(a){const s=await Ra(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(s??"").split("/");try{const{data:d,error:f}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:i},xform:rn});if(await ra(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const m=new Sr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(re(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(a){try{const{options:s,provider:i,token:c,access_token:d,nonce:f}=a,m=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:rn}),{data:g,error:y}=m;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g||!g.session||!g.user){const _=new Sr;return this._returnResult({data:{user:null,session:null},error:_})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:y})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(a){var s,i,c,d,f;try{if("email"in a){const{email:m,options:g}=a;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await xr(this.storage,this.storageKey));const{error:E}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(i=g?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:_},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:E})}if("phone"in a){const{phone:m,options:g}=a,{data:y,error:_}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=g?.data)!==null&&c!==void 0?c:{},create_user:(d=g?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:_})}throw new il("You must provide either an email or phone number.")}catch(m){if(re(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var s,i;try{let c,d;"options"in a&&(c=(s=a.options)===null||s===void 0?void 0:s.redirectTo,d=(i=a.options)===null||i===void 0?void 0:i.captchaToken);const{data:f,error:m}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:rn});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,y=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var s,i,c,d,f;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await xr(this.storage,this.storageKey));const y=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(i=(s=a.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:jb});return!((d=y.data)===null||d===void 0)&&d.url&&bt()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(m){if(re(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)throw i;if(!s)throw new Ht;const{error:c}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const s=`${this.url}/resend`;if("email"in a){const{email:i,type:c,options:d}=a,{error:f}=await fe(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:i,type:c,options:d}=a,{data:f,error:m}=await fe(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new il("You must provide either an email or phone number and a type")}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(a,s){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await a(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const s=await Ra(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?a=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const i=a.expires_at?a.expires_at*1e3-Date.now()<Yu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",a.expires_at),!i){if(this.userStorage){const f=await Ra(this.userStorage,this.storageKey+"-user");f?.user?a.user=f.user:a.user=Qu()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=Sb(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:sa}):await this._useSession(async s=>{var i,c,d;const{data:f,error:m}=s;if(m)throw m;return!(!((i=f.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:sa})})}catch(s){if(re(s))return eb(s)&&(await this._removeSession(),await ra(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(a,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,s))}async _updateUser(a,s={}){try{return await this._useSession(async i=>{const{data:c,error:d}=i;if(d)throw d;if(!c.session)throw new Ht;const f=c.session;let m=null,g=null;this.flowType==="pkce"&&a.email!=null&&([m,g]=await xr(this.storage,this.storageKey));const{data:y,error:_}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:g}),jwt:f.access_token,xform:sa});if(_)throw _;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(i){if(re(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Ht;const s=Date.now()/1e3;let i=s,c=!0,d=null;const{payload:f}=Xu(a.access_token);if(f.exp&&(i=f.exp,c=i<=s),c){const{data:m,error:g}=await this._callRefreshToken(a.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:g}=await this._getUser(a.access_token);if(g)throw g;d={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(s){if(re(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async s=>{var i;if(!a){const{data:f,error:m}=s;if(m)throw m;a=(i=f.session)!==null&&i!==void 0?i:void 0}if(!a?.refresh_token)throw new Ht;const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(a,s){try{if(!bt())throw new ll("No browser detected.");if(a.error||a.error_description||a.error_code)throw new ll(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Y0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ll("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Y0("No code detected.");const{data:V,error:$}=await this._exchangeCodeForSession(a.code);if($)throw $;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:m,expires_at:g,token_type:y}=a;if(!d||!m||!f||!y)throw new ll("No session defined in URL");const _=Math.round(Date.now()/1e3),E=parseInt(m);let b=_+E;g&&(b=parseInt(g));const S=b-_;S*1e3<=Or&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${E}s`);const O=b-E;_-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,b,_):_-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,b,_);const{data:T,error:N}=await this._getUser(d);if(N)throw N;const U={provider_token:i,provider_refresh_token:c,access_token:d,expires_in:E,expires_at:b,refresh_token:f,token_type:y,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:a.type},error:null})}catch(i){if(re(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const s=await Ra(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&s)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:c,error:d}=s;if(d)return this._returnResult({error:d});const f=(i=c.session)===null||i===void 0?void 0:i.access_token;if(f){const{error:m}=await this.admin.signOut(f,a);if(m&&!(Fp(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await ra(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const s=ob(),i={id:s,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(a){return await this._useSession(async s=>{var i,c;try{const{data:{session:d},error:f}=s;if(f)throw f;await((i=this.stateChangeEmitters.get(a))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",d),console.error(d)}})}async resetPasswordForEmail(a,s={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await xr(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if(re(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var a;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(a=s.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var s;try{const{data:i,error:c}=await this._useSession(async d=>{var f,m,g,y,_;const{data:E,error:b}=d;if(b)throw b;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=a.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",S,{headers:this.headers,jwt:(_=(y=E.session)===null||y===void 0?void 0:y.access_token)!==null&&_!==void 0?_:void 0})});if(c)throw c;return bt()&&!(!((s=a.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:a.provider,url:i?.url},error:null})}catch(i){if(re(i))return this._returnResult({data:{provider:a.provider,url:null},error:i});throw i}}async linkIdentityIdToken(a){return await this._useSession(async s=>{var i;try{const{error:c,data:{session:d}}=s;if(c)throw c;const{options:f,provider:m,token:g,access_token:y,nonce:_}=a,E=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=d?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:m,id_token:g,access_token:y,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:rn}),{data:b,error:S}=E;return S?this._returnResult({data:{user:null,session:null},error:S}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Sr}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:S}))}catch(c){if(re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async s=>{var i,c;const{data:d,error:f}=s;if(f)throw f;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(i=d.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(a){const s=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await fb(async c=>(c>0&&await db(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:rn})),(c,d)=>{const f=200*Math.pow(2,c);return d&&Ku(d)&&Date.now()+f-i<Or})}catch(i){if(this._debug(s,"error",i),re(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(s,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",s,"url",i),bt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:a,url:i},error:null}}async _recoverAndRefresh(){var a,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await Ra(this.storage,this.storageKey);if(c&&this.userStorage){let f=await Ra(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await Ar(this.userStorage,this.storageKey+"-user",f)),c.user=(a=f?.user)!==null&&a!==void 0?a:Qu()}else if(c&&!c.user&&!c.user){const f=await Ra(this.storage,this.storageKey+"-user");f&&f?.user?(c.user=f.user,await ra(this.storage,this.storageKey+"-user"),await Ar(this.storage,this.storageKey,c)):c.user=Qu()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const d=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Yu;if(this._debug(i,`session has${d?"":" not"} expired with margin of ${Yu}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),Ku(f)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(c.access_token);!m&&f?.user?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(i,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(a){var s,i;if(!a)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new ml;const{data:d,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!d.session)throw new Ht;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),re(d)){const f={data:null,error:d};return Ku(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,s,i=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:a,session:s});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,s)}catch(g){d.push(g)}});if(await Promise.all(f),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;const s=Object.assign({},a),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Ar(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const d=I0(c);await Ar(this.storage,this.storageKey,d)}else{const c=I0(s);await Ar(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await ra(this.storage,this.storageKey),await ra(this.storage,this.storageKey+"-code-verifier"),await ra(this.storage,this.storageKey+"-user"),this.userStorage&&await ra(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&bt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Or);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-a)/Or);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Or}ms, refresh threshold is ${ic} ticks`),c<=ic&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Jg)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const s=`#_onVisibilityChanged(${a})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,s,i){const c=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[d,f]=await xr(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(m.toString())}if(i?.queryParams){const d=new URLSearchParams(i.queryParams);c.push(d.toString())}return i?.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async s=>{var i;const{data:c,error:d}=s;return d?this._returnResult({data:null,error:d}):await fe(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(a){try{return await this._useSession(async s=>{var i,c;const{data:d,error:f}=s;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:g,error:y}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=d?.session)===null||i===void 0?void 0:i.access_token});return y?this._returnResult({data:null,error:y}):(a.factorType==="totp"&&g.type==="totp"&&(!((c=g?.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Gb(a.webauthn.credential_response):Vb(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:g}=await fe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=await fe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Hb(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:$b(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(a){const{data:s,error:i}=await this._challenge({factorId:a.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:a.factorId,challengeId:s.id,code:a.code})}async _listFactors(){var a;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(a=s?.factors)!==null&&a!==void 0?a:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var a,s;const{data:{session:i},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Xu(i.access_token);let f=null;d.aal&&(f=d.aal);let m=f;((s=(a=i.user.factors)===null||a===void 0?void 0:a.filter(_=>_.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const y=d.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async s=>{const{data:{session:i},error:c}=s;return c?this._returnResult({data:null,error:c}):i?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:i.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(a,s){try{return await this._useSession(async i=>{const{data:{session:c},error:d}=i;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Ht});const f=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&bt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(a,s){try{return await this._useSession(async i=>{const{data:{session:c},error:d}=i;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Ht});const f=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&bt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;return i?this._returnResult({data:null,error:i}):s?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(a){if(re(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async s=>{const{data:{session:i},error:c}=s;return c?this._returnResult({data:null,error:c}):i?(await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ht})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(a,s={keys:[]}){let i=s.keys.find(m=>m.kid===a);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(m=>m.kid===a),i&&this.jwks_cached_at+Pp>c)return i;const{data:d,error:f}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,i=d.keys.find(m=>m.kid===a),!i)?null:i}async getClaims(a,s={}){try{let i=a;if(!i){const{data:S,error:O}=await this.getSession();if(O||!S.session)return this._returnResult({data:null,error:O});i=S.session.access_token}const{header:c,payload:d,signature:f,raw:{header:m,payload:g}}=Xu(i);s?.allowExpired||bb(d.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!y){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:d,header:c,signature:f},error:null}}const _=_b(c.alg),E=await crypto.subtle.importKey("jwk",y,_,!0,["verify"]);if(!await crypto.subtle.verify(_,E,f,ib(`${m}.${g}`)))throw new uc("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}}zs.nextInstanceID={};const Wb=zs;class Fb extends Wb{constructor(a){super(a)}}class e_{constructor(a,s,i){var c,d,f;this.supabaseUrl=a,this.supabaseKey=s;const m=Xp(a);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:qp,realtime:Hp,auth:Object.assign(Object.assign({},Lp),{storageKey:g}),global:Bp},_=Kp(i??{},y);this.storageKey=(c=_.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=_.global.headers)!==null&&d!==void 0?d:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(E,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=_.auth)!==null&&f!==void 0?f:{},this.headers,_.global.fetch),this.fetch=Vp(s,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.accessToken&&this.accessToken().then(E=>this.realtime.setAuth(E)).catch(E=>console.warn("Failed to set initial Realtime auth token:",E)),this.rest=new Hv(new URL("rest/v1",m).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new Up(this.storageUrl.href,this.headers,this.fetch,i?.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new Mv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,s={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,s,i)}channel(a,s={config:{}}){return this.realtime.channel(a,s)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a,s;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:s,detectSessionInUrl:i,storage:c,userStorage:d,storageKey:f,flowType:m,lock:g,debug:y,throwOnError:_},E,b){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fb({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),E),storageKey:f,autoRefreshToken:a,persistSession:s,detectSessionInUrl:i,storage:c,userStorage:d,flowType:m,lock:g,debug:y,throwOnError:_,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new ap(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i?.access_token)})}_handleTokenChanged(a,s,i){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const t_=(l,a,s)=>new e_(l,a,s);function n_(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const a=l.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}n_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const a_="https://zopwfborahwrerymgrqz.supabase.co",r_="sb_publishable_SfFwIKtYRd78SBrOUOYnLw_-qe5Z0C5",ot=t_(a_,r_),s_=({message:l,type:a="success",onClose:s})=>{P.useEffect(()=>{const c=setTimeout(s,3e3);return()=>clearTimeout(c)},[s]);const i=a==="error";return p.jsxs("div",{className:"fixed bottom-6 right-6 bg-gray-800 text-white px-6 py-4 rounded shadow-lg z-50 flex items-center gap-3 toast-enter",children:[p.jsx("i",{className:`fas ${i?"fa-exclamation-circle text-red-400":"fa-check-circle text-green-400"} text-xl`}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-sm capitalize",children:a}),p.jsx("p",{className:"text-xs text-gray-300",children:l})]}),p.jsx("button",{onClick:s,className:"ml-4 text-gray-400 hover:text-white",children:p.jsx("i",{className:"fas fa-times"})})]})},Pg=P.createContext(null),i_=({children:l})=>{const[a,s]=P.useState(null),i=P.useCallback((d,f="info")=>{s({message:d,type:f}),setTimeout(()=>{s(null)},3e3)},[]),c=P.useCallback(()=>{s(null)},[]);return p.jsxs(Pg.Provider,{value:{showToast:i,hideToast:c},children:[l,a&&p.jsx(s_,{message:a.message,type:a.type,onClose:c})]})},yl=()=>{const l=P.useContext(Pg);if(!l)throw new Error("useToast must be used within a ToastProvider");return l},Wg=P.createContext(),l_=({children:l})=>{const[a,s]=P.useState(()=>localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));P.useEffect(()=>{const c=window.document.documentElement;a==="dark"?c.classList.add("dark"):c.classList.remove("dark"),localStorage.setItem("theme",a)},[a]);const i=()=>{s(c=>c==="dark"?"light":"dark")};return p.jsx(Wg.Provider,{value:{theme:a,toggleTheme:i},children:l})},o_=()=>P.useContext(Wg),Fg="/MMI-LIMS/assets/ktu_mmi-CrP3ebcy.svg",u_=()=>{const[l,a]=P.useState(!1),[s,i]=P.useState(""),[c,d]=P.useState(""),[f,m]=P.useState(""),[g,y]=P.useState(""),[_,E]=P.useState(""),[b,S]=P.useState(!1),{showToast:O}=yl(),T=async N=>{N.preventDefault(),a(!0);try{if(b){const{error:U}=await ot.auth.signUp({email:s,password:c,options:{data:{first_name:f,last_name:g,job_title:_,access_level:"user"}}});if(U)throw U;O("Registration successful! Please wait for admin approval.","success")}else{const{error:U}=await ot.auth.signInWithPassword({email:s,password:c});if(U)throw U}}catch(U){O(U.message,"error")}finally{a(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 to-blue-700 p-4",children:p.jsxs("div",{className:"bg-white/95 backdrop-blur-sm p-8 rounded-2xl shadow-2xl w-full max-w-md border border-white/20",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"bg-white p-4 rounded-full w-24 h-24 mx-auto mb-4 flex items-center justify-center shadow-md",children:p.jsx("img",{src:Fg,alt:"KTU MMI Logo",className:"h-12 w-auto"})}),p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"MMI-LIMS"}),p.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Institute of Materials Science"})]}),p.jsxs("form",{onSubmit:T,className:"space-y-5",children:[b&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),p.jsx("input",{type:"text",required:!0,value:f,onChange:N=>m(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:"John"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),p.jsx("input",{type:"text",required:!0,value:g,onChange:N=>y(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:"Doe"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Title"}),p.jsx("input",{type:"text",required:!0,value:_,onChange:N=>E(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:"Researcher"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),p.jsx("input",{type:"email",required:!0,value:s,onChange:N=>i(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:"name@example.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),p.jsx("input",{type:"password",required:!0,value:c,onChange:N=>d(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:""})]}),p.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-900 to-blue-800 text-white font-semibold rounded-lg shadow-md hover:from-blue-800 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform transition-all active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed mt-6",children:l?p.jsxs("span",{className:"flex items-center justify-center",children:[p.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):b?"Create Account":"Sign In"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("button",{onClick:()=>S(!b),className:"text-sm text-blue-700 hover:text-blue-900 font-medium transition-colors",children:b?"Already have an account? Sign In":"Need an account? Sign Up"})}),p.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 text-center",children:p.jsx("p",{className:"text-xs text-gray-400",children:"Protected by Supabase Auth"})})]})})},c_=l=>{const[a,s]=l.split(":").map(Number);return a*60+s},cc=l=>{let a=Math.floor(l/60),s=Math.round(l%60);return s===60&&(a+=1,s=0),`${a.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`},ng=(l,a=30)=>Math.round(l/a)*a,Rr=l=>{const a=c_(l);return cc(a+30)},vl=l=>{if(!l.length)return[];const a=g=>g.slice(0,5),s=[],i=[];l.forEach(g=>{g.end_time||g.endTime?s.push({...g,startTime:a(g.time||g.startTime),endTime:a(g.end_time||g.endTime),ids:[g.id]}):i.push(g)});const c=[...i].sort((g,y)=>g.date!==y.date?g.date.localeCompare(y.date):g.tool_id!==y.tool_id?g.tool_id-y.tool_id:a(g.time).localeCompare(a(y.time))),d=[];let f=null;return c.forEach(g=>{const y=a(g.time);if(!f){f={...g,ids:[g.id],endTime:Rr(y),startTime:y};return}const _=g.date===f.date,E=g.tool_id===f.tool_id,b=g.user_id===f.user_id,S=g.project===f.project,O=g.created_at===f.created_at,T=y===f.endTime;_&&E&&b&&S&&O&&T?(f.ids.push(g.id),f.endTime=Rr(y)):(d.push(f),f={...g,ids:[g.id],endTime:Rr(y),startTime:y})}),f&&d.push(f),[...s,...d].sort((g,y)=>g.date!==y.date?g.date.localeCompare(y.date):a(g.startTime).localeCompare(a(y.startTime)))},em=(l,a,s=[])=>{const i=f=>{const[m,g]=f.split(":").map(Number);return m*60+g},c=i(l.startTime||l.time),d=i(l.endTime||l.end_time);return a.some(f=>{if(s.includes(f.id)||f.date!==l.date||f.tool_id!==l.tool_id)return!1;let m,g;const y=f.endTime||f.end_time;return y?(m=i(f.startTime||f.time),g=i(y)):(m=i(f.time),g=m+30),c<g&&d>m})},tm=l=>{if(!l.length)return[];const a=d=>{const[f,m]=d.split(":").map(Number);return f*60+m},s=[...l].sort((d,f)=>{const m=a(d.startTime),g=a(f.startTime);if(m!==g)return m-g;const y=a(d.endTime);return a(f.endTime)-y}),i=[];s.forEach(d=>{const f=a(d.startTime);a(d.endTime);let m=!1;for(let g=0;g<i.length;g++){const y=i[g][i[g].length-1],_=a(y.endTime);if(f>=_){i[g].push(d),d.colIndex=g,m=!0;break}}m||(i.push([d]),d.colIndex=i.length-1)});const c=i.length;return s.map(d=>({...d,width:100/c,left:d.colIndex*(100/c)}))},nm=({status:l})=>{const a={up:{color:"bg-green-500",text:"Available"},down:{color:"bg-red-500",text:"Down"},service:{color:"bg-yellow-500",text:"Service"}},s=a[l]||a.up;return p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:`status-dot ${s.color}`}),p.jsx("span",{className:"text-sm capitalize text-gray-700",children:l})]})},Ft=48,Iu=0,d_=({weekDates:l,existingBookings:a,user:s,isAdmin:i,isAdminOverride:c,onInteractionEnd:d,showToast:f})=>{const[m,g]=P.useState(null),y=P.useRef(null),_=b=>{try{return b.toISOString().split("T")[0]}catch{return""}},E=(b,S,O)=>{b.stopPropagation();const T=S.user_id===s.id;if(!i&&!T){f("You can only edit your own bookings.","error");return}const N=new Date,U=new Date(`${S.date}T${S.startTime}`),V=new Date(`${S.date}T${S.endTime}`);if(V<N&&!c){f("Cannot modify past bookings.","error");return}if(U<=N&&V>N){if(O==="move"&&!c){f("Cannot move an in-progress booking. Only duration can be adjusted.","error");return}if(O==="resize-top"){f("Cannot change start time of an in-progress booking.","error");return}}const X=b.currentTarget.parentElement.getBoundingClientRect(),ge=parseInt(S.startTime.split(":")[0]),ee=parseInt(S.startTime.split(":")[1]),J=parseInt(S.endTime.split(":")[0]),se=parseInt(S.endTime.split(":")[1]),he=(ge-Iu)*60+ee,Ke=(J-Iu)*60+se-he,Xe=he/30*Ft,Qe=Ke/30*Ft,Fe=b.type.includes("touch")?b.touches[0].clientX:b.clientX,Ae=b.type.includes("touch")?b.touches[0].clientY:b.clientY,z={type:O,bookingId:S.ids[0],originalBooking:S,startY:Ae,startX:Fe,initialTop:Xe,initialHeight:Qe,currentTop:Xe,currentHeight:Qe,currentDate:S.date,dayWidth:X.width,isValid:!0,hasMoved:!1};y.current=z,b.type.includes("touch")&&g(z)};return P.useEffect(()=>{const b=O=>{if(!y.current)return;const T=y.current;let N,U;if(O.type==="touchmove"?(O.cancelable&&O.preventDefault(),N=O.touches[0].clientX,U=O.touches[0].clientY):(N=O.clientX,U=O.clientY),!T.hasMoved){if(Math.sqrt(Math.pow(N-T.startX,2)+Math.pow(U-T.startY,2))<5)return;T.hasMoved=!0,g(T)}const V=U-T.startY,$=N-T.startX,X=Math.round(V/Ft)*Ft;let ge=0;T.type==="move"&&(ge=Math.round($/T.dayWidth));let ee=T.initialTop,J=T.initialHeight,se=T.currentDate,he=T.initialTop,je=T.initialHeight;if(T.type==="move"){ee+=X,he=ee;const Q=l.findIndex(ie=>_(ie)===T.originalBooking.date)+ge;Q>=0&&Q<7&&(se=_(l[Q]))}else T.type==="resize-bottom"?(J+=X,je=J):T.type==="resize-top"&&(ee+=X,J-=X,he=ee,je=J);if(J<Ft){const Z=Ft-J;J=Ft,T.type==="resize-top"&&(ee-=Z)}if(je<Ft){const Z=Ft-je;je=Ft,T.type==="resize-top"&&(he-=Z)}const Ke=ee/Ft*30,Xe=J/Ft*30,Qe=ng(Iu*60+Ke),Fe=ng(Qe+Xe),Ae=cc(Qe),z=cc(Fe),K=new Date,te=new Date(`${se}T${Ae}`),pe=Qe>=0&&Fe<=1440,_e=new Date(`${T.originalBooking.date}T${T.originalBooking.startTime}`)<=K&&new Date(`${T.originalBooking.date}T${T.originalBooking.endTime}`)>K,x=_e||c?!0:te>=K,R=!_e||c||new Date(`${se}T${z}`)>K;let H=pe&&x&&R;if(H){const Z={date:se,startTime:Ae,endTime:z,tool_id:T.originalBooking.tool_id},Q=T.originalBooking.ids||[T.originalBooking.id];em(Z,a,Q)&&(H=!1,console.log("Validation failed: Collision detected",{tempBooking:Z,ignoredIds:Q}))}else console.log("Validation failed:",{isValidTime:pe,isFuture:x,isEndTimeValid:R,newDate:se,newStartTime:Ae,now:K.toISOString(),startDateTime:te.toISOString()});const Y={...T,currentTop:T.type==="move"||T.type==="resize-top"?he:T.initialTop,currentHeight:je,currentDate:se,isValid:H,newStartTime:Ae,newEndTime:z};y.current=Y,g(Y)},S=()=>{if(!y.current)return;const O=y.current;if(O.hasMoved&&O.isValid){const T={...O.originalBooking,date:O.currentDate,startTime:O.newStartTime,endTime:O.newEndTime,time:O.newStartTime,end_time:O.newEndTime};d(T)}O.hasMoved?setTimeout(()=>{g(null),y.current=null},100):(g(null),y.current=null)};return window.addEventListener("mousemove",b),window.addEventListener("mouseup",S),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",S),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",S),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",S)}},[l,a,d,f]),{interaction:m,startInteraction:E}},f_=({tool:l,user:a,profile:s,onClose:i,onConfirm:c,onUpdate:d,onCancel:f,existingBookings:m=[],initialDate:g,initialBooking:y=null,isAdminOverride:_=!1})=>{const[E,b]=P.useState(()=>{const G=g?new Date(g):new Date,I=G.getDay(),ne=G.getDate()-I+(I===0?-6:1),ue=new Date(G);return ue.setDate(ne),ue}),[S,O]=P.useState([]),[T,N]=P.useState(!1),[U,V]=P.useState(y||null),[$,X]=P.useState(y?y.project:"General"),ge=P.useRef(null),[ee,J]=P.useState(!1),se=P.useRef(null),he=P.useRef(null),{showToast:je}=yl(),Ke=s?.access_level==="admin",Xe=Array.isArray(s?.licenses)?s.licenses.includes(l.id):!1,Qe=l.status==="up",Fe=Ke||Xe&&Qe||_,Ae=P.useMemo(()=>{const G=[];try{for(let I=0;I<7;I++){const ne=new Date(E);ne.setDate(E.getDate()+I),G.push(ne)}}catch(I){console.error("Error generating week dates",I)}return G},[E]),z=P.useMemo(()=>{const G=[];for(let I=0;I<24;I++){const ne=I<10?"0"+I:I;G.push(`${ne}:00`),G.push(`${ne}:30`)}return G},[]),K=48,te=0;P.useEffect(()=>{if(ge.current){let G=9,I=0;if(y){const ce=y.time||y.startTime;if(ce){const[le,$e]=ce.split(":").map(Number);G=le,I=$e}}const ne=G-te,ue=I,ke=(ne*60+ue)/30*K;ge.current.scrollTop=ke}},[]);const pe=G=>{try{return G.toISOString().split("T")[0]}catch{return""}},_e=G=>{try{return G.toLocaleDateString("en-US",{weekday:"short",month:"numeric",day:"numeric"})}catch{return"Invalid Date"}},x=G=>{const[I,ne]=G.split(":").map(Number);return I*60+ne},R=(G,I)=>{const ne=new Date,ue=new Date(`${G}T${I}`),me=new Date(ne),ce=ne.getMinutes()<30?0:30;return me.setMinutes(ce,0,0),ue<me},H=(G,I)=>{const ne=x(I),ue=ne+30;return m.some(me=>{if(me.date!==G||me.tool_id!==l.id)return!1;const ke=x(me.startTime||me.time);let ce;const le=me.endTime||me.end_time;return le?ce=x(le):ce=ke+30,ne<ce&&ue>ke})},Y=P.useMemo(()=>{if(!U)return m;const G=U.ids||[U.id],I=G[0];return I?m.map(ue=>ue.id===I?U:G.includes(ue.id)?null:ue).filter(Boolean):m},[m,U]),Z=P.useMemo(()=>{const G=Y.filter(I=>I.tool_id===l.id);return vl(G)},[Y,l.id]),{interaction:Q,startInteraction:ie}=d_({weekDates:Ae,existingBookings:Y,user:a,isAdmin:Ke,isAdminOverride:_,onInteractionEnd:G=>{console.log("onInteractionEnd called with:",G),V(G)},showToast:je}),Oe=G=>{const I=parseInt(G.startTime.split(":")[0]),ne=parseInt(G.startTime.split(":")[1]),ue=parseInt(G.endTime.split(":")[0]),me=parseInt(G.endTime.split(":")[1]),ke=(I-te)*60+ne,le=(ue-te)*60+me-ke,$e=ke/30*K,Le=le/30*K;return{top:`${$e}px`,height:`${Le-1}px`,left:G.left!==void 0?`${G.left}%`:"2px",width:G.width!==void 0?`${G.width}%`:"calc(100% - 4px)",position:"absolute",zIndex:10}},De=(G,I)=>{if(G.stopPropagation(),Q){console.log("handleBookingClick blocked by interaction");return}console.log("handleBookingClick fired",I);const ne=I.user_id===a.id;if(!Ke&&!ne)return;const ue=I.ids[0],me={...I,id:ue};V(me),X(I.project),O([])},St=()=>{V(null)},la=(G,I)=>{G.stopPropagation(),f&&I&&I.ids&&(f(I.ids),V(null))},Dn=(G,I)=>{if(V(null),!Fe)return;const ne=z[I];if(H(G,ne))return;if(R(G,ne)&&!_){je("Cannot book in the past.","error");return}J(!0);const ue=Ae.findIndex(ke=>pe(ke)===G),me={startDIndex:ue,startTIndex:I,currentDIndex:ue,currentTIndex:I};se.current=me,ut(me)},hn=(G,I)=>{if(ee&&se.current){const ne=Ae.findIndex(ue=>pe(ue)===G);se.current.currentDIndex=ne,se.current.currentTIndex=I,ut(se.current)}},ut=G=>{const I=Math.min(G.startDIndex,G.currentDIndex),ne=Math.max(G.startDIndex,G.currentDIndex),ue=Math.min(G.startTIndex,G.currentTIndex),me=Math.max(G.startTIndex,G.currentTIndex),ke=[];for(let ce=I;ce<=ne;ce++)for(let le=ue;le<=me;le++){const $e=pe(Ae[ce]),Le=z[le];!H($e,Le)&&(_||!R($e,Le))&&ke.push({date:$e,time:Le})}O(ke)};P.useEffect(()=>{if(!ee)return;const G=ne=>{ne.cancelable&&ne.preventDefault();const ue=ne.touches[0],me=document.elementFromPoint(ue.clientX,ue.clientY);if(me&&me.dataset.date&&me.dataset.timeindex){const ke=me.dataset.date,ce=parseInt(me.dataset.timeindex,10),le=Ae.findIndex($e=>pe($e)===ke);le!==-1&&se.current&&(le!==se.current.currentDIndex||ce!==se.current.currentTIndex)&&(se.current.currentDIndex=le,se.current.currentTIndex=ce,ut(se.current))}},I=()=>{J(!1),se.current=null};return window.addEventListener("touchmove",G,{passive:!1}),window.addEventListener("touchend",I),window.addEventListener("mouseup",I),()=>{window.removeEventListener("touchmove",G),window.removeEventListener("touchend",I),window.removeEventListener("mouseup",I)}},[ee,Ae]);const en=(G,I,ne)=>{G.persist(),he.current=setTimeout(()=>{if(V(null),!Fe)return;const ue=z[ne];if(H(I,ue))return;if(R(I,ue)&&!_){je("Cannot book in the past.","error");return}J(!0);const me=Ae.findIndex(ce=>pe(ce)===I),ke={startDIndex:me,startTIndex:ne,currentDIndex:me,currentTIndex:ne};se.current=ke,ut(ke),navigator.vibrate&&navigator.vibrate(50)},500)},Ur=G=>{!ee&&he.current&&(clearTimeout(he.current),he.current=null)},pl=()=>{he.current&&(clearTimeout(he.current),he.current=null)};P.useEffect(()=>{if(!ee)return;const G=ne=>{ne.cancelable&&ne.preventDefault();const ue=ne.touches[0],me=document.elementFromPoint(ue.clientX,ue.clientY);if(me&&me.dataset.date&&me.dataset.timeindex){const ke=me.dataset.date,ce=parseInt(me.dataset.timeindex,10),le=Ae.findIndex($e=>pe($e)===ke);le!==-1&&se.current&&(le!==se.current.currentDIndex||ce!==se.current.currentTIndex)&&(se.current.currentDIndex=le,se.current.currentTIndex=ce,ut(se.current))}},I=()=>{J(!1),se.current=null};return window.addEventListener("touchmove",G,{passive:!1}),window.addEventListener("touchend",I),()=>{window.removeEventListener("touchmove",G),window.removeEventListener("touchend",I)}},[ee,Ae]);const on=P.useRef(null),oa=(G,I,ne)=>{G.stopPropagation();const ue=G.currentTarget,me=G.touches[0],ke=me.clientX,ce=me.clientY;on.current={x:ke,y:ce},he.current=setTimeout(()=>{const le=I.user_id===a.id;if(!Ke&&!le)return;ie({stopPropagation:()=>{},currentTarget:ue,type:"touchstart",touches:[{clientX:ke,clientY:ce}]},I,ne),he.current=null,navigator.vibrate&&navigator.vibrate(50)},500)},ua=G=>{if(he.current&&on.current){if(!G.cancelable){clearTimeout(he.current),he.current=null,on.current=null;return}const I=G.touches[0],ne=I.clientX,ue=I.clientY,me=Math.abs(ne-on.current.x),ke=Math.abs(ue-on.current.y);(me>5||ke>5)&&(clearTimeout(he.current),he.current=null,on.current=null)}},ca=()=>{he.current&&(clearTimeout(he.current),he.current=null),on.current=null},bl=()=>{const G=new Date(E);G.setDate(G.getDate()-7),b(G),O([])},_l=()=>{const G=new Date(E);G.setDate(G.getDate()+7),b(G),O([])},xt=async()=>{if(U){N(!0);const ce=U.ids||[U.id],le={...U,project:$};await d(ce,le),N(!1),V(null);return}if(S.length===0){je("Please select at least one time slot.","error");return}N(!0);const G=new Date().toISOString(),I=[...S].sort((ce,le)=>ce.date!==le.date?ce.date.localeCompare(le.date):ce.time.localeCompare(le.time)),ne=[];let ue=null;I.forEach(ce=>{if(!ue){ue={date:ce.date,startTime:ce.time,endTime:Rr(ce.time)};return}const le=ce.date===ue.date,$e=ce.time===ue.endTime;le&&$e?ue.endTime=Rr(ce.time):(ne.push(ue),ue={date:ce.date,startTime:ce.time,endTime:Rr(ce.time)})}),ue&&ne.push(ue);const me=ne.map(ce=>({tool_id:l.id,tool_name:l.name,user_id:a.id,user_name:s?`${s.first_name} ${s.last_name}`:a.email,project:$,date:ce.date,time:ce.startTime,end_time:ce.endTime,created_at:G}));if(me.some(ce=>em(ce,m))){je("One or more selected slots are already booked.","error"),N(!1);return}await c(me),N(!1),O([])};return p.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-5xl h-[90vh] flex flex-col overflow-hidden m-4 transition-colors border dark:border-gray-700",onClick:()=>V(null),children:[p.jsxs("div",{className:"bg-blue-900 dark:bg-blue-950 text-white p-4 flex justify-between items-center shrink-0 transition-colors",children:[p.jsxs("h2",{className:"text-xl font-bold",children:[p.jsx("i",{className:"fas fa-calendar-alt mr-2"}),"Weekly Schedule"]}),p.jsx("button",{onClick:i,className:"hover:text-gray-300 transition-colors",children:p.jsx("i",{className:"fas fa-times text-xl"})})]}),p.jsxs("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex flex-col sm:flex-row justify-between items-center shrink-0 gap-4 sm:gap-0 transition-colors",children:[p.jsxs("div",{className:"text-center sm:text-left",children:[p.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-gray-200 transition-colors",children:l.name}),p.jsxs("div",{className:"flex gap-2 text-sm mt-1 justify-center sm:justify-start",children:[p.jsx(nm,{status:l.status}),Xe?p.jsx("span",{className:"text-green-700 bg-green-100 px-2 rounded font-bold",children:"Licensed"}):p.jsx("span",{className:"text-red-700 bg-red-100 px-2 rounded font-bold",children:"No License"})]})]}),p.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 w-full sm:w-auto justify-between sm:justify-end",children:[p.jsx("button",{onClick:bl,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 rounded transition-colors",children:p.jsx("i",{className:"fas fa-chevron-left"})}),p.jsxs("div",{className:"font-bold text-gray-700 dark:text-gray-300 w-full sm:w-48 text-center text-sm sm:text-base transition-colors",children:[Ae[0].toLocaleDateString()," - ",Ae[6].toLocaleDateString()]}),p.jsx("button",{onClick:_l,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 rounded transition-colors",children:p.jsx("i",{className:"fas fa-chevron-right"})})]})]}),!Fe&&p.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800 p-2 text-center text-red-700 dark:text-red-400 text-sm font-bold shrink-0 transition-colors",children:Qe?"You do not have a license for this tool.":"Tool is currently down for maintenance."}),p.jsx("div",{ref:ge,className:"flex-1 overflow-auto custom-scroll relative select-none",children:p.jsxs("div",{className:"min-w-[800px] flex",children:[p.jsxs("div",{className:"w-[50px] shrink-0 bg-gray-50 dark:bg-gray-900 border-r dark:border-gray-700 sticky left-0 z-30 transition-colors",children:[p.jsx("div",{className:"h-10 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900 transition-colors"}),z.map(G=>p.jsx("div",{className:"h-12 border-b dark:border-gray-700 text-right pr-2 text-xs text-gray-500 dark:text-gray-400 font-mono flex items-center justify-end transition-colors",children:G},G))]}),p.jsx("div",{className:"flex-1 flex",children:Ae.map((G,I)=>{const ne=pe(G),ue=Z.filter(le=>le.date===ne),me=tm(ue),ke=Q&&Q.currentDate===ne,ce=Q&&Q.originalBooking;return p.jsxs("div",{className:"flex-1 min-w-[100px] border-r dark:border-gray-700 last:border-0 relative transition-colors",children:[p.jsx("div",{className:"h-10 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-center font-semibold text-gray-700 dark:text-gray-300 text-sm flex items-center justify-center sticky top-0 z-20 transition-colors",children:_e(G)}),p.jsxs("div",{className:"relative",children:[z.map((le,$e)=>{const Le=S.some(nt=>nt.date===ne&&nt.time===le),Tt=R(ne,le);return p.jsx("div",{"data-date":ne,"data-timeindex":$e,className:`h-12 border-b dark:border-gray-700 ${Le?"bg-blue-200 dark:bg-blue-800":""} ${Tt?"bg-gray-200 dark:bg-black/40 cursor-not-allowed":""} transition-colors`,onMouseDown:()=>Dn(ne,$e),onMouseEnter:()=>hn(ne,$e),onTouchStart:nt=>en(nt,ne,$e),onTouchMove:Ur,onTouchEnd:pl},le)}),me.map(le=>{if(Q&&Q.bookingId===le.ids[0])return null;const Le=le.user_id===a.id,Tt=Ke||Le,nt=new Date,zr=new Date(`${le.date}T${le.startTime}`)<=nt,Bs=Tt&&(!zr||_),Ma=Tt&&(!zr||_);return p.jsxs("div",{className:`absolute border rounded p-1 text-xs overflow-hidden transition-all group 
                                                            ${Le?"bg-blue-100 dark:bg-blue-900/60 border-blue-300 dark:border-blue-700":"bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600"}
                                                            ${Tt?"hover:z-10 hover:shadow-md cursor-pointer":""}
                                                            ${U&&U.id===le.ids[0]?"ring-2 ring-blue-500 z-20":""}
                                                            `,style:Oe(le),onMouseDown:Je=>Bs&&ie(Je,le,"move"),onTouchStart:Je=>Bs&&oa(Je,le,"move"),onTouchMove:ua,onTouchEnd:ca,onClick:Je=>De(Je,le),title:`Booked by: ${le.user_name}
Project: ${le.project}`,children:[Ma&&p.jsx("div",{className:"absolute top-0 left-0 right-0 h-3 z-20 cursor-ns-resize opacity-0 group-hover:opacity-100 bg-blue-400/20",onMouseDown:Je=>{Je.stopPropagation(),ie(Je,le,"resize-top")},onTouchStart:Je=>{Je.stopPropagation(),oa(Je,le,"resize-top")},onTouchMove:ua,onTouchEnd:ca}),p.jsx("div",{className:`font-bold truncate pointer-events-none ${Le?"text-blue-900 dark:text-blue-100":"text-gray-800 dark:text-gray-200"}`,children:le.user_name}),p.jsx("div",{className:`truncate text-[10px] pointer-events-none ${Le?"text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-400"}`,children:le.project}),U&&U.id===le.ids[0]&&(Ke||Le)&&(!zr||_)&&p.jsx("div",{className:"absolute top-0 right-0 p-1 cursor-pointer text-red-600 hover:text-red-800 bg-white/50 hover:bg-white rounded-bl z-30",onClick:Je=>la(Je,le),title:"Cancel Booking",children:p.jsx("i",{className:"fas fa-times text-xs"})}),Tt&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 z-20 cursor-ns-resize opacity-0 group-hover:opacity-100 bg-blue-400/20",onMouseDown:Je=>{Je.stopPropagation(),ie(Je,le,"resize-bottom")},onTouchStart:Je=>{Je.stopPropagation(),oa(Je,le,"resize-bottom")},onTouchMove:ua,onTouchEnd:ca})]},le.ids[0])}),ke&&p.jsxs("div",{className:`absolute border border-dashed rounded p-1 text-xs overflow-hidden z-50 opacity-80 pointer-events-none
                                                        ${Q.isValid?"bg-blue-200 border-blue-500":"bg-red-200 border-red-500"}`,style:{top:`${Q.currentTop}px`,height:`${Q.currentHeight-1}px`,left:"2px",right:"2px"},children:[p.jsx("div",{className:`font-bold truncate ${Q.isValid?"text-blue-900":"text-red-900"}`,children:ce.user_name}),p.jsx("div",{className:`truncate text-[10px] ${Q.isValid?"text-blue-700":"text-red-700"}`,children:ce.project})]})]})]},I)})})]})}),p.jsxs("div",{className:"p-4 border-t dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col-reverse sm:flex-row justify-end gap-3 shrink-0 z-30 transition-colors",children:[p.jsxs("div",{className:"mr-auto flex flex-wrap items-center gap-4 text-sm mb-2 sm:mb-0 text-gray-600 dark:text-gray-400",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-4 h-4 bg-white dark:bg-gray-800 border dark:border-gray-600"})," Available"]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-4 h-4 bg-blue-200 dark:bg-blue-800 rounded"})," Selected"]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-4 h-4 bg-blue-100 dark:bg-blue-900/60 border border-blue-300 dark:border-blue-700 rounded"})," My Booking"]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-4 h-4 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded"})," Other's Booking"]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Project:"}),p.jsxs("select",{value:$,onChange:G=>X(G.target.value),onClick:G=>G.stopPropagation(),className:"border dark:border-gray-600 rounded p-1 text-sm focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-800 dark:text-white",children:[p.jsx("option",{value:"General",children:"General"}),s?.projects?.map((G,I)=>p.jsx("option",{value:G,children:G},I))]})]}),p.jsx("button",{onClick:U?St:i,className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:"Cancel"}),p.jsxs("button",{disabled:S.length===0&&!U||T,onClick:G=>{G.stopPropagation(),xt()},className:`px-6 py-2 rounded text-white font-bold transition flex items-center gap-2 ${S.length===0&&!U||T?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:[T&&p.jsx("i",{className:"fas fa-spinner fa-spin"}),T?U?"Updating...":"Booking...":U?"Update Booking":"Confirm Booking"]})]})]})})},h_=({isOpen:l,title:a,message:s,onConfirm:i,onCancel:c})=>l?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm p-6 transform transition-all scale-100",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:p.jsx("i",{className:"fas fa-exclamation-triangle text-red-600 text-xl"})}),p.jsx("h3",{className:"text-lg font-bold text-gray-900",children:a}),p.jsx("p",{className:"text-sm text-gray-500 mt-2",children:s})]}),p.jsxs("div",{className:"mt-6 flex gap-3",children:[p.jsx("button",{onClick:c,className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:text-sm",children:"Cancel"}),p.jsx("button",{onClick:i,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 sm:text-sm",children:"Confirm"})]})]})}):null,ag=({toolsList:l,title:a,profile:s,onStatusChange:i,onBook:c})=>p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded shadow-sm overflow-x-auto border dark:border-gray-700 mb-8 transition-colors",children:[p.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 border-b dark:border-gray-700 font-bold text-gray-700 dark:text-gray-200 transition-colors",children:[a," (",l.length,")"]}),p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900 border-b dark:border-gray-700 transition-colors",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"ID"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Name"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Category"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Status"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"License"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300 text-right",children:"Action"})]})}),p.jsx("tbody",{children:l.map(d=>p.jsxs("tr",{className:"tool-row border-b dark:border-gray-700 last:border-0 transition-colors",children:[p.jsx("td",{className:"p-4 text-gray-500 dark:text-gray-400 font-mono text-sm",children:d.id}),p.jsxs("td",{className:"p-4",children:[p.jsx("div",{className:"font-bold text-gray-800 dark:text-gray-200",children:d.name}),p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:d.description})]}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded text-xs font-semibold",children:d.category})}),p.jsx("td",{className:"p-4",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(nm,{status:d.status}),s?.access_level==="admin"&&p.jsxs("select",{value:d.status,onChange:f=>i(d.id,f.target.value),className:"text-xs border dark:border-gray-600 rounded p-1 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200",onClick:f=>f.stopPropagation(),children:[p.jsx("option",{value:"up",children:"Up"}),p.jsx("option",{value:"down",children:"Down"}),p.jsx("option",{value:"service",children:"Service"})]})]})}),p.jsx("td",{className:"p-4",children:d.license_req?s?.licenses?.includes(d.id)?p.jsxs("span",{className:"text-green-700 dark:text-green-400 font-bold flex items-center gap-1 text-sm",children:[p.jsx("i",{className:"fas fa-check-circle"})," Active"]}):p.jsxs("span",{className:"text-gray-400 dark:text-gray-500 flex items-center gap-1 text-sm",children:[p.jsx("i",{className:"fas fa-times-circle"})," Missing"]}):p.jsx("span",{className:"text-green-600 dark:text-green-400 text-xs font-bold bg-green-50 dark:bg-green-900/20 px-2 py-1 rounded",children:"Not Required"})}),p.jsx("td",{className:"p-4 text-right",children:p.jsx("button",{onClick:()=>c(d),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm font-medium shadow-sm transition-colors",children:"Book"})})]},d.id))})]}),l.length===0&&p.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"No tools found in this section."})]}),g_=({tools:l,profile:a,onStatusChange:s,onBook:i})=>{const[c,d]=P.useState("All"),[f,m]=P.useState(""),g=P.useMemo(()=>{const b=new Set(l.map(S=>S.category));return["All",...Array.from(b).sort()]},[l]),y=l.filter(b=>{const S=c==="All"||b.category===c,O=b.name.toLowerCase().includes(f.toLowerCase())||b.id.toString().includes(f)||b.description&&b.description.toLowerCase().includes(f.toLowerCase());return S&&O}),_=y.filter(b=>!b.license_req||a?.licenses?.includes(b.id)),E=y.filter(b=>b.license_req&&!a?.licenses?.includes(b.id));return p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white dark:bg-gray-800 p-4 rounded shadow-sm transition-colors",children:[p.jsx("div",{className:"flex-1",children:p.jsx("input",{type:"text",placeholder:"Search tool name, ID, or description...",className:"w-full border dark:border-gray-600 p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-gray-700 text-gray-800 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 transition-colors",value:f,onChange:b=>m(b.target.value)})}),p.jsx("select",{className:"border dark:border-gray-600 p-2 rounded bg-white dark:bg-gray-700 text-gray-800 dark:text-white transition-colors",value:c,onChange:b=>d(b.target.value),children:g.map(b=>p.jsx("option",{value:b,children:b},b))})]}),p.jsx(ag,{toolsList:_,title:"My Authorized Tools",profile:a,onStatusChange:s,onBook:i}),p.jsx(ag,{toolsList:E,title:"Other Tools",profile:a,onStatusChange:s,onBook:i})]})},Zu=({bookings:l,onCancel:a,onUpdate:s,onEdit:i,allBookings:c,isAdminView:d=!1,readOnly:f=!1})=>{const m=P.useMemo(()=>vl(l),[l]);return p.jsx("div",{className:"space-y-6",children:m.length===0?p.jsx("p",{className:"text-gray-500 dark:text-gray-400 transition-colors",children:d?"No bookings found in the system.":"No bookings found."}):p.jsx("div",{className:"space-y-2",children:m.map(g=>p.jsxs("div",{className:`bg-white dark:bg-gray-800 p-4 rounded shadow-sm border dark:border-gray-700 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0 transition-colors ${f?"opacity-75 bg-gray-50 dark:bg-gray-900":""}`,children:[p.jsxs("div",{children:[p.jsx("div",{className:`font-bold ${f?"text-gray-700 dark:text-gray-300":"text-blue-900 dark:text-blue-100"}`,children:g.tool_name}),p.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d&&p.jsxs("span",{className:"font-semibold text-gray-800 dark:text-gray-200 mr-1",children:[g.user_name," |"]}),g.date," | ",g.startTime," - ",g.endTime]}),d&&p.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Project: ",g.project]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>i(g),disabled:f,className:`text-sm font-semibold border px-3 py-1 rounded transition-colors ${f?"text-gray-400 dark:text-gray-600 border-gray-200 dark:border-gray-700 cursor-not-allowed":"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 border-blue-200 dark:border-blue-800 hover:bg-blue-50 dark:hover:bg-blue-900/30"}`,children:"Edit"}),p.jsx("button",{onClick:()=>a(g.ids),disabled:f,className:`text-sm font-semibold border px-3 py-1 rounded transition-colors ${f?"text-gray-400 dark:text-gray-600 border-gray-200 dark:border-gray-700 cursor-not-allowed":"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 border-red-200 dark:border-red-800 hover:bg-red-50 dark:hover:bg-red-900/20"}`,children:d?"Delete":"Cancel"})]})]},g.ids[0]))})})},m_=({bookings:l,currentWeekStart:a,onWeekChange:s,onBookingClick:i})=>{const c=P.useRef(null),d=P.useMemo(()=>{const T=[];try{for(let N=0;N<7;N++){const U=new Date(a);U.setDate(a.getDate()+N),T.push(U)}}catch(N){console.error("Error generating week dates",N)}return T},[a]),f=P.useMemo(()=>{const T=[];for(let N=0;N<24;N++){const U=N<10?"0"+N:N;T.push(`${U}:00`),T.push(`${U}:30`)}return T},[]),m=48,g=0;P.useEffect(()=>{if(c.current){const U=(9-g)*2*m;c.current.scrollTop=U}},[]);const y=T=>{try{return T.toISOString().split("T")[0]}catch{return""}},_=T=>{try{return T.toLocaleDateString("en-US",{weekday:"short",month:"numeric",day:"numeric"})}catch{return"Invalid Date"}},E=P.useMemo(()=>vl(l),[l]),b=T=>{const N=parseInt(T.startTime.split(":")[0]),U=parseInt(T.startTime.split(":")[1]),V=parseInt(T.endTime.split(":")[0]),$=parseInt(T.endTime.split(":")[1]),X=(N-g)*60+U,ee=(V-g)*60+$-X,J=X/30*m,se=ee/30*m;return{top:`${J}px`,height:`${se-1}px`,left:T.left!==void 0?`${T.left}%`:"2px",width:T.width!==void 0?`${T.width}%`:"calc(100% - 4px)",position:"absolute",zIndex:10}},S=()=>{const T=new Date(a);T.setDate(T.getDate()-7),s(T)},O=()=>{const T=new Date(a);T.setDate(T.getDate()+7),s(T)};return p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 flex flex-col overflow-hidden h-[950px] transition-colors",children:[p.jsx("div",{className:"p-1 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex justify-between items-center shrink-0 transition-colors",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:S,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 rounded transition-colors",children:p.jsx("i",{className:"fas fa-chevron-left"})}),p.jsxs("div",{className:"font-bold text-gray-700 dark:text-gray-200 w-48 text-center transition-colors",children:[d[0].toLocaleDateString()," - ",d[6].toLocaleDateString()]}),p.jsx("button",{onClick:O,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 rounded transition-colors",children:p.jsx("i",{className:"fas fa-chevron-right"})})]})}),p.jsx("div",{ref:c,className:"flex-1 overflow-auto custom-scroll relative select-none",children:p.jsxs("div",{className:"min-w-[800px] flex",children:[p.jsxs("div",{className:"w-[50px] shrink-0 bg-gray-50 dark:bg-gray-900 border-r dark:border-gray-700 sticky left-0 z-30 transition-colors",children:[p.jsx("div",{className:"h-10 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900 transition-colors"})," ",f.map(T=>p.jsx("div",{className:"h-12 border-b dark:border-gray-700 text-right pr-2 text-xs text-gray-500 dark:text-gray-400 font-mono flex items-center justify-end transition-colors",children:T},T))]}),p.jsx("div",{className:"flex-1 flex",children:d.map((T,N)=>{const U=y(T),V=E.filter(X=>X.date===U),$=tm(V);return p.jsxs("div",{className:"flex-1 min-w-[100px] border-r dark:border-gray-700 last:border-0 relative transition-colors",children:[p.jsx("div",{className:"h-10 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-center font-semibold text-gray-700 dark:text-gray-300 text-sm flex items-center justify-center sticky top-0 z-20 transition-colors",children:_(T)}),p.jsxs("div",{className:"relative",children:[f.map(X=>p.jsx("div",{className:"h-12 border-b dark:border-gray-700 transition-colors"},X)),$.map(X=>p.jsxs("div",{className:"absolute bg-blue-100 dark:bg-blue-900/50 border border-blue-300 dark:border-blue-700 rounded p-1 text-xs overflow-hidden transition-all hover:z-10 hover:shadow-md cursor-pointer",style:b(X),onClick:()=>i&&i(X),title:"Click to edit booking",children:[p.jsx("div",{className:"font-bold text-blue-900 dark:text-blue-100 truncate pointer-events-none",children:X.tool_name}),p.jsx("div",{className:"text-blue-700 dark:text-blue-300 truncate text-[10px] pointer-events-none",children:X.project}),p.jsxs("div",{className:"text-blue-600 dark:text-blue-400 text-[10px] pointer-events-none",children:[X.startTime," - ",X.endTime]})]},X.ids[0]))]})]},N)})})]})})]})},y_=({tools:l,currentUser:a,onProfileUpdate:s})=>{const[i,c]=P.useState([]),[d,f]=P.useState(null),{showToast:m}=yl();P.useEffect(()=>{(async()=>{console.log("Fetching all users...");const{data:S,error:O}=await ot.from("profiles").select("*").order("last_name",{ascending:!0});O?(console.error("Error fetching users:",O),m("Failed to fetch users","error")):(console.log("Fetched users:",S),c(S))})()},[m]);const g=async(b,S)=>{const O=i.find(U=>U.id===b);if(!O)return;const T=O.licenses||[];let N;T.includes(S)?N=T.filter(U=>U!==S):N=[...T,S];try{console.log(`Updating licenses for user ${b} to:`,N);const{data:U,error:V}=await ot.from("profiles").update({licenses:N}).eq("id",b).select();if(V)throw console.error("Supabase update error:",V),V;console.log("Supabase update success:",U),c(i.map($=>$.id===b?{...$,licenses:N}:$)),d?.id===b&&f({...d,licenses:N}),a&&a.id===b&&s&&s(),m("Licenses updated successfully.")}catch(U){console.error("Error updating licenses:",U),m("Failed to update licenses: "+U.message,"error")}},y=async b=>{try{const{error:S}=await ot.from("profiles").update({is_approved:!0}).eq("id",b);if(S)throw S;c(i.map(O=>O.id===b?{...O,is_approved:!0}:O)),m("User approved successfully.")}catch(S){console.error("Error approving user:",S),m("Failed to approve user: "+S.message,"error")}},_=async(b,S)=>{const O=i.find(U=>U.id===b);if(!O)return;const T=O.projects||[];if(T.includes(S)){m("Project already assigned.","error");return}const N=[...T,S];try{const{error:U}=await ot.from("profiles").update({projects:N}).eq("id",b);if(U)throw U;c(i.map(V=>V.id===b?{...V,projects:N}:V)),d?.id===b&&f({...d,projects:N}),a&&a.id===b&&s&&s(),m("Project added successfully.")}catch(U){console.error("Error adding project:",U),m("Failed to add project: "+U.message,"error")}},E=async(b,S)=>{const O=i.find(N=>N.id===b);if(!O)return;const T=(O.projects||[]).filter(N=>N!==S);try{const{error:N}=await ot.from("profiles").update({projects:T}).eq("id",b);if(N)throw N;c(i.map(U=>U.id===b?{...U,projects:T}:U)),d?.id===b&&f({...d,projects:T}),a&&a.id===b&&s&&s(),m("Project removed successfully.")}catch(N){console.error("Error removing project:",N),m("Failed to remove project: "+N.message,"error")}};return p.jsxs("div",{className:"space-y-6",children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 transition-colors",children:"User Management"}),p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded shadow-sm overflow-hidden border dark:border-gray-700 transition-colors",children:p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900 border-b dark:border-gray-700 transition-colors",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Name"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Job Title"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Access"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Status"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Licenses"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300 text-right",children:"Action"})]})}),p.jsx("tbody",{children:i.map(b=>p.jsxs("tr",{className:"border-b dark:border-gray-700 last:border-0 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[p.jsxs("td",{className:"p-4 font-bold text-gray-800 dark:text-gray-200",children:[b.first_name," ",b.last_name]}),p.jsx("td",{className:"p-4 text-gray-600 dark:text-gray-400",children:b.job_title}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${b.access_level==="admin"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"}`,children:b.access_level})}),p.jsx("td",{className:"p-4",children:b.is_approved?p.jsx("span",{className:"px-2 py-1 rounded text-xs font-bold uppercase bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",children:"Active"}):p.jsx("button",{onClick:()=>y(b.id),className:"px-2 py-1 rounded text-xs font-bold uppercase bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 hover:bg-yellow-200 dark:hover:bg-yellow-900/50 transition-colors",children:"Approve"})}),p.jsx("td",{className:"p-4 text-gray-600 dark:text-gray-400",children:b.licenses?.length||0}),p.jsx("td",{className:"p-4 text-right",children:p.jsx("button",{onClick:()=>f(d?.id===b.id?null:b),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-semibold text-sm transition-colors",children:d?.id===b.id?"Close":"Manage"})})]},b.id))})]})}),d&&p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded shadow-sm border border-blue-200 dark:border-blue-900 animate-fade-in transition-colors",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h4",{className:"font-bold text-lg text-gray-800 dark:text-gray-200",children:["Manage ",d.first_name," ",d.last_name]}),p.jsx("button",{onClick:()=>f(null),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",children:p.jsx("i",{className:"fas fa-times"})})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("h5",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tool Licenses"}),p.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-60 overflow-y-auto pr-2 custom-scroll",children:l.map(b=>{const S=d.licenses?.includes(b.id);return p.jsxs("div",{className:`p-2 rounded border flex items-center justify-between cursor-pointer transition-colors text-sm ${S?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600"}`,onClick:()=>g(d.id,b.id),children:[p.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:b.name}),S?p.jsx("i",{className:"fas fa-check-circle text-green-600 dark:text-green-400"}):p.jsx("i",{className:"far fa-circle text-gray-400 dark:text-gray-500"})]},b.id)})})]}),p.jsxs("div",{children:[p.jsx("h5",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Assigned Projects"}),p.jsxs("div",{className:"flex gap-2 mb-2",children:[p.jsx("input",{type:"text",placeholder:"New Project Name",className:"flex-1 border dark:border-gray-600 rounded px-2 py-1 text-sm bg-white dark:bg-gray-700 text-gray-800 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 outline-none focus:ring-2 focus:ring-blue-500 transition-colors",onKeyDown:b=>{if(b.key==="Enter"){const S=b.target.value.trim();S&&(_(d.id,S),b.target.value="")}},id:"new-project-input"}),p.jsx("button",{onClick:()=>{const b=document.getElementById("new-project-input"),S=b.value.trim();S&&(_(d.id,S),b.value="")},className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm transition-colors",children:"Add"})]}),p.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2 custom-scroll",children:[(!d.projects||d.projects.length===0)&&p.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm italic",children:"No projects assigned."}),d.projects?.map((b,S)=>p.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700 p-2 rounded border dark:border-gray-600 text-sm transition-colors",children:[p.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:b}),p.jsx("button",{onClick:()=>E(d.id,b),className:"text-red-500 hover:text-red-700",children:p.jsx("i",{className:"fas fa-trash-alt"})})]},S))]})]})]})]})]})},v_=({user:l,onLogout:a})=>{const[s,i]=P.useState("dashboard"),[c,d]=P.useState([]),[f,m]=P.useState([]),[g,y]=P.useState(null),[_,E]=P.useState(null),[b,S]=P.useState(null),[O,T]=P.useState(null),[N,U]=P.useState(!0),[V,$]=P.useState(!1),[X,ge]=P.useState(!1),[ee,J]=P.useState(null),[se,he]=P.useState(()=>{const R=new Date,H=R.getDay(),Y=R.getDate()-H+(H===0?-6:1);return new Date(R.setDate(Y))}),{showToast:je}=yl(),{theme:Ke,toggleTheme:Xe}=o_();P.useEffect(()=>{const R=async(Y=!1)=>{Y||U(!0);try{const{data:Z,error:Q}=await ot.from("tools").select("*").order("id",{ascending:!0});if(Q)throw Q;Z&&d(Z);const{data:ie,error:Oe}=await ot.from("profiles").select("*").eq("id",l.id).single();if(Oe&&Oe.code!=="PGRST116")throw Oe;ie&&y(ie);const{data:De,error:St}=await ot.from("bookings").select("*");if(St)throw St;De&&m(De)}catch(Z){console.error("Error fetching data:",Z),Y||je("Error fetching data: "+Z.message,"error")}finally{Y||U(!1)}};R();const H=setInterval(()=>{R(!0)},1e4);return()=>clearInterval(H)},[l.id,je]);const Qe=f.filter(R=>R.user_id===l.id);P.useMemo(()=>vl(Qe),[f,l.id]);const Fe=P.useMemo(()=>{const R=new Set,H=[],Y=[...Qe].sort((Z,Q)=>new Date(Q.created_at)-new Date(Z.created_at));for(const Z of Y){if(!R.has(Z.tool_id)){R.add(Z.tool_id);const Q=c.find(ie=>ie.id===Z.tool_id);Q&&H.push(Q)}if(H.length>=3)break}return H},[Qe,c]),Ae=async R=>{const H=Array.isArray(R)?R:[R],Y=new Date,Z=H.some(ie=>new Date(`${ie.date}T${ie.end_time||ie.endTime}`)<Y),Q=g?.access_level==="admin"&&s==="all_bookings";if(Z&&!Q){je("Cannot create bookings in the past.","error");return}try{const{data:ie,error:Oe}=await ot.from("bookings").insert(H).select();if(Oe)throw Oe;m([...f,...ie]),E(null),S(null),je(`Successfully created ${ie.length} booking(s).`)}catch(ie){console.error("Error creating booking:",ie),je("Failed to create booking: "+ie.message,"error")}},z=R=>{const H=Array.isArray(R)?R:[R],Y=f.filter(Oe=>H.includes(Oe.id)),Z=new Date,Q=Y.some(Oe=>{const De=new Date(`${Oe.date}T${Oe.time}`),St=new Date(`${Oe.date}T${Oe.end_time}`);return De<=Z&&St>Z}),ie=g?.access_level==="admin"&&s==="all_bookings";if(Q&&!ie){je("Cannot cancel an in-progress booking.","error");return}J(R),ge(!0)},K=async()=>{if(ee)try{const{error:R}=await ot.from("bookings").delete().in("id",ee);if(R)throw R;m(f.filter(H=>!ee.includes(H.id))),je("Booking has been cancelled.")}catch(R){console.error("Error cancelling booking:",R),je("Failed to cancel booking.","error")}finally{ge(!1),J(null)}},te=async(R,H)=>{try{const Y=R[0];if(!Y)throw new Error("No booking ID provided for update");if(R.length>1){const hn=R.slice(1),{error:ut}=await ot.from("bookings").delete().in("id",hn);ut&&console.error("Error deleting secondary slots:",ut)}const Q=(Array.isArray(H)?H:[H])[0],ie=new Date,Oe=new Date(`${Q.date}T${Q.end_time||Q.endTime}`),De=g?.access_level==="admin"&&s==="all_bookings";if(Oe<ie&&!De)throw new Error("Cannot move booking to the past.");const St={project:Q.project,date:Q.date,time:Q.startTime||Q.time,end_time:Q.endTime||Q.end_time},{data:la,error:Dn}=await ot.from("bookings").update(St).eq("id",Y).select();if(Dn)throw Dn;m(hn=>{let ut=hn;return R.length>1&&(ut=hn.filter(en=>!R.slice(1).includes(en.id))),ut.map(en=>en.id===Y?{...en,...St}:en)}),je("Booking updated successfully.")}catch(Y){console.error("Error updating booking:",Y),je("Failed to update booking: "+Y.message,"error")}},pe=async(R,H)=>{try{const{error:Y}=await ot.from("tools").update({status:H}).eq("id",R);if(Y)throw Y;d(c.map(Z=>Z.id===R?{...Z,status:H}:Z)),je(`Tool status updated to ${H}`)}catch(Y){console.error("Error updating status:",Y),je("Failed to update status.","error")}},_e=R=>{const H=c.find(Y=>Y.id===R.tool_id);H?(E(H),S(R.date),T(R)):je("Tool details not found.","error")};if(N)return p.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."});const x=R=>{i(R),$(!1)};return p.jsxs("div",{className:"flex h-screen bg-gray-100",children:[V&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>$(!1)}),p.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 shadow-lg flex flex-col transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-auto ${V?"translate-x-0":"-translate-x-full"}`,children:[p.jsx("div",{className:"h-16 flex items-center justify-center border-b border-blue-900 bg-blue-900 dark:bg-blue-950 text-white transition-colors",children:p.jsxs("div",{className:"font-bold text-xl tracking-wider flex items-center",children:[p.jsx("img",{src:Fg,alt:"Logo",className:"h-8 mr-2 brightness-0 invert"}),"MMI-LIMS"]})}),p.jsxs("div",{className:"p-4 border-b dark:border-gray-700",children:[p.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Logged in as"}),p.jsx("div",{className:"font-bold text-gray-800 dark:text-gray-200 truncate",children:g?`${g.first_name} ${g.last_name}`:l.email}),p.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-semibold uppercase mt-1",children:[g?.job_title||"Researcher",g?.access_level==="admin"&&p.jsx("span",{className:"ml-2 bg-red-600 text-white px-1 rounded text-[10px]",children:"ADMIN"})]})]}),p.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[p.jsxs("button",{onClick:()=>x("dashboard"),className:`w-full flex items-center p-3 rounded transition ${s==="dashboard"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-bold":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[p.jsx("i",{className:"fas fa-home w-8"})," Dashboard"]}),p.jsxs("button",{onClick:()=>x("tools"),className:`w-full flex items-center p-3 rounded transition ${s==="tools"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-bold":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[p.jsx("i",{className:"fas fa-tools w-8"})," Tool List"]}),g?.access_level==="admin"&&p.jsxs("button",{onClick:()=>x("users"),className:`w-full flex items-center p-3 rounded transition ${s==="users"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-bold":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[p.jsx("i",{className:"fas fa-users w-8"})," Users"]}),g?.access_level==="admin"&&p.jsxs("button",{onClick:()=>x("all_bookings"),className:`w-full flex items-center p-3 rounded transition ${s==="all_bookings"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-bold":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[p.jsx("i",{className:"fas fa-calendar-check w-8"})," All Bookings"]})]}),p.jsxs("div",{className:"p-4 border-t dark:border-gray-700 space-y-2",children:[p.jsxs("button",{onClick:Xe,className:"w-full flex items-center p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 rounded transition",children:[p.jsx("i",{className:`fas ${Ke==="dark"?"fa-sun":"fa-moon"} w-8`})," ",Ke==="dark"?"Light Mode":"Dark Mode"]}),p.jsxs("button",{onClick:a,className:"w-full flex items-center p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition",children:[p.jsx("i",{className:"fas fa-sign-out-alt w-8"})," Logout"]})]})]}),p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-gray-100 dark:bg-gray-900 transition-colors",children:[p.jsx("header",{className:"h-16 bg-white dark:bg-gray-800 shadow-sm flex items-center justify-between px-6 transition-colors",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:()=>$(!0),className:"lg:hidden text-gray-600 dark:text-gray-300 hover:text-blue-900 dark:hover:text-blue-400",children:p.jsx("i",{className:"fas fa-bars text-xl"})}),p.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white capitalize",children:s.replace("-"," ")})]})}),p.jsxs("main",{className:"flex-1 overflow-y-auto p-6 custom-scroll",children:[s==="dashboard"&&p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[p.jsxs("div",{className:"lg:col-span-2 flex flex-col",children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4",children:"My Bookings Calendar"}),p.jsx(m_,{bookings:Qe,allBookings:f,onUpdate:te,currentWeekStart:se,onWeekChange:he,onBookingClick:_e})]}),p.jsxs("div",{className:"lg:col-span-1 flex flex-col gap-6",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4",children:"Quick Book"}),p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 transition-colors flex flex-col max-h-[350px]",children:p.jsx("div",{className:"overflow-y-auto p-4 custom-scroll",children:Fe.length>0?p.jsx("div",{className:"grid grid-cols-1 gap-4",children:Fe.map(R=>p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-3 rounded-lg border dark:border-gray-700 hover:shadow-md transition cursor-pointer flex justify-between items-center group",onClick:()=>E(R),children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-sm text-gray-800 dark:text-gray-200 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:R.name}),p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:R.category})]}),p.jsx("div",{className:"h-6 w-6 bg-white dark:bg-gray-800 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 group-hover:bg-blue-100 dark:group-hover:bg-blue-800/50 transition-colors shadow-sm",children:p.jsx("i",{className:"fas fa-plus text-xs"})})]},R.id))}):p.jsx("div",{className:"flex items-center justify-center text-gray-400 italic py-4",children:"No recent tools found."})})})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4",children:"Upcoming Bookings"}),p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 transition-colors flex flex-col max-h-[350px]",children:p.jsx("div",{className:"overflow-y-auto p-4 custom-scroll",children:p.jsx(Zu,{bookings:Qe.filter(R=>new Date(`${R.date}T${R.end_time||R.endTime}`)>=new Date),allBookings:f,onCancel:z,onUpdate:te,onEdit:_e})})})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h3",{className:"font-bold text-gray-600 dark:text-gray-400 mb-4",children:"Past Bookings"}),p.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg shadow-sm border dark:border-gray-700 transition-colors flex flex-col max-h-[350px]",children:p.jsx("div",{className:"overflow-y-auto p-4 custom-scroll",children:p.jsx(Zu,{bookings:Qe.filter(R=>new Date(`${R.date}T${R.end_time||R.endTime}`)<new Date),allBookings:f,onCancel:z,onUpdate:te,onEdit:_e,readOnly:!0})})})]})]})]}),s==="tools"&&p.jsx(g_,{tools:c,profile:g,onStatusChange:pe,onBook:E}),s==="all_bookings"&&g?.access_level==="admin"&&p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4",children:"All Bookings List"}),p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 p-4 transition-colors",children:p.jsx(Zu,{bookings:f,onCancel:z,onUpdate:te,onEdit:_e,isAdminView:!0})})]}),s==="users"&&g?.access_level==="admin"&&p.jsx(y_,{tools:c,currentUser:l,onProfileUpdate:async()=>{const{data:R}=await ot.from("profiles").select("*").eq("id",l.id).single();R&&y(R)}})]})]}),_&&p.jsx(f_,{tool:_,user:l,profile:g,existingBookings:f,initialDate:b,initialBooking:O,onClose:()=>{E(null),S(null),T(null)},onConfirm:Ae,onUpdate:te,onCancel:z,isAdminOverride:g?.access_level==="admin"&&s==="all_bookings"}),p.jsx(h_,{isOpen:X,title:"Cancel Booking",message:"Are you sure you want to cancel this booking? This action cannot be undone.",onConfirm:K,onCancel:()=>{ge(!1),J(null)}})]})},am=()=>p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-900"})}),p_=({session:l,onLogout:a})=>{const[s,i]=P.useState(null),[c,d]=P.useState(!0);return P.useEffect(()=>{(async()=>{const{data:m,error:g}=await ot.from("profiles").select("*").eq("id",l.user.id).single();g?console.error("Error fetching profile:",g):i(m),d(!1)})()},[l]),c?p.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:p.jsx(am,{})}):s&&!s.is_approved?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-md text-center border-t-4 border-yellow-500",children:[p.jsx("div",{className:"mb-4",children:p.jsx("i",{className:"fas fa-clock text-5xl text-yellow-500"})}),p.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Account Pending Approval"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been created but requires administrator approval before you can access the system. Please check back later or contact the lab manager."}),p.jsx("button",{onClick:a,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition",children:"Sign Out"})]})}):p.jsx(v_,{user:l.user,profile:s,onLogout:a})};function b_(){const[l,a]=P.useState(null),[s,i]=P.useState(!0);return P.useEffect(()=>{ot.auth.getSession().then(({data:{session:d}})=>{a(d),i(!1)});const{data:{subscription:c}}=ot.auth.onAuthStateChange((d,f)=>{a(f),i(!1)});return()=>c.unsubscribe()},[]),s?p.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:p.jsx(am,{})}):p.jsx(l_,{children:p.jsx(i_,{children:l?p.jsx(p_,{session:l,onLogout:()=>ot.auth.signOut()}):p.jsx(u_,{})})})}Nv.createRoot(document.getElementById("root")).render(p.jsx(P.StrictMode,{children:p.jsx(b_,{})}));
