function vv(l,a){for(var s=0;s<a.length;s++){const i=a[s];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in l)){const d=Object.getOwnPropertyDescriptor(i,c);d&&Object.defineProperty(l,c,d.get?d:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function pv(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function bv(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var a=l.default;if(typeof a=="function"){var s=function i(){var c=!1;try{c=this instanceof i}catch{}return c?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};s.prototype=a.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(l).forEach(function(i){var c=Object.getOwnPropertyDescriptor(l,i);Object.defineProperty(s,i,c.get?c:{enumerable:!0,get:function(){return l[i]}})}),s}var Ru={exports:{}},Ts={};var g0;function _v(){if(g0)return Ts;g0=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(i,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:l,type:i,key:f,ref:c!==void 0?c:null,props:d}}return Ts.Fragment=a,Ts.jsx=s,Ts.jsxs=s,Ts}var m0;function wv(){return m0||(m0=1,Ru.exports=_v()),Ru.exports}var p=wv(),Cu={exports:{}},me={};var y0;function Sv(){if(y0)return me;y0=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),b=Symbol.iterator;function T(S){return S===null||typeof S!="object"?null:(S=b&&S[b]||S["@@iterator"],typeof S=="function"?S:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,N={};function M(S,D,G){this.props=S,this.context=D,this.refs=N,this.updater=G||_}M.prototype.isReactComponent={},M.prototype.setState=function(S,D){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,D,"setState")},M.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function K(){}K.prototype=M.prototype;function q(S,D,G){this.props=S,this.context=D,this.refs=N,this.updater=G||_}var X=q.prototype=new K;X.constructor=q,A(X,M.prototype),X.isPureReactComponent=!0;var W=Array.isArray;function te(){}var J={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function je(S,D,G){var $=G.ref;return{$$typeof:l,type:S,key:D,ref:$!==void 0?$:null,props:G}}function yt(S,D){return je(S.type,D,S.props)}function Te(S){return typeof S=="object"&&S!==null&&S.$$typeof===l}function ke(S){var D={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(G){return D[G]})}var Qe=/\/+/g;function Je(S,D){return typeof S=="object"&&S!==null&&S.key!=null?ke(""+S.key):D.toString(36)}function Ge(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(te,te):(S.status="pending",S.then(function(D){S.status==="pending"&&(S.status="fulfilled",S.value=D)},function(D){S.status==="pending"&&(S.status="rejected",S.reason=D)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function z(S,D,G,$,Z){var de=typeof S;(de==="undefined"||de==="boolean")&&(S=null);var pe=!1;if(S===null)pe=!0;else switch(de){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(S.$$typeof){case l:case a:pe=!0;break;case w:return pe=S._init,z(pe(S._payload),D,G,$,Z)}}if(pe)return Z=Z(S),pe=$===""?"."+Je(S,0):$,W(Z)?(G="",pe!=null&&(G=pe.replace(Qe,"$&/")+"/"),z(Z,D,G,"",function(Ht){return Ht})):Z!=null&&(Te(Z)&&(Z=yt(Z,G+(Z.key==null||S&&S.key===Z.key?"":(""+Z.key).replace(Qe,"$&/")+"/")+pe)),D.push(Z)),1;pe=0;var Pe=$===""?".":$+":";if(W(S))for(var Re=0;Re<S.length;Re++)$=S[Re],de=Pe+Je($,Re),pe+=z($,D,G,de,Z);else if(Re=T(S),typeof Re=="function")for(S=Re.call(S),Re=0;!($=S.next()).done;)$=$.value,de=Pe+Je($,Re++),pe+=z($,D,G,de,Z);else if(de==="object"){if(typeof S.then=="function")return z(Ge(S),D,G,$,Z);throw D=String(S),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Q(S,D,G){if(S==null)return S;var $=[],Z=0;return z(S,$,"","",function(de){return D.call(G,de,Z++)}),$}function ae(S){if(S._status===-1){var D=S._result;D=D(),D.then(function(G){(S._status===0||S._status===-1)&&(S._status=1,S._result=G)},function(G){(S._status===0||S._status===-1)&&(S._status=2,S._result=G)}),S._status===-1&&(S._status=0,S._result=D)}if(S._status===1)return S._result.default;throw S._result}var be=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},V={map:Q,forEach:function(S,D,G){Q(S,function(){D.apply(this,arguments)},G)},count:function(S){var D=0;return Q(S,function(){D++}),D},toArray:function(S){return Q(S,function(D){return D})||[]},only:function(S){if(!Te(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return me.Activity=E,me.Children=V,me.Component=M,me.Fragment=s,me.Profiler=c,me.PureComponent=q,me.StrictMode=i,me.Suspense=g,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,me.__COMPILER_RUNTIME={__proto__:null,c:function(S){return J.H.useMemoCache(S)}},me.cache=function(S){return function(){return S.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(S,D,G){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var $=A({},S.props),Z=S.key;if(D!=null)for(de in D.key!==void 0&&(Z=""+D.key),D)!fe.call(D,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&D.ref===void 0||($[de]=D[de]);var de=arguments.length-2;if(de===1)$.children=G;else if(1<de){for(var pe=Array(de),Pe=0;Pe<de;Pe++)pe[Pe]=arguments[Pe+2];$.children=pe}return je(S.type,Z,$)},me.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:d,_context:S},S},me.createElement=function(S,D,G){var $,Z={},de=null;if(D!=null)for($ in D.key!==void 0&&(de=""+D.key),D)fe.call(D,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(Z[$]=D[$]);var pe=arguments.length-2;if(pe===1)Z.children=G;else if(1<pe){for(var Pe=Array(pe),Re=0;Re<pe;Re++)Pe[Re]=arguments[Re+2];Z.children=Pe}if(S&&S.defaultProps)for($ in pe=S.defaultProps,pe)Z[$]===void 0&&(Z[$]=pe[$]);return je(S,de,Z)},me.createRef=function(){return{current:null}},me.forwardRef=function(S){return{$$typeof:m,render:S}},me.isValidElement=Te,me.lazy=function(S){return{$$typeof:w,_payload:{_status:-1,_result:S},_init:ae}},me.memo=function(S,D){return{$$typeof:y,type:S,compare:D===void 0?null:D}},me.startTransition=function(S){var D=J.T,G={};J.T=G;try{var $=S(),Z=J.S;Z!==null&&Z(G,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(te,be)}catch(de){be(de)}finally{D!==null&&G.types!==null&&(D.types=G.types),J.T=D}},me.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},me.use=function(S){return J.H.use(S)},me.useActionState=function(S,D,G){return J.H.useActionState(S,D,G)},me.useCallback=function(S,D){return J.H.useCallback(S,D)},me.useContext=function(S){return J.H.useContext(S)},me.useDebugValue=function(){},me.useDeferredValue=function(S,D){return J.H.useDeferredValue(S,D)},me.useEffect=function(S,D){return J.H.useEffect(S,D)},me.useEffectEvent=function(S){return J.H.useEffectEvent(S)},me.useId=function(){return J.H.useId()},me.useImperativeHandle=function(S,D,G){return J.H.useImperativeHandle(S,D,G)},me.useInsertionEffect=function(S,D){return J.H.useInsertionEffect(S,D)},me.useLayoutEffect=function(S,D){return J.H.useLayoutEffect(S,D)},me.useMemo=function(S,D){return J.H.useMemo(S,D)},me.useOptimistic=function(S,D){return J.H.useOptimistic(S,D)},me.useReducer=function(S,D,G){return J.H.useReducer(S,D,G)},me.useRef=function(S){return J.H.useRef(S)},me.useState=function(S){return J.H.useState(S)},me.useSyncExternalStore=function(S,D,G){return J.H.useSyncExternalStore(S,D,G)},me.useTransition=function(){return J.H.useTransition()},me.version="19.2.0",me}var v0;function oc(){return v0||(v0=1,Cu.exports=Sv()),Cu.exports}var P=oc(),Du={exports:{}},Es={},Uu={exports:{}},zu={};var p0;function xv(){return p0||(p0=1,(function(l){function a(z,Q){var ae=z.length;z.push(Q);e:for(;0<ae;){var be=ae-1>>>1,V=z[be];if(0<c(V,Q))z[be]=Q,z[ae]=V,ae=be;else break e}}function s(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var Q=z[0],ae=z.pop();if(ae!==Q){z[0]=ae;e:for(var be=0,V=z.length,S=V>>>1;be<S;){var D=2*(be+1)-1,G=z[D],$=D+1,Z=z[$];if(0>c(G,ae))$<V&&0>c(Z,G)?(z[be]=Z,z[$]=ae,be=$):(z[be]=G,z[D]=ae,be=D);else if($<V&&0>c(Z,ae))z[be]=Z,z[$]=ae,be=$;else break e}}return Q}function c(z,Q){var ae=z.sortIndex-Q.sortIndex;return ae!==0?ae:z.id-Q.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();l.unstable_now=function(){return f.now()-m}}var g=[],y=[],w=1,E=null,b=3,T=!1,_=!1,A=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function X(z){for(var Q=s(y);Q!==null;){if(Q.callback===null)i(y);else if(Q.startTime<=z)i(y),Q.sortIndex=Q.expirationTime,a(g,Q);else break;Q=s(y)}}function W(z){if(A=!1,X(z),!_)if(s(g)!==null)_=!0,te||(te=!0,ke());else{var Q=s(y);Q!==null&&Ge(W,Q.startTime-z)}}var te=!1,J=-1,fe=5,je=-1;function yt(){return N?!0:!(l.unstable_now()-je<fe)}function Te(){if(N=!1,te){var z=l.unstable_now();je=z;var Q=!0;try{e:{_=!1,A&&(A=!1,K(J),J=-1),T=!0;var ae=b;try{t:{for(X(z),E=s(g);E!==null&&!(E.expirationTime>z&&yt());){var be=E.callback;if(typeof be=="function"){E.callback=null,b=E.priorityLevel;var V=be(E.expirationTime<=z);if(z=l.unstable_now(),typeof V=="function"){E.callback=V,X(z),Q=!0;break t}E===s(g)&&i(g),X(z)}else i(g);E=s(g)}if(E!==null)Q=!0;else{var S=s(y);S!==null&&Ge(W,S.startTime-z),Q=!1}}break e}finally{E=null,b=ae,T=!1}Q=void 0}}finally{Q?ke():te=!1}}}var ke;if(typeof q=="function")ke=function(){q(Te)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,Je=Qe.port2;Qe.port1.onmessage=Te,ke=function(){Je.postMessage(null)}}else ke=function(){M(Te,0)};function Ge(z,Q){J=M(function(){z(l.unstable_now())},Q)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(z){z.callback=null},l.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<z?Math.floor(1e3/z):5},l.unstable_getCurrentPriorityLevel=function(){return b},l.unstable_next=function(z){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var ae=b;b=Q;try{return z()}finally{b=ae}},l.unstable_requestPaint=function(){N=!0},l.unstable_runWithPriority=function(z,Q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ae=b;b=z;try{return Q()}finally{b=ae}},l.unstable_scheduleCallback=function(z,Q,ae){var be=l.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?be+ae:be):ae=be,z){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ae+V,z={id:w++,callback:Q,priorityLevel:z,startTime:ae,expirationTime:V,sortIndex:-1},ae>be?(z.sortIndex=ae,a(y,z),s(g)===null&&z===s(y)&&(A?(K(J),J=-1):A=!0,Ge(W,ae-be))):(z.sortIndex=V,a(g,z),_||T||(_=!0,te||(te=!0,ke()))),z},l.unstable_shouldYield=yt,l.unstable_wrapCallback=function(z){var Q=b;return function(){var ae=b;b=Q;try{return z.apply(this,arguments)}finally{b=ae}}}})(zu)),zu}var b0;function Tv(){return b0||(b0=1,Uu.exports=xv()),Uu.exports}var Mu={exports:{}},vt={};var _0;function Ev(){if(_0)return vt;_0=1;var l=oc();function a(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)y+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,y,w){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:E==null?null:""+E,children:g,containerInfo:y,implementation:w}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,vt.createPortal=function(g,y){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(a(299));return d(g,y,null,w)},vt.flushSync=function(g){var y=f.T,w=i.p;try{if(f.T=null,i.p=2,g)return g()}finally{f.T=y,i.p=w,i.d.f()}},vt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},vt.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},vt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var w=y.as,E=m(w,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,T=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;w==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:T}):w==="script"&&i.d.X(g,{crossOrigin:E,integrity:b,fetchPriority:T,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},vt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var w=m(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},vt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var w=y.as,E=m(w,y.crossOrigin);i.d.L(g,w,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},vt.preloadModule=function(g,y){if(typeof g=="string")if(y){var w=m(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},vt.requestFormReset=function(g){i.d.r(g)},vt.unstable_batchedUpdates=function(g,y){return g(y)},vt.useFormState=function(g,y,w){return f.H.useFormState(g,y,w)},vt.useFormStatus=function(){return f.H.useHostTransitionStatus()},vt.version="19.2.0",vt}var w0;function jv(){if(w0)return Mu.exports;w0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Mu.exports=Ev(),Mu.exports}var S0;function Ov(){if(S0)return Es;S0=1;var l=Tv(),a=oc(),s=jv();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(i(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return g(o),e;if(u===r)return g(o),t;u=u.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=u;else{for(var h=!1,v=o.child;v;){if(v===n){h=!0,n=o,r=u;break}if(v===r){h=!0,r=o,n=u;break}v=v.sibling}if(!h){for(v=u.child;v;){if(v===n){h=!0,n=u,r=o;break}if(v===r){h=!0,r=u,n=o;break}v=v.sibling}if(!h)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function w(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=w(e),t!==null)return t;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),q=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),je=Symbol.for("react.activity"),yt=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function ke(e){return e===null||typeof e!="object"?null:(e=Te&&e[Te]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Symbol.for("react.client.reference");function Je(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Qe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case M:return"Profiler";case N:return"StrictMode";case W:return"Suspense";case te:return"SuspenseList";case je:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case q:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return t=e.displayName||null,t!==null?t:Je(e.type)||"Memo";case fe:t=e._payload,e=e._init;try{return Je(e(t))}catch{}}return null}var Ge=Array.isArray,z=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},be=[],V=-1;function S(e){return{current:e}}function D(e){0>V||(e.current=be[V],be[V]=null,V--)}function G(e,t){V++,be[V]=e.current,e.current=t}var $=S(null),Z=S(null),de=S(null),pe=S(null);function Pe(e,t){switch(G(de,t),G(Z,e),G($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bh(t),e=qh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}D($),G($,e)}function Re(){D($),D(Z),D(de)}function Ht(e){e.memoizedState!==null&&G(pe,e);var t=$.current,n=qh(t,e.type);t!==n&&(G(Z,e),G($,n))}function $t(e){Z.current===e&&(D($),D(Z)),pe.current===e&&(D(pe),_s._currentValue=ae)}var Ft,on;function en(e){if(Ft===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ft=t&&t[1]||"",on=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ft+e+on}var la=!1;function oa(e,t){if(!e||la)return"";la=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(U){var C=U}Reflect.construct(e,[],H)}else{try{H.call()}catch(U){C=U}e.call(H.prototype)}}else{try{throw Error()}catch(U){C=U}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(U){if(U&&C&&typeof U.stack=="string")return[U.stack,C.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),h=u[0],v=u[1];if(h&&v){var x=h.split(`
`),R=v.split(`
`);for(o=r=0;r<x.length&&!x[r].includes("DetermineComponentFrameRoot");)r++;for(;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;if(r===x.length||o===R.length)for(r=x.length-1,o=R.length-1;1<=r&&0<=o&&x[r]!==R[o];)o--;for(;1<=r&&0<=o;r--,o--)if(x[r]!==R[o]){if(r!==1||o!==1)do if(r--,o--,0>o||x[r]!==R[o]){var B=`
`+x[r].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=r&&0<=o);break}}}finally{la=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?en(n):""}function vl(e,t){switch(e.tag){case 26:case 27:case 5:return en(e.type);case 16:return en("Lazy");case 13:return e.child!==t&&t!==null?en("Suspense Fallback"):en("Suspense");case 19:return en("SuspenseList");case 0:case 15:return oa(e.type,!1);case 11:return oa(e.type.render,!1);case 1:return oa(e.type,!0);case 31:return en("Activity");default:return""}}function Us(e){try{var t="",n=null;do t+=vl(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Rr=Object.prototype.hasOwnProperty,Y=l.unstable_scheduleCallback,I=l.unstable_cancelCallback,se=l.unstable_shouldYield,he=l.unstable_requestPaint,le=l.unstable_now,Be=l.unstable_getCurrentPriorityLevel,ge=l.unstable_ImmediatePriority,oe=l.unstable_UserBlockingPriority,Ke=l.unstable_NormalPriority,_t=l.unstable_LowPriority,un=l.unstable_IdlePriority,Ve=l.log,em=l.unstable_setDisableYieldValue,Cr=null,At=null;function Dn(e){if(typeof Ve=="function"&&em(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Cr,e)}catch{}}var Nt=Math.clz32?Math.clz32:am,tm=Math.log,nm=Math.LN2;function am(e){return e>>>=0,e===0?32:31-(tm(e)/nm|0)|0}var zs=256,Ms=262144,Bs=4194304;function ua(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qs(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var o=0,u=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var v=r&134217727;return v!==0?(r=v&~u,r!==0?o=ua(r):(h&=v,h!==0?o=ua(h):n||(n=v&~e,n!==0&&(o=ua(n))))):(v=r&~u,v!==0?o=ua(v):h!==0?o=ua(h):n||(n=r&~e,n!==0&&(o=ua(n)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:o}function Dr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function rm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vc(){var e=Bs;return Bs<<=1,(Bs&62914560)===0&&(Bs=4194304),e}function pl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ur(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sm(e,t,n,r,o,u){var h=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,x=e.expirationTimes,R=e.hiddenUpdates;for(n=h&~n;0<n;){var B=31-Nt(n),H=1<<B;v[B]=0,x[B]=-1;var C=R[B];if(C!==null)for(R[B]=null,B=0;B<C.length;B++){var U=C[B];U!==null&&(U.lane&=-536870913)}n&=~H}r!==0&&pc(e,r,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(h&~t))}function pc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Nt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function bc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function _c(e,t){var n=t&-t;return n=(n&42)!==0?1:bl(n),(n&(e.suspendedLanes|t))!==0?0:n}function bl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _l(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function wc(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:l0(e.type))}function Sc(e,t){var n=Q.p;try{return Q.p=e,t()}finally{Q.p=n}}var Un=Math.random().toString(36).slice(2),ct="__reactFiber$"+Un,wt="__reactProps$"+Un,Ua="__reactContainer$"+Un,wl="__reactEvents$"+Un,im="__reactListeners$"+Un,lm="__reactHandles$"+Un,xc="__reactResources$"+Un,zr="__reactMarker$"+Un;function Sl(e){delete e[ct],delete e[wt],delete e[wl],delete e[im],delete e[lm]}function za(e){var t=e[ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ua]||n[ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Kh(e);e!==null;){if(n=e[ct])return n;e=Kh(e)}return t}e=n,n=e.parentNode}return null}function Ma(e){if(e=e[ct]||e[Ua]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Mr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Ba(e){var t=e[xc];return t||(t=e[xc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ot(e){e[zr]=!0}var Tc=new Set,Ec={};function ca(e,t){qa(e,t),qa(e+"Capture",t)}function qa(e,t){for(Ec[e]=t,e=0;e<t.length;e++)Tc.add(t[e])}var om=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jc={},Oc={};function um(e){return Rr.call(Oc,e)?!0:Rr.call(jc,e)?!1:om.test(e)?Oc[e]=!0:(jc[e]=!0,!1)}function Ls(e,t,n){if(um(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Hs(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function gn(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ac(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cm(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){n=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(h){n=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xl(e){if(!e._valueTracker){var t=Ac(e)?"checked":"value";e._valueTracker=cm(e,t,""+e[t])}}function Nc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ac(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dm=/[\n"\\]/g;function Vt(e){return e.replace(dm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Tl(e,t,n,r,o,u,h,v){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?El(e,h,Gt(t)):n!=null?El(e,h,Gt(n)):r!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Gt(v):e.removeAttribute("name")}function kc(e,t,n,r,o,u,h,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){xl(e);return}n=n!=null?""+Gt(n):"",t=t!=null?""+Gt(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=v?e.checked:!!r,e.defaultChecked=!!r,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),xl(e)}function El(e,t,n){t==="number"&&$s(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function La(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Gt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Rc(e,t,n){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Gt(n):""}function Cc(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(Ge(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Gt(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),xl(e)}function Ha(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dc(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||fm.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Uc(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Dc(e,o,r)}else for(var u in t)t.hasOwnProperty(u)&&Dc(e,u,t[u])}function jl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gs(e){return gm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mn(){}var Ol=null;function Al(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $a=null,Ga=null;function zc(e){var t=Ma(e);if(t&&(e=t.stateNode)){var n=e[wt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Tl(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[wt]||null;if(!o)throw Error(i(90));Tl(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Nc(r)}break e;case"textarea":Rc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&La(e,!!n.multiple,t,!1)}}}var Nl=!1;function Mc(e,t,n){if(Nl)return e(t,n);Nl=!0;try{var r=e(t);return r}finally{if(Nl=!1,($a!==null||Ga!==null)&&(Ni(),$a&&(t=$a,e=Ga,Ga=$a=null,zc(t),e)))for(t=0;t<e.length;t++)zc(e[t])}}function Br(e,t){var n=e.stateNode;if(n===null)return null;var r=n[wt]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kl=!1;if(yn)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){kl=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{kl=!1}var zn=null,Rl=null,Vs=null;function Bc(){if(Vs)return Vs;var e,t=Rl,n=t.length,r,o="value"in zn?zn.value:zn.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var h=n-e;for(r=1;r<=h&&t[n-r]===o[u-r];r++);return Vs=o.slice(e,1<r?1-r:void 0)}function Ys(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ks(){return!0}function qc(){return!1}function St(e){function t(n,r,o,u,h){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ks:qc,this.isPropagationStopped=qc,this}return E(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),t}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=St(da),Lr=E({},da,{view:0,detail:0}),mm=St(Lr),Cl,Dl,Hr,Qs=E({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hr&&(Hr&&e.type==="mousemove"?(Cl=e.screenX-Hr.screenX,Dl=e.screenY-Hr.screenY):Dl=Cl=0,Hr=e),Cl)},movementY:function(e){return"movementY"in e?e.movementY:Dl}}),Lc=St(Qs),ym=E({},Qs,{dataTransfer:0}),vm=St(ym),pm=E({},Lr,{relatedTarget:0}),Ul=St(pm),bm=E({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),_m=St(bm),wm=E({},da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sm=St(wm),xm=E({},da,{data:0}),Hc=St(xm),Tm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Em={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Om(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jm[e])?!!t[e]:!1}function zl(){return Om}var Am=E({},Lr,{key:function(e){if(e.key){var t=Tm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Em[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zl,charCode:function(e){return e.type==="keypress"?Ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nm=St(Am),km=E({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$c=St(km),Rm=E({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zl}),Cm=St(Rm),Dm=E({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),Um=St(Dm),zm=E({},Qs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mm=St(zm),Bm=E({},da,{newState:0,oldState:0}),qm=St(Bm),Lm=[9,13,27,32],Ml=yn&&"CompositionEvent"in window,$r=null;yn&&"documentMode"in document&&($r=document.documentMode);var Hm=yn&&"TextEvent"in window&&!$r,Gc=yn&&(!Ml||$r&&8<$r&&11>=$r),Vc=" ",Yc=!1;function Kc(e,t){switch(e){case"keyup":return Lm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Va=!1;function $m(e,t){switch(e){case"compositionend":return Xc(t);case"keypress":return t.which!==32?null:(Yc=!0,Vc);case"textInput":return e=t.data,e===Vc&&Yc?null:e;default:return null}}function Gm(e,t){if(Va)return e==="compositionend"||!Ml&&Kc(e,t)?(e=Bc(),Vs=Rl=zn=null,Va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gc&&t.locale!=="ko"?null:t.data;default:return null}}var Vm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vm[e.type]:t==="textarea"}function Jc(e,t,n,r){$a?Ga?Ga.push(r):Ga=[r]:$a=r,t=Mi(t,"onChange"),0<t.length&&(n=new Xs("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gr=null,Vr=null;function Ym(e){Rh(e,0)}function Js(e){var t=Mr(e);if(Nc(t))return e}function Ic(e,t){if(e==="change")return t}var Zc=!1;if(yn){var Bl;if(yn){var ql="oninput"in document;if(!ql){var Pc=document.createElement("div");Pc.setAttribute("oninput","return;"),ql=typeof Pc.oninput=="function"}Bl=ql}else Bl=!1;Zc=Bl&&(!document.documentMode||9<document.documentMode)}function Wc(){Gr&&(Gr.detachEvent("onpropertychange",Fc),Vr=Gr=null)}function Fc(e){if(e.propertyName==="value"&&Js(Vr)){var t=[];Jc(t,Vr,e,Al(e)),Mc(Ym,t)}}function Km(e,t,n){e==="focusin"?(Wc(),Gr=t,Vr=n,Gr.attachEvent("onpropertychange",Fc)):e==="focusout"&&Wc()}function Xm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Js(Vr)}function Qm(e,t){if(e==="click")return Js(t)}function Jm(e,t){if(e==="input"||e==="change")return Js(t)}function Im(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Im;function Yr(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Rr.call(t,o)||!kt(e[o],t[o]))return!1}return!0}function ed(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function td(e,t){var n=ed(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ed(n)}}function nd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ad(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=$s(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$s(e.document)}return t}function Ll(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Zm=yn&&"documentMode"in document&&11>=document.documentMode,Ya=null,Hl=null,Kr=null,$l=!1;function rd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$l||Ya==null||Ya!==$s(r)||(r=Ya,"selectionStart"in r&&Ll(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kr&&Yr(Kr,r)||(Kr=r,r=Mi(Hl,"onSelect"),0<r.length&&(t=new Xs("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ya)))}function fa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ka={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},Gl={},sd={};yn&&(sd=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function ha(e){if(Gl[e])return Gl[e];if(!Ka[e])return e;var t=Ka[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sd)return Gl[e]=t[n];return e}var id=ha("animationend"),ld=ha("animationiteration"),od=ha("animationstart"),Pm=ha("transitionrun"),Wm=ha("transitionstart"),Fm=ha("transitioncancel"),ud=ha("transitionend"),cd=new Map,Vl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vl.push("scrollEnd");function tn(e,t){cd.set(e,t),ca(t,[e])}var Is=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yt=[],Xa=0,Yl=0;function Zs(){for(var e=Xa,t=Yl=Xa=0;t<e;){var n=Yt[t];Yt[t++]=null;var r=Yt[t];Yt[t++]=null;var o=Yt[t];Yt[t++]=null;var u=Yt[t];if(Yt[t++]=null,r!==null&&o!==null){var h=r.pending;h===null?o.next=o:(o.next=h.next,h.next=o),r.pending=o}u!==0&&dd(n,o,u)}}function Ps(e,t,n,r){Yt[Xa++]=e,Yt[Xa++]=t,Yt[Xa++]=n,Yt[Xa++]=r,Yl|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Kl(e,t,n,r){return Ps(e,t,n,r),Ws(e)}function ga(e,t){return Ps(e,null,null,t),Ws(e)}function dd(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var o=!1,u=e.return;u!==null;)u.childLanes|=n,r=u.alternate,r!==null&&(r.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-Nt(n),e=u.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=n|536870912),u):null}function Ws(e){if(50<hs)throw hs=0,tu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Qa={};function ey(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,n,r){return new ey(e,t,n,r)}function Xl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vn(e,t){var n=e.alternate;return n===null?(n=Rt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function fd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fs(e,t,n,r,o,u){var h=0;if(r=e,typeof e=="function")Xl(e)&&(h=1);else if(typeof e=="string")h=sv(e,n,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case je:return e=Rt(31,n,t,o),e.elementType=je,e.lanes=u,e;case A:return ma(n.children,o,u,t);case N:h=8,o|=24;break;case M:return e=Rt(12,n,t,o|2),e.elementType=M,e.lanes=u,e;case W:return e=Rt(13,n,t,o),e.elementType=W,e.lanes=u,e;case te:return e=Rt(19,n,t,o),e.elementType=te,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:h=10;break e;case K:h=9;break e;case X:h=11;break e;case J:h=14;break e;case fe:h=16,r=null;break e}h=29,n=Error(i(130,e===null?"null":typeof e,"")),r=null}return t=Rt(h,n,t,o),t.elementType=e,t.type=r,t.lanes=u,t}function ma(e,t,n,r){return e=Rt(7,e,r,t),e.lanes=n,e}function Ql(e,t,n){return e=Rt(6,e,null,t),e.lanes=n,e}function hd(e){var t=Rt(18,null,null,0);return t.stateNode=e,t}function Jl(e,t,n){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var gd=new WeakMap;function Kt(e,t){if(typeof e=="object"&&e!==null){var n=gd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Us(t)},gd.set(e,t),t)}return{value:e,source:t,stack:Us(t)}}var Ja=[],Ia=0,ei=null,Xr=0,Xt=[],Qt=0,Mn=null,cn=1,dn="";function pn(e,t){Ja[Ia++]=Xr,Ja[Ia++]=ei,ei=e,Xr=t}function md(e,t,n){Xt[Qt++]=cn,Xt[Qt++]=dn,Xt[Qt++]=Mn,Mn=e;var r=cn;e=dn;var o=32-Nt(r)-1;r&=~(1<<o),n+=1;var u=32-Nt(t)+o;if(30<u){var h=o-o%5;u=(r&(1<<h)-1).toString(32),r>>=h,o-=h,cn=1<<32-Nt(t)+o|n<<o|r,dn=u+e}else cn=1<<u|n<<o|r,dn=e}function Il(e){e.return!==null&&(pn(e,1),md(e,1,0))}function Zl(e){for(;e===ei;)ei=Ja[--Ia],Ja[Ia]=null,Xr=Ja[--Ia],Ja[Ia]=null;for(;e===Mn;)Mn=Xt[--Qt],Xt[Qt]=null,dn=Xt[--Qt],Xt[Qt]=null,cn=Xt[--Qt],Xt[Qt]=null}function yd(e,t){Xt[Qt++]=cn,Xt[Qt++]=dn,Xt[Qt++]=Mn,cn=t.id,dn=t.overflow,Mn=e}var dt=null,He=null,Ee=!1,Bn=null,Jt=!1,Pl=Error(i(519));function qn(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qr(Kt(t,e)),Pl}function vd(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ct]=e,t[wt]=r,n){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(n=0;n<ms.length;n++)we(ms[n],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),kc(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),Cc(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||zh(t.textContent,n)?(r.popover!=null&&(we("beforetoggle",t),we("toggle",t)),r.onScroll!=null&&we("scroll",t),r.onScrollEnd!=null&&we("scrollend",t),r.onClick!=null&&(t.onclick=mn),t=!0):t=!1,t||qn(e,!0)}function pd(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 31:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:dt=dt.return}}function Za(e){if(e!==dt)return!1;if(!Ee)return pd(e),Ee=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||yu(e.type,e.memoizedProps)),n=!n),n&&He&&qn(e),pd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));He=Yh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));He=Yh(e)}else t===27?(t=He,Wn(e.type)?(e=wu,wu=null,He=e):He=t):He=dt?Zt(e.stateNode.nextSibling):null;return!0}function ya(){He=dt=null,Ee=!1}function Wl(){var e=Bn;return e!==null&&(jt===null?jt=e:jt.push.apply(jt,e),Bn=null),e}function Qr(e){Bn===null?Bn=[e]:Bn.push(e)}var Fl=S(null),va=null,bn=null;function Ln(e,t,n){G(Fl,t._currentValue),t._currentValue=n}function _n(e){e._currentValue=Fl.current,D(Fl)}function eo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function to(e,t,n,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var h=o.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=o;for(var x=0;x<t.length;x++)if(v.context===t[x]){u.lanes|=n,v=u.alternate,v!==null&&(v.lanes|=n),eo(u.return,n,e),r||(h=null);break e}u=v.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(i(341));h.lanes|=n,u=h.alternate,u!==null&&(u.lanes|=n),eo(h,n,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function Pa(e,t,n,r){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(i(387));if(h=h.memoizedProps,h!==null){var v=o.type;kt(o.pendingProps.value,h.value)||(e!==null?e.push(v):e=[v])}}else if(o===pe.current){if(h=o.alternate,h===null)throw Error(i(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(_s):e=[_s])}o=o.return}e!==null&&to(t,e,n,r),t.flags|=262144}function ti(e){for(e=e.firstContext;e!==null;){if(!kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function pa(e){va=e,bn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return bd(va,e)}function ni(e,t){return va===null&&pa(e),bd(e,t)}function bd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},bn===null){if(e===null)throw Error(i(308));bn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bn=bn.next=t;return n}var ty=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},ny=l.unstable_scheduleCallback,ay=l.unstable_NormalPriority,et={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function no(){return{controller:new ty,data:new Map,refCount:0}}function Jr(e){e.refCount--,e.refCount===0&&ny(ay,function(){e.controller.abort()})}var Ir=null,ao=0,Wa=0,Fa=null;function ry(e,t){if(Ir===null){var n=Ir=[];ao=0,Wa=lu(),Fa={status:"pending",value:void 0,then:function(r){n.push(r)}}}return ao++,t.then(_d,_d),t}function _d(){if(--ao===0&&Ir!==null){Fa!==null&&(Fa.status="fulfilled");var e=Ir;Ir=null,Wa=0,Fa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function sy(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),r}var wd=z.S;z.S=function(e,t){sh=le(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ry(e,t),wd!==null&&wd(e,t)};var ba=S(null);function ro(){var e=ba.current;return e!==null?e:qe.pooledCache}function ai(e,t){t===null?G(ba,ba.current):G(ba,t.pool)}function Sd(){var e=ro();return e===null?null:{parent:et._currentValue,pool:e}}var er=Error(i(460)),so=Error(i(474)),ri=Error(i(542)),si={then:function(){}};function xd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Td(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(mn,mn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jd(e),e;default:if(typeof t.status=="string")t.then(mn,mn);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jd(e),e}throw wa=t,er}}function _a(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(wa=n,er):n}}var wa=null;function Ed(){if(wa===null)throw Error(i(459));var e=wa;return wa=null,e}function jd(e){if(e===er||e===ri)throw Error(i(483))}var tr=null,Zr=0;function ii(e){var t=Zr;return Zr+=1,tr===null&&(tr=[]),Td(tr,e,t)}function Pr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function li(e,t){throw t.$$typeof===b?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Od(e){function t(O,j){if(e){var k=O.deletions;k===null?(O.deletions=[j],O.flags|=16):k.push(j)}}function n(O,j){if(!e)return null;for(;j!==null;)t(O,j),j=j.sibling;return null}function r(O){for(var j=new Map;O!==null;)O.key!==null?j.set(O.key,O):j.set(O.index,O),O=O.sibling;return j}function o(O,j){return O=vn(O,j),O.index=0,O.sibling=null,O}function u(O,j,k){return O.index=k,e?(k=O.alternate,k!==null?(k=k.index,k<j?(O.flags|=67108866,j):k):(O.flags|=67108866,j)):(O.flags|=1048576,j)}function h(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function v(O,j,k,L){return j===null||j.tag!==6?(j=Ql(k,O.mode,L),j.return=O,j):(j=o(j,k),j.return=O,j)}function x(O,j,k,L){var ie=k.type;return ie===A?B(O,j,k.props.children,L,k.key):j!==null&&(j.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===fe&&_a(ie)===j.type)?(j=o(j,k.props),Pr(j,k),j.return=O,j):(j=Fs(k.type,k.key,k.props,null,O.mode,L),Pr(j,k),j.return=O,j)}function R(O,j,k,L){return j===null||j.tag!==4||j.stateNode.containerInfo!==k.containerInfo||j.stateNode.implementation!==k.implementation?(j=Jl(k,O.mode,L),j.return=O,j):(j=o(j,k.children||[]),j.return=O,j)}function B(O,j,k,L,ie){return j===null||j.tag!==7?(j=ma(k,O.mode,L,ie),j.return=O,j):(j=o(j,k),j.return=O,j)}function H(O,j,k){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Ql(""+j,O.mode,k),j.return=O,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return k=Fs(j.type,j.key,j.props,null,O.mode,k),Pr(k,j),k.return=O,k;case _:return j=Jl(j,O.mode,k),j.return=O,j;case fe:return j=_a(j),H(O,j,k)}if(Ge(j)||ke(j))return j=ma(j,O.mode,k,null),j.return=O,j;if(typeof j.then=="function")return H(O,ii(j),k);if(j.$$typeof===q)return H(O,ni(O,j),k);li(O,j)}return null}function C(O,j,k,L){var ie=j!==null?j.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ie!==null?null:v(O,j,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case T:return k.key===ie?x(O,j,k,L):null;case _:return k.key===ie?R(O,j,k,L):null;case fe:return k=_a(k),C(O,j,k,L)}if(Ge(k)||ke(k))return ie!==null?null:B(O,j,k,L,null);if(typeof k.then=="function")return C(O,j,ii(k),L);if(k.$$typeof===q)return C(O,j,ni(O,k),L);li(O,k)}return null}function U(O,j,k,L,ie){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return O=O.get(k)||null,v(j,O,""+L,ie);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return O=O.get(L.key===null?k:L.key)||null,x(j,O,L,ie);case _:return O=O.get(L.key===null?k:L.key)||null,R(j,O,L,ie);case fe:return L=_a(L),U(O,j,k,L,ie)}if(Ge(L)||ke(L))return O=O.get(k)||null,B(j,O,L,ie,null);if(typeof L.then=="function")return U(O,j,k,ii(L),ie);if(L.$$typeof===q)return U(O,j,k,ni(j,L),ie);li(j,L)}return null}function F(O,j,k,L){for(var ie=null,Oe=null,ne=j,ve=j=0,xe=null;ne!==null&&ve<k.length;ve++){ne.index>ve?(xe=ne,ne=null):xe=ne.sibling;var Ae=C(O,ne,k[ve],L);if(Ae===null){ne===null&&(ne=xe);break}e&&ne&&Ae.alternate===null&&t(O,ne),j=u(Ae,j,ve),Oe===null?ie=Ae:Oe.sibling=Ae,Oe=Ae,ne=xe}if(ve===k.length)return n(O,ne),Ee&&pn(O,ve),ie;if(ne===null){for(;ve<k.length;ve++)ne=H(O,k[ve],L),ne!==null&&(j=u(ne,j,ve),Oe===null?ie=ne:Oe.sibling=ne,Oe=ne);return Ee&&pn(O,ve),ie}for(ne=r(ne);ve<k.length;ve++)xe=U(ne,O,ve,k[ve],L),xe!==null&&(e&&xe.alternate!==null&&ne.delete(xe.key===null?ve:xe.key),j=u(xe,j,ve),Oe===null?ie=xe:Oe.sibling=xe,Oe=xe);return e&&ne.forEach(function(aa){return t(O,aa)}),Ee&&pn(O,ve),ie}function ue(O,j,k,L){if(k==null)throw Error(i(151));for(var ie=null,Oe=null,ne=j,ve=j=0,xe=null,Ae=k.next();ne!==null&&!Ae.done;ve++,Ae=k.next()){ne.index>ve?(xe=ne,ne=null):xe=ne.sibling;var aa=C(O,ne,Ae.value,L);if(aa===null){ne===null&&(ne=xe);break}e&&ne&&aa.alternate===null&&t(O,ne),j=u(aa,j,ve),Oe===null?ie=aa:Oe.sibling=aa,Oe=aa,ne=xe}if(Ae.done)return n(O,ne),Ee&&pn(O,ve),ie;if(ne===null){for(;!Ae.done;ve++,Ae=k.next())Ae=H(O,Ae.value,L),Ae!==null&&(j=u(Ae,j,ve),Oe===null?ie=Ae:Oe.sibling=Ae,Oe=Ae);return Ee&&pn(O,ve),ie}for(ne=r(ne);!Ae.done;ve++,Ae=k.next())Ae=U(ne,O,ve,Ae.value,L),Ae!==null&&(e&&Ae.alternate!==null&&ne.delete(Ae.key===null?ve:Ae.key),j=u(Ae,j,ve),Oe===null?ie=Ae:Oe.sibling=Ae,Oe=Ae);return e&&ne.forEach(function(yv){return t(O,yv)}),Ee&&pn(O,ve),ie}function Me(O,j,k,L){if(typeof k=="object"&&k!==null&&k.type===A&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case T:e:{for(var ie=k.key;j!==null;){if(j.key===ie){if(ie=k.type,ie===A){if(j.tag===7){n(O,j.sibling),L=o(j,k.props.children),L.return=O,O=L;break e}}else if(j.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===fe&&_a(ie)===j.type){n(O,j.sibling),L=o(j,k.props),Pr(L,k),L.return=O,O=L;break e}n(O,j);break}else t(O,j);j=j.sibling}k.type===A?(L=ma(k.props.children,O.mode,L,k.key),L.return=O,O=L):(L=Fs(k.type,k.key,k.props,null,O.mode,L),Pr(L,k),L.return=O,O=L)}return h(O);case _:e:{for(ie=k.key;j!==null;){if(j.key===ie)if(j.tag===4&&j.stateNode.containerInfo===k.containerInfo&&j.stateNode.implementation===k.implementation){n(O,j.sibling),L=o(j,k.children||[]),L.return=O,O=L;break e}else{n(O,j);break}else t(O,j);j=j.sibling}L=Jl(k,O.mode,L),L.return=O,O=L}return h(O);case fe:return k=_a(k),Me(O,j,k,L)}if(Ge(k))return F(O,j,k,L);if(ke(k)){if(ie=ke(k),typeof ie!="function")throw Error(i(150));return k=ie.call(k),ue(O,j,k,L)}if(typeof k.then=="function")return Me(O,j,ii(k),L);if(k.$$typeof===q)return Me(O,j,ni(O,k),L);li(O,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,j!==null&&j.tag===6?(n(O,j.sibling),L=o(j,k),L.return=O,O=L):(n(O,j),L=Ql(k,O.mode,L),L.return=O,O=L),h(O)):n(O,j)}return function(O,j,k,L){try{Zr=0;var ie=Me(O,j,k,L);return tr=null,ie}catch(ne){if(ne===er||ne===ri)throw ne;var Oe=Rt(29,ne,null,O.mode);return Oe.lanes=L,Oe.return=O,Oe}finally{}}}var Sa=Od(!0),Ad=Od(!1),Hn=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $n(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ne&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Ws(e),dd(e,null,n),t}return Ps(e,r,t,n),Ws(e)}function Wr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bc(e,n)}}function oo(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var h={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?o=u=h:u=u.next=h,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var uo=!1;function Fr(){if(uo){var e=Fa;if(e!==null)throw e}}function es(e,t,n,r){uo=!1;var o=e.updateQueue;Hn=!1;var u=o.firstBaseUpdate,h=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var x=v,R=x.next;x.next=null,h===null?u=R:h.next=R,h=x;var B=e.alternate;B!==null&&(B=B.updateQueue,v=B.lastBaseUpdate,v!==h&&(v===null?B.firstBaseUpdate=R:v.next=R,B.lastBaseUpdate=x))}if(u!==null){var H=o.baseState;h=0,B=R=x=null,v=u;do{var C=v.lane&-536870913,U=C!==v.lane;if(U?(Se&C)===C:(r&C)===C){C!==0&&C===Wa&&(uo=!0),B!==null&&(B=B.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var F=e,ue=v;C=t;var Me=n;switch(ue.tag){case 1:if(F=ue.payload,typeof F=="function"){H=F.call(Me,H,C);break e}H=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=ue.payload,C=typeof F=="function"?F.call(Me,H,C):F,C==null)break e;H=E({},H,C);break e;case 2:Hn=!0}}C=v.callback,C!==null&&(e.flags|=64,U&&(e.flags|=8192),U=o.callbacks,U===null?o.callbacks=[C]:U.push(C))}else U={lane:C,tag:v.tag,payload:v.payload,callback:v.callback,next:null},B===null?(R=B=U,x=H):B=B.next=U,h|=C;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;U=v,v=U.next,U.next=null,o.lastBaseUpdate=U,o.shared.pending=null}}while(!0);B===null&&(x=H),o.baseState=x,o.firstBaseUpdate=R,o.lastBaseUpdate=B,u===null&&(o.shared.lanes=0),Qn|=h,e.lanes=h,e.memoizedState=H}}function Nd(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function kd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Nd(n[e],t)}var nr=S(null),oi=S(0);function Rd(e,t){e=Nn,G(oi,e),G(nr,t),Nn=e|t.baseLanes}function co(){G(oi,Nn),G(nr,nr.current)}function fo(){Nn=oi.current,D(nr),D(oi)}var Ct=S(null),It=null;function Vn(e){var t=e.alternate;G(We,We.current&1),G(Ct,e),It===null&&(t===null||nr.current!==null||t.memoizedState!==null)&&(It=e)}function ho(e){G(We,We.current),G(Ct,e),It===null&&(It=e)}function Cd(e){e.tag===22?(G(We,We.current),G(Ct,e),It===null&&(It=e)):Yn()}function Yn(){G(We,We.current),G(Ct,Ct.current)}function Dt(e){D(Ct),It===e&&(It=null),D(We)}var We=S(0);function ui(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||bu(n)||_u(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wn=0,ye=null,Ue=null,tt=null,ci=!1,ar=!1,xa=!1,di=0,ts=0,rr=null,iy=0;function Ie(){throw Error(i(321))}function go(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function mo(e,t,n,r,o,u){return wn=u,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?yf:ko,xa=!1,u=n(r,o),xa=!1,ar&&(u=Ud(t,n,r,o)),Dd(e),u}function Dd(e){z.H=rs;var t=Ue!==null&&Ue.next!==null;if(wn=0,tt=Ue=ye=null,ci=!1,ts=0,rr=null,t)throw Error(i(300));e===null||nt||(e=e.dependencies,e!==null&&ti(e)&&(nt=!0))}function Ud(e,t,n,r){ye=e;var o=0;do{if(ar&&(rr=null),ts=0,ar=!1,25<=o)throw Error(i(301));if(o+=1,tt=Ue=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}z.H=vf,u=t(n,r)}while(ar);return u}function ly(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?ns(t):t,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(ye.flags|=1024),t}function yo(){var e=di!==0;return di=0,e}function vo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function po(e){if(ci){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ci=!1}wn=0,tt=Ue=ye=null,ar=!1,ts=di=0,rr=null}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?ye.memoizedState=tt=e:tt=tt.next=e,tt}function Fe(){if(Ue===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=tt===null?ye.memoizedState:tt.next;if(t!==null)tt=t,Ue=e;else{if(e===null)throw ye.alternate===null?Error(i(467)):Error(i(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},tt===null?ye.memoizedState=tt=e:tt=tt.next=e}return tt}function fi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ns(e){var t=ts;return ts+=1,rr===null&&(rr=[]),e=Td(rr,e,t),t=ye,(tt===null?t.memoizedState:tt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?yf:ko),e}function hi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ns(e);if(e.$$typeof===q)return ft(e)}throw Error(i(438,String(e)))}function bo(e){var t=null,n=ye.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=ye.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=fi(),ye.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=yt;return t.index++,n}function Sn(e,t){return typeof t=="function"?t(e):t}function gi(e){var t=Fe();return _o(t,Ue,e)}function _o(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var o=e.baseQueue,u=r.pending;if(u!==null){if(o!==null){var h=o.next;o.next=u.next,u.next=h}t.baseQueue=o=u,r.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var v=h=null,x=null,R=t,B=!1;do{var H=R.lane&-536870913;if(H!==R.lane?(Se&H)===H:(wn&H)===H){var C=R.revertLane;if(C===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),H===Wa&&(B=!0);else if((wn&C)===C){R=R.next,C===Wa&&(B=!0);continue}else H={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},x===null?(v=x=H,h=u):x=x.next=H,ye.lanes|=C,Qn|=C;H=R.action,xa&&n(u,H),u=R.hasEagerState?R.eagerState:n(u,H)}else C={lane:H,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},x===null?(v=x=C,h=u):x=x.next=C,ye.lanes|=H,Qn|=H;R=R.next}while(R!==null&&R!==t);if(x===null?h=u:x.next=v,!kt(u,e.memoizedState)&&(nt=!0,B&&(n=Fa,n!==null)))throw n;e.memoizedState=u,e.baseState=h,e.baseQueue=x,r.lastRenderedState=u}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function wo(e){var t=Fe(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var h=o=o.next;do u=e(u,h.action),h=h.next;while(h!==o);kt(u,t.memoizedState)||(nt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,r]}function zd(e,t,n){var r=ye,o=Fe(),u=Ee;if(u){if(n===void 0)throw Error(i(407));n=n()}else n=t();var h=!kt((Ue||o).memoizedState,n);if(h&&(o.memoizedState=n,nt=!0),o=o.queue,To(qd.bind(null,r,o,e),[e]),o.getSnapshot!==t||h||tt!==null&&tt.memoizedState.tag&1){if(r.flags|=2048,sr(9,{destroy:void 0},Bd.bind(null,r,o,n,t),null),qe===null)throw Error(i(349));u||(wn&127)!==0||Md(r,t,n)}return n}function Md(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t=fi(),ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bd(e,t,n,r){t.value=n,t.getSnapshot=r,Ld(t)&&Hd(e)}function qd(e,t,n){return n(function(){Ld(t)&&Hd(e)})}function Ld(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function Hd(e){var t=ga(e,2);t!==null&&Ot(t,e,2)}function So(e){var t=bt();if(typeof e=="function"){var n=e;if(e=n(),xa){Dn(!0);try{n()}finally{Dn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:e},t}function $d(e,t,n,r){return e.baseState=n,_o(e,Ue,typeof r=="function"?r:Sn)}function oy(e,t,n,r,o){if(vi(e))throw Error(i(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){u.listeners.push(h)}};z.T!==null?n(!0):u.isTransition=!1,r(u),n=t.pending,n===null?(u.next=t.pending=u,Gd(t,u)):(u.next=n.next,t.pending=n.next=u)}}function Gd(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var u=z.T,h={};z.T=h;try{var v=n(o,r),x=z.S;x!==null&&x(h,v),Vd(e,t,v)}catch(R){xo(e,t,R)}finally{u!==null&&h.types!==null&&(u.types=h.types),z.T=u}}else try{u=n(o,r),Vd(e,t,u)}catch(R){xo(e,t,R)}}function Vd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Yd(e,t,r)},function(r){return xo(e,t,r)}):Yd(e,t,n)}function Yd(e,t,n){t.status="fulfilled",t.value=n,Kd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Gd(e,n)))}function xo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,Kd(t),t=t.next;while(t!==r)}e.action=null}function Kd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Xd(e,t){return t}function Qd(e,t){if(Ee){var n=qe.formState;if(n!==null){e:{var r=ye;if(Ee){if(He){t:{for(var o=He,u=Jt;o.nodeType!==8;){if(!u){o=null;break t}if(o=Zt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){He=Zt(o.nextSibling),r=o.data==="F!";break e}}qn(r)}r=!1}r&&(t=n[0])}}return n=bt(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xd,lastRenderedState:t},n.queue=r,n=hf.bind(null,ye,r),r.dispatch=n,r=So(!1),u=No.bind(null,ye,!1,r.queue),r=bt(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,n=oy.bind(null,ye,o,u,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Jd(e){var t=Fe();return Id(t,Ue,e)}function Id(e,t,n){if(t=_o(e,t,Xd)[0],e=gi(Sn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=ns(t)}catch(h){throw h===er?ri:h}else r=t;t=Fe();var o=t.queue,u=o.dispatch;return n!==t.memoizedState&&(ye.flags|=2048,sr(9,{destroy:void 0},uy.bind(null,o,n),null)),[r,u,e]}function uy(e,t){e.action=t}function Zd(e){var t=Fe(),n=Ue;if(n!==null)return Id(t,n,e);Fe(),t=t.memoizedState,n=Fe();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function sr(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=ye.updateQueue,t===null&&(t=fi(),ye.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pd(){return Fe().memoizedState}function mi(e,t,n,r){var o=bt();ye.flags|=e,o.memoizedState=sr(1|t,{destroy:void 0},n,r===void 0?null:r)}function yi(e,t,n,r){var o=Fe();r=r===void 0?null:r;var u=o.memoizedState.inst;Ue!==null&&r!==null&&go(r,Ue.memoizedState.deps)?o.memoizedState=sr(t,u,n,r):(ye.flags|=e,o.memoizedState=sr(1|t,u,n,r))}function Wd(e,t){mi(8390656,8,e,t)}function To(e,t){yi(2048,8,e,t)}function cy(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=fi(),ye.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Fd(e){var t=Fe().memoizedState;return cy({ref:t,nextImpl:e}),function(){if((Ne&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function ef(e,t){return yi(4,2,e,t)}function tf(e,t){return yi(4,4,e,t)}function nf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function af(e,t,n){n=n!=null?n.concat([e]):null,yi(4,4,nf.bind(null,t,e),n)}function Eo(){}function rf(e,t){var n=Fe();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sf(e,t){var n=Fe();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&go(t,r[1]))return r[0];if(r=e(),xa){Dn(!0);try{e()}finally{Dn(!1)}}return n.memoizedState=[r,t],r}function jo(e,t,n){return n===void 0||(wn&1073741824)!==0&&(Se&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=lh(),ye.lanes|=e,Qn|=e,n)}function lf(e,t,n,r){return kt(n,t)?n:nr.current!==null?(e=jo(e,n,r),kt(e,t)||(nt=!0),e):(wn&42)===0||(wn&1073741824)!==0&&(Se&261930)===0?(nt=!0,e.memoizedState=n):(e=lh(),ye.lanes|=e,Qn|=e,t)}function of(e,t,n,r,o){var u=Q.p;Q.p=u!==0&&8>u?u:8;var h=z.T,v={};z.T=v,No(e,!1,t,n);try{var x=o(),R=z.S;if(R!==null&&R(v,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var B=sy(x,r);as(e,t,B,Mt(e))}else as(e,t,r,Mt(e))}catch(H){as(e,t,{then:function(){},status:"rejected",reason:H},Mt())}finally{Q.p=u,h!==null&&v.types!==null&&(h.types=v.types),z.T=h}}function dy(){}function Oo(e,t,n,r){if(e.tag!==5)throw Error(i(476));var o=uf(e).queue;of(e,o,t,ae,n===null?dy:function(){return cf(e),n(r)})}function uf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:ae},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function cf(e){var t=uf(e);t.next===null&&(t=e.alternate.memoizedState),as(e,t.next.queue,{},Mt())}function Ao(){return ft(_s)}function df(){return Fe().memoizedState}function ff(){return Fe().memoizedState}function fy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Mt();e=$n(n);var r=Gn(t,e,n);r!==null&&(Ot(r,t,n),Wr(r,t,n)),t={cache:no()},e.payload=t;return}t=t.return}}function hy(e,t,n){var r=Mt();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},vi(e)?gf(t,n):(n=Kl(e,t,n,r),n!==null&&(Ot(n,e,r),mf(n,t,r)))}function hf(e,t,n){var r=Mt();as(e,t,n,r)}function as(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(vi(e))gf(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,v=u(h,n);if(o.hasEagerState=!0,o.eagerState=v,kt(v,h))return Ps(e,t,o,0),qe===null&&Zs(),!1}catch{}finally{}if(n=Kl(e,t,o,r),n!==null)return Ot(n,e,r),mf(n,t,r),!0}return!1}function No(e,t,n,r){if(r={lane:2,revertLane:lu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},vi(e)){if(t)throw Error(i(479))}else t=Kl(e,n,r,2),t!==null&&Ot(t,e,2)}function vi(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function gf(e,t){ar=ci=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mf(e,t,n){if((n&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bc(e,n)}}var rs={readContext:ft,use:hi,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};rs.useEffectEvent=Ie;var yf={readContext:ft,use:hi,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:Wd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,mi(4194308,4,nf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mi(4194308,4,e,t)},useInsertionEffect:function(e,t){mi(4,2,e,t)},useMemo:function(e,t){var n=bt();t=t===void 0?null:t;var r=e();if(xa){Dn(!0);try{e()}finally{Dn(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=bt();if(n!==void 0){var o=n(t);if(xa){Dn(!0);try{n(t)}finally{Dn(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=hy.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:function(e){e=So(e);var t=e.queue,n=hf.bind(null,ye,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Eo,useDeferredValue:function(e,t){var n=bt();return jo(n,e,t)},useTransition:function(){var e=So(!1);return e=of.bind(null,ye,e.queue,!0,!1),bt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ye,o=bt();if(Ee){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),qe===null)throw Error(i(349));(Se&127)!==0||Md(r,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,Wd(qd.bind(null,r,u,e),[e]),r.flags|=2048,sr(9,{destroy:void 0},Bd.bind(null,r,u,n,t),null),n},useId:function(){var e=bt(),t=qe.identifierPrefix;if(Ee){var n=dn,r=cn;n=(r&~(1<<32-Nt(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=di++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=iy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ao,useFormState:Qd,useActionState:Qd,useOptimistic:function(e){var t=bt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=No.bind(null,ye,!0,n),n.dispatch=t,[e,t]},useMemoCache:bo,useCacheRefresh:function(){return bt().memoizedState=fy.bind(null,ye)},useEffectEvent:function(e){var t=bt(),n={impl:e};return t.memoizedState=n,function(){if((Ne&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},ko={readContext:ft,use:hi,useCallback:rf,useContext:ft,useEffect:To,useImperativeHandle:af,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:sf,useReducer:gi,useRef:Pd,useState:function(){return gi(Sn)},useDebugValue:Eo,useDeferredValue:function(e,t){var n=Fe();return lf(n,Ue.memoizedState,e,t)},useTransition:function(){var e=gi(Sn)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:ns(e),t]},useSyncExternalStore:zd,useId:df,useHostTransitionStatus:Ao,useFormState:Jd,useActionState:Jd,useOptimistic:function(e,t){var n=Fe();return $d(n,Ue,e,t)},useMemoCache:bo,useCacheRefresh:ff};ko.useEffectEvent=Fd;var vf={readContext:ft,use:hi,useCallback:rf,useContext:ft,useEffect:To,useImperativeHandle:af,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:sf,useReducer:wo,useRef:Pd,useState:function(){return wo(Sn)},useDebugValue:Eo,useDeferredValue:function(e,t){var n=Fe();return Ue===null?jo(n,e,t):lf(n,Ue.memoizedState,e,t)},useTransition:function(){var e=wo(Sn)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:ns(e),t]},useSyncExternalStore:zd,useId:df,useHostTransitionStatus:Ao,useFormState:Zd,useActionState:Zd,useOptimistic:function(e,t){var n=Fe();return Ue!==null?$d(n,Ue,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:bo,useCacheRefresh:ff};vf.useEffectEvent=Fd;function Ro(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:E({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Co={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mt(),o=$n(r);o.payload=t,n!=null&&(o.callback=n),t=Gn(e,o,r),t!==null&&(Ot(t,e,r),Wr(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mt(),o=$n(r);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Gn(e,o,r),t!==null&&(Ot(t,e,r),Wr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mt(),r=$n(n);r.tag=2,t!=null&&(r.callback=t),t=Gn(e,r,n),t!==null&&(Ot(t,e,n),Wr(t,e,n))}};function pf(e,t,n,r,o,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,h):t.prototype&&t.prototype.isPureReactComponent?!Yr(n,r)||!Yr(o,u):!0}function bf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Co.enqueueReplaceState(t,t.state,null)}function Ta(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=E({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function _f(e){Is(e)}function wf(e){console.error(e)}function Sf(e){Is(e)}function pi(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function xf(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Do(e,t,n){return n=$n(n),n.tag=3,n.payload={element:null},n.callback=function(){pi(e,t)},n}function Tf(e){return e=$n(e),e.tag=3,e}function Ef(e,t,n,r){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var u=r.value;e.payload=function(){return o(u)},e.callback=function(){xf(t,n,r)}}var h=n.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){xf(t,n,r),typeof o!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})})}function gy(e,t,n,r,o){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Pa(t,n,o,!0),n=Ct.current,n!==null){switch(n.tag){case 31:case 13:return It===null?ki():n.alternate===null&&Ze===0&&(Ze=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===si?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),ru(e,r,o)),!1;case 22:return n.flags|=65536,r===si?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),ru(e,r,o)),!1}throw Error(i(435,n.tag))}return ru(e,r,o),ki(),!1}if(Ee)return t=Ct.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==Pl&&(e=Error(i(422),{cause:r}),Qr(Kt(e,n)))):(r!==Pl&&(t=Error(i(423),{cause:r}),Qr(Kt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=Kt(r,n),o=Do(e.stateNode,r,o),oo(e,o),Ze!==4&&(Ze=2)),!1;var u=Error(i(520),{cause:r});if(u=Kt(u,n),fs===null?fs=[u]:fs.push(u),Ze!==4&&(Ze=2),t===null)return!0;r=Kt(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=Do(n.stateNode,r,e),oo(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Jn===null||!Jn.has(u))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Tf(o),Ef(o,e,n,r),oo(n,o),!1}n=n.return}while(n!==null);return!1}var Uo=Error(i(461)),nt=!1;function ht(e,t,n,r){t.child=e===null?Ad(t,null,n,r):Sa(t,e.child,n,r)}function jf(e,t,n,r,o){n=n.render;var u=t.ref;if("ref"in r){var h={};for(var v in r)v!=="ref"&&(h[v]=r[v])}else h=r;return pa(t),r=mo(e,t,n,h,u,o),v=yo(),e!==null&&!nt?(vo(e,t,o),xn(e,t,o)):(Ee&&v&&Il(t),t.flags|=1,ht(e,t,r,o),t.child)}function Of(e,t,n,r,o){if(e===null){var u=n.type;return typeof u=="function"&&!Xl(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,Af(e,t,u,r,o)):(e=Fs(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Go(e,o)){var h=u.memoizedProps;if(n=n.compare,n=n!==null?n:Yr,n(h,r)&&e.ref===t.ref)return xn(e,t,o)}return t.flags|=1,e=vn(u,r),e.ref=t.ref,e.return=t,t.child=e}function Af(e,t,n,r,o){if(e!==null){var u=e.memoizedProps;if(Yr(u,r)&&e.ref===t.ref)if(nt=!1,t.pendingProps=r=u,Go(e,o))(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,xn(e,t,o)}return zo(e,t,n,r,o)}function Nf(e,t,n,r){var o=r.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~u}else r=0,t.child=null;return kf(e,t,u,n,r)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ai(t,u!==null?u.cachePool:null),u!==null?Rd(t,u):co(),Cd(t);else return r=t.lanes=536870912,kf(e,t,u!==null?u.baseLanes|n:n,n,r)}else u!==null?(ai(t,u.cachePool),Rd(t,u),Yn(),t.memoizedState=null):(e!==null&&ai(t,null),co(),Yn());return ht(e,t,o,n),t.child}function ss(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function kf(e,t,n,r,o){var u=ro();return u=u===null?null:{parent:et._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&ai(t,null),co(),Cd(t),e!==null&&Pa(e,t,r,!0),t.childLanes=o,null}function bi(e,t){return t=wi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Rf(e,t,n){return Sa(t,e.child,null,n),e=bi(t,t.pendingProps),e.flags|=2,Dt(t),t.memoizedState=null,e}function my(e,t,n){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ee){if(r.mode==="hidden")return e=bi(t,r),t.lanes=536870912,ss(null,e);if(ho(t),(e=He)?(e=Vh(e,Jt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Mn!==null?{id:cn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},n=hd(e),n.return=t,t.child=n,dt=t,He=null)):e=null,e===null)throw qn(t);return t.lanes=536870912,null}return bi(t,r)}var u=e.memoizedState;if(u!==null){var h=u.dehydrated;if(ho(t),o)if(t.flags&256)t.flags&=-257,t=Rf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(nt||Pa(e,t,n,!1),o=(n&e.childLanes)!==0,nt||o){if(r=qe,r!==null&&(h=_c(r,n),h!==0&&h!==u.retryLane))throw u.retryLane=h,ga(e,h),Ot(r,e,h),Uo;ki(),t=Rf(e,t,n)}else e=u.treeContext,He=Zt(h.nextSibling),dt=t,Ee=!0,Bn=null,Jt=!1,e!==null&&yd(t,e),t=bi(t,r),t.flags|=4096;return t}return e=vn(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function _i(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function zo(e,t,n,r,o){return pa(t),n=mo(e,t,n,r,void 0,o),r=yo(),e!==null&&!nt?(vo(e,t,o),xn(e,t,o)):(Ee&&r&&Il(t),t.flags|=1,ht(e,t,n,o),t.child)}function Cf(e,t,n,r,o,u){return pa(t),t.updateQueue=null,n=Ud(t,r,n,o),Dd(e),r=yo(),e!==null&&!nt?(vo(e,t,u),xn(e,t,u)):(Ee&&r&&Il(t),t.flags|=1,ht(e,t,n,u),t.child)}function Df(e,t,n,r,o){if(pa(t),t.stateNode===null){var u=Qa,h=n.contextType;typeof h=="object"&&h!==null&&(u=ft(h)),u=new n(r,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Co,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=r,u.state=t.memoizedState,u.refs={},io(t),h=n.contextType,u.context=typeof h=="object"&&h!==null?ft(h):Qa,u.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(Ro(t,n,h,r),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(h=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),h!==u.state&&Co.enqueueReplaceState(u,u.state,null),es(t,r,u,o),Fr(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,x=Ta(n,v);u.props=x;var R=u.context,B=n.contextType;h=Qa,typeof B=="object"&&B!==null&&(h=ft(B));var H=n.getDerivedStateFromProps;B=typeof H=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,B||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||R!==h)&&bf(t,u,r,h),Hn=!1;var C=t.memoizedState;u.state=C,es(t,r,u,o),Fr(),R=t.memoizedState,v||C!==R||Hn?(typeof H=="function"&&(Ro(t,n,H,r),R=t.memoizedState),(x=Hn||pf(t,n,x,r,C,R,h))?(B||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=R),u.props=r,u.state=R,u.context=h,r=x):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,lo(e,t),h=t.memoizedProps,B=Ta(n,h),u.props=B,H=t.pendingProps,C=u.context,R=n.contextType,x=Qa,typeof R=="object"&&R!==null&&(x=ft(R)),v=n.getDerivedStateFromProps,(R=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==H||C!==x)&&bf(t,u,r,x),Hn=!1,C=t.memoizedState,u.state=C,es(t,r,u,o),Fr();var U=t.memoizedState;h!==H||C!==U||Hn||e!==null&&e.dependencies!==null&&ti(e.dependencies)?(typeof v=="function"&&(Ro(t,n,v,r),U=t.memoizedState),(B=Hn||pf(t,n,B,r,C,U,x)||e!==null&&e.dependencies!==null&&ti(e.dependencies))?(R||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,U,x),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,U,x)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=U),u.props=r,u.state=U,u.context=x,r=B):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),r=!1)}return u=r,_i(e,t),r=(t.flags&128)!==0,u||r?(u=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&r?(t.child=Sa(t,e.child,null,o),t.child=Sa(t,null,n,o)):ht(e,t,n,o),t.memoizedState=u.state,e=t.child):e=xn(e,t,o),e}function Uf(e,t,n,r){return ya(),t.flags|=256,ht(e,t,n,r),t.child}var Mo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bo(e){return{baseLanes:e,cachePool:Sd()}}function qo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=zt),e}function zf(e,t,n){var r=t.pendingProps,o=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(o?Vn(t):Yn(),(e=He)?(e=Vh(e,Jt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Mn!==null?{id:cn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},n=hd(e),n.return=t,t.child=n,dt=t,He=null)):e=null,e===null)throw qn(t);return _u(e)?t.lanes=32:t.lanes=536870912,null}var v=r.children;return r=r.fallback,o?(Yn(),o=t.mode,v=wi({mode:"hidden",children:v},o),r=ma(r,o,n,null),v.return=t,r.return=t,v.sibling=r,t.child=v,r=t.child,r.memoizedState=Bo(n),r.childLanes=qo(e,h,n),t.memoizedState=Mo,ss(null,r)):(Vn(t),Lo(t,v))}var x=e.memoizedState;if(x!==null&&(v=x.dehydrated,v!==null)){if(u)t.flags&256?(Vn(t),t.flags&=-257,t=Ho(e,t,n)):t.memoizedState!==null?(Yn(),t.child=e.child,t.flags|=128,t=null):(Yn(),v=r.fallback,o=t.mode,r=wi({mode:"visible",children:r.children},o),v=ma(v,o,n,null),v.flags|=2,r.return=t,v.return=t,r.sibling=v,t.child=r,Sa(t,e.child,null,n),r=t.child,r.memoizedState=Bo(n),r.childLanes=qo(e,h,n),t.memoizedState=Mo,t=ss(null,r));else if(Vn(t),_u(v)){if(h=v.nextSibling&&v.nextSibling.dataset,h)var R=h.dgst;h=R,r=Error(i(419)),r.stack="",r.digest=h,Qr({value:r,source:null,stack:null}),t=Ho(e,t,n)}else if(nt||Pa(e,t,n,!1),h=(n&e.childLanes)!==0,nt||h){if(h=qe,h!==null&&(r=_c(h,n),r!==0&&r!==x.retryLane))throw x.retryLane=r,ga(e,r),Ot(h,e,r),Uo;bu(v)||ki(),t=Ho(e,t,n)}else bu(v)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,He=Zt(v.nextSibling),dt=t,Ee=!0,Bn=null,Jt=!1,e!==null&&yd(t,e),t=Lo(t,r.children),t.flags|=4096);return t}return o?(Yn(),v=r.fallback,o=t.mode,x=e.child,R=x.sibling,r=vn(x,{mode:"hidden",children:r.children}),r.subtreeFlags=x.subtreeFlags&65011712,R!==null?v=vn(R,v):(v=ma(v,o,n,null),v.flags|=2),v.return=t,r.return=t,r.sibling=v,t.child=r,ss(null,r),r=t.child,v=e.child.memoizedState,v===null?v=Bo(n):(o=v.cachePool,o!==null?(x=et._currentValue,o=o.parent!==x?{parent:x,pool:x}:o):o=Sd(),v={baseLanes:v.baseLanes|n,cachePool:o}),r.memoizedState=v,r.childLanes=qo(e,h,n),t.memoizedState=Mo,ss(e.child,r)):(Vn(t),n=e.child,e=n.sibling,n=vn(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=n,t.memoizedState=null,n)}function Lo(e,t){return t=wi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function wi(e,t){return e=Rt(22,e,null,t),e.lanes=0,e}function Ho(e,t,n){return Sa(t,e.child,null,n),e=Lo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),eo(e.return,t,n)}function $o(e,t,n,r,o,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:u}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=n,h.tailMode=o,h.treeForkCount=u)}function Bf(e,t,n){var r=t.pendingProps,o=r.revealOrder,u=r.tail;r=r.children;var h=We.current,v=(h&2)!==0;if(v?(h=h&1|2,t.flags|=128):h&=1,G(We,h),ht(e,t,r,n),r=Ee?Xr:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mf(e,n,t);else if(e.tag===19)Mf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ui(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),$o(t,!1,o,n,u,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ui(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}$o(t,!0,n,null,u,r);break;case"together":$o(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Pa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=vn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Go(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ti(e)))}function yy(e,t,n){switch(t.tag){case 3:Pe(t,t.stateNode.containerInfo),Ln(t,et,e.memoizedState.cache),ya();break;case 27:case 5:Ht(t);break;case 4:Pe(t,t.stateNode.containerInfo);break;case 10:Ln(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ho(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Vn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?zf(e,t,n):(Vn(t),e=xn(e,t,n),e!==null?e.sibling:null);Vn(t);break;case 19:var o=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Pa(e,t,n,!1),r=(n&t.childLanes)!==0),o){if(r)return Bf(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),G(We,We.current),r)break;return null;case 22:return t.lanes=0,Nf(e,t,n,t.pendingProps);case 24:Ln(t,et,e.memoizedState.cache)}return xn(e,t,n)}function qf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)nt=!0;else{if(!Go(e,n)&&(t.flags&128)===0)return nt=!1,yy(e,t,n);nt=(e.flags&131072)!==0}else nt=!1,Ee&&(t.flags&1048576)!==0&&md(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=_a(t.elementType),t.type=e,typeof e=="function")Xl(e)?(r=Ta(e,r),t.tag=1,t=Df(null,t,e,r,n)):(t.tag=0,t=zo(null,t,e,r,n));else{if(e!=null){var o=e.$$typeof;if(o===X){t.tag=11,t=jf(null,t,e,r,n);break e}else if(o===J){t.tag=14,t=Of(null,t,e,r,n);break e}}throw t=Je(e)||e,Error(i(306,t,""))}}return t;case 0:return zo(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,o=Ta(r,t.pendingProps),Df(e,t,r,o,n);case 3:e:{if(Pe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var u=t.memoizedState;o=u.element,lo(e,t),es(t,r,null,n);var h=t.memoizedState;if(r=h.cache,Ln(t,et,r),r!==u.cache&&to(t,[et],n,!0),Fr(),r=h.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Uf(e,t,r,n);break e}else if(r!==o){o=Kt(Error(i(424)),t),Qr(o),t=Uf(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=Zt(e.firstChild),dt=t,Ee=!0,Bn=null,Jt=!0,n=Ad(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ya(),r===o){t=xn(e,t,n);break e}ht(e,t,r,n)}t=t.child}return t;case 26:return _i(e,t),e===null?(n=Ih(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ee||(n=t.type,e=t.pendingProps,r=Bi(de.current).createElement(n),r[ct]=t,r[wt]=e,gt(r,n,e),ot(r),t.stateNode=r):t.memoizedState=Ih(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ht(t),e===null&&Ee&&(r=t.stateNode=Xh(t.type,t.pendingProps,de.current),dt=t,Jt=!0,o=He,Wn(t.type)?(wu=o,He=Zt(r.firstChild)):He=o),ht(e,t,t.pendingProps.children,n),_i(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((o=r=He)&&(r=Xy(r,t.type,t.pendingProps,Jt),r!==null?(t.stateNode=r,dt=t,He=Zt(r.firstChild),Jt=!1,o=!0):o=!1),o||qn(t)),Ht(t),o=t.type,u=t.pendingProps,h=e!==null?e.memoizedProps:null,r=u.children,yu(o,u)?r=null:h!==null&&yu(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=mo(e,t,ly,null,null,n),_s._currentValue=o),_i(e,t),ht(e,t,r,n),t.child;case 6:return e===null&&Ee&&((e=n=He)&&(n=Qy(n,t.pendingProps,Jt),n!==null?(t.stateNode=n,dt=t,He=null,e=!0):e=!1),e||qn(t)),null;case 13:return zf(e,t,n);case 4:return Pe(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Sa(t,null,r,n):ht(e,t,r,n),t.child;case 11:return jf(e,t,t.type,t.pendingProps,n);case 7:return ht(e,t,t.pendingProps,n),t.child;case 8:return ht(e,t,t.pendingProps.children,n),t.child;case 12:return ht(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ln(t,t.type,r.value),ht(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,pa(t),o=ft(o),r=r(o),t.flags|=1,ht(e,t,r,n),t.child;case 14:return Of(e,t,t.type,t.pendingProps,n);case 15:return Af(e,t,t.type,t.pendingProps,n);case 19:return Bf(e,t,n);case 31:return my(e,t,n);case 22:return Nf(e,t,n,t.pendingProps);case 24:return pa(t),r=ft(et),e===null?(o=ro(),o===null&&(o=qe,u=no(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=n),o=u),t.memoizedState={parent:r,cache:o},io(t),Ln(t,et,o)):((e.lanes&n)!==0&&(lo(e,t),es(t,null,null,n),Fr()),o=e.memoizedState,u=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ln(t,et,r)):(r=u.cache,Ln(t,et,r),r!==o.cache&&to(t,[et],n,!0))),ht(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Tn(e){e.flags|=4}function Vo(e,t,n,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(dh())e.flags|=8192;else throw wa=si,so}else e.flags&=-16777217}function Lf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!e0(t))if(dh())e.flags|=8192;else throw wa=si,so}function Si(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?vc():536870912,e.lanes|=t,ur|=t)}function is(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vy(e,t,n){var r=t.pendingProps;switch(Zl(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return $e(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),_n(et),Re(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Za(t)?Tn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Wl())),$e(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(Tn(t),u!==null?($e(t),Lf(t,u)):($e(t),Vo(t,o,null,r,n))):u?u!==e.memoizedState?(Tn(t),$e(t),Lf(t,u)):($e(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&Tn(t),$e(t),Vo(t,o,e,r,n)),null;case 27:if($t(t),n=de.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Tn(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return $e(t),null}e=$.current,Za(t)?vd(t):(e=Xh(o,r,n),t.stateNode=e,Tn(t))}return $e(t),null;case 5:if($t(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Tn(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return $e(t),null}if(u=$.current,Za(t))vd(t);else{var h=Bi(de.current);switch(u){case 1:u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=h.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?h.createElement("select",{is:r.is}):h.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?h.createElement(o,{is:r.is}):h.createElement(o)}}u[ct]=t,u[wt]=r;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)u.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=u;e:switch(gt(u,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Tn(t)}}return $e(t),Vo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Tn(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(i(166));if(e=de.current,Za(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,o=dt,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[ct]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||zh(e.nodeValue,n)),e||qn(t,!0)}else e=Bi(e).createTextNode(r),e[ct]=t,t.stateNode=e}return $e(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Za(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[ct]=t}else ya(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),e=!1}else n=Wl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Dt(t),t):(Dt(t),null);if((t.flags&128)!==0)throw Error(i(558))}return $e(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Za(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(i(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));o[ct]=t}else ya(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),o=!1}else o=Wl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Dt(t),t):(Dt(t),null)}return Dt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Si(t,t.updateQueue),$e(t),null);case 4:return Re(),e===null&&du(t.stateNode.containerInfo),$e(t),null;case 10:return _n(t.type),$e(t),null;case 19:if(D(We),r=t.memoizedState,r===null)return $e(t),null;if(o=(t.flags&128)!==0,u=r.rendering,u===null)if(o)is(r,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=ui(e),u!==null){for(t.flags|=128,is(r,!1),e=u.updateQueue,t.updateQueue=e,Si(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)fd(n,e),n=n.sibling;return G(We,We.current&1|2),Ee&&pn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&le()>Oi&&(t.flags|=128,o=!0,is(r,!1),t.lanes=4194304)}else{if(!o)if(e=ui(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Si(t,e),is(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!Ee)return $e(t),null}else 2*le()-r.renderingStartTime>Oi&&n!==536870912&&(t.flags|=128,o=!0,is(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=We.current,G(We,o?n&1|2:n&1),Ee&&pn(t,r.treeForkCount),e):($e(t),null);case 22:case 23:return Dt(t),fo(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(n&536870912)!==0&&(t.flags&128)===0&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),n=t.updateQueue,n!==null&&Si(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&D(ba),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_n(et),$e(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function py(e,t){switch(Zl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _n(et),Re(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return $t(t),null;case 31:if(t.memoizedState!==null){if(Dt(t),t.alternate===null)throw Error(i(340));ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Dt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return D(We),null;case 4:return Re(),null;case 10:return _n(t.type),null;case 22:case 23:return Dt(t),fo(),e!==null&&D(ba),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _n(et),null;case 25:return null;default:return null}}function Hf(e,t){switch(Zl(t),t.tag){case 3:_n(et),Re();break;case 26:case 27:case 5:$t(t);break;case 4:Re();break;case 31:t.memoizedState!==null&&Dt(t);break;case 13:Dt(t);break;case 19:D(We);break;case 10:_n(t.type);break;case 22:case 23:Dt(t),fo(),e!==null&&D(ba);break;case 24:_n(et)}}function ls(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var u=n.create,h=n.inst;r=u(),h.destroy=r}n=n.next}while(n!==o)}}catch(v){De(t,t.return,v)}}function Kn(e,t,n){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&e)===e){var h=r.inst,v=h.destroy;if(v!==void 0){h.destroy=void 0,o=t;var x=n,R=v;try{R()}catch(B){De(o,x,B)}}}r=r.next}while(r!==u)}}catch(B){De(t,t.return,B)}}function $f(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{kd(t,n)}catch(r){De(e,e.return,r)}}}function Gf(e,t,n){n.props=Ta(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){De(e,t,r)}}function os(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(o){De(e,t,o)}}function fn(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(o){De(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){De(e,t,o)}else n.current=null}function Vf(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){De(e,e.return,o)}}function Yo(e,t,n){try{var r=e.stateNode;Hy(r,e.type,n,t),r[wt]=t}catch(o){De(e,e.return,o)}}function Yf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wn(e.type)||e.tag===4}function Ko(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=mn));else if(r!==4&&(r===27&&Wn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Xo(e,t,n),e=e.sibling;e!==null;)Xo(e,t,n),e=e.sibling}function xi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Wn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(xi(e,t,n),e=e.sibling;e!==null;)xi(e,t,n),e=e.sibling}function Kf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);gt(t,r,n),t[ct]=e,t[wt]=n}catch(u){De(e,e.return,u)}}var En=!1,at=!1,Qo=!1,Xf=typeof WeakSet=="function"?WeakSet:Set,ut=null;function by(e,t){if(e=e.containerInfo,gu=Yi,e=ad(e),Ll(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var h=0,v=-1,x=-1,R=0,B=0,H=e,C=null;t:for(;;){for(var U;H!==n||o!==0&&H.nodeType!==3||(v=h+o),H!==u||r!==0&&H.nodeType!==3||(x=h+r),H.nodeType===3&&(h+=H.nodeValue.length),(U=H.firstChild)!==null;)C=H,H=U;for(;;){if(H===e)break t;if(C===n&&++R===o&&(v=h),C===u&&++B===r&&(x=h),(U=H.nextSibling)!==null)break;H=C,C=H.parentNode}H=U}n=v===-1||x===-1?null:{start:v,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(mu={focusedElem:e,selectionRange:n},Yi=!1,ut=t;ut!==null;)if(t=ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ut=e;else for(;ut!==null;){switch(t=ut,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,o=u.memoizedProps,u=u.memoizedState,r=n.stateNode;try{var F=Ta(n.type,o);e=r.getSnapshotBeforeUpdate(F,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(ue){De(n,n.return,ue)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)pu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}}function Qf(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:On(e,n),r&4&&ls(5,n);break;case 1:if(On(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(h){De(n,n.return,h)}else{var o=Ta(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){De(n,n.return,h)}}r&64&&$f(n),r&512&&os(n,n.return);break;case 3:if(On(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{kd(e,t)}catch(h){De(n,n.return,h)}}break;case 27:t===null&&r&4&&Kf(n);case 26:case 5:On(e,n),t===null&&r&4&&Vf(n),r&512&&os(n,n.return);break;case 12:On(e,n);break;case 31:On(e,n),r&4&&Zf(e,n);break;case 13:On(e,n),r&4&&Pf(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ay.bind(null,n),Jy(e,n))));break;case 22:if(r=n.memoizedState!==null||En,!r){t=t!==null&&t.memoizedState!==null||at,o=En;var u=at;En=r,(at=t)&&!u?An(e,n,(n.subtreeFlags&8772)!==0):On(e,n),En=o,at=u}break;case 30:break;default:On(e,n)}}function Jf(e){var t=e.alternate;t!==null&&(e.alternate=null,Jf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Sl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,xt=!1;function jn(e,t,n){for(n=n.child;n!==null;)If(e,t,n),n=n.sibling}function If(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Cr,n)}catch{}switch(n.tag){case 26:at||fn(n,t),jn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:at||fn(n,t);var r=Ye,o=xt;Wn(n.type)&&(Ye=n.stateNode,xt=!1),jn(e,t,n),vs(n.stateNode),Ye=r,xt=o;break;case 5:at||fn(n,t);case 6:if(r=Ye,o=xt,Ye=null,jn(e,t,n),Ye=r,xt=o,Ye!==null)if(xt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(n.stateNode)}catch(u){De(n,t,u)}else try{Ye.removeChild(n.stateNode)}catch(u){De(n,t,u)}break;case 18:Ye!==null&&(xt?(e=Ye,$h(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),vr(e)):$h(Ye,n.stateNode));break;case 4:r=Ye,o=xt,Ye=n.stateNode.containerInfo,xt=!0,jn(e,t,n),Ye=r,xt=o;break;case 0:case 11:case 14:case 15:Kn(2,n,t),at||Kn(4,n,t),jn(e,t,n);break;case 1:at||(fn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&Gf(n,t,r)),jn(e,t,n);break;case 21:jn(e,t,n);break;case 22:at=(r=at)||n.memoizedState!==null,jn(e,t,n),at=r;break;default:jn(e,t,n)}}function Zf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{vr(e)}catch(n){De(t,t.return,n)}}}function Pf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{vr(e)}catch(n){De(t,t.return,n)}}function _y(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Xf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Xf),t;default:throw Error(i(435,e.tag))}}function Ti(e,t){var n=_y(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var o=Ny.bind(null,e,r);r.then(o,o)}})}function Tt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r],u=e,h=t,v=h;e:for(;v!==null;){switch(v.tag){case 27:if(Wn(v.type)){Ye=v.stateNode,xt=!1;break e}break;case 5:Ye=v.stateNode,xt=!1;break e;case 3:case 4:Ye=v.stateNode.containerInfo,xt=!0;break e}v=v.return}if(Ye===null)throw Error(i(160));If(u,h,o),Ye=null,xt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Wf(t,e),t=t.sibling}var nn=null;function Wf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(t,e),Et(e),r&4&&(Kn(3,e,e.return),ls(3,e),Kn(5,e,e.return));break;case 1:Tt(t,e),Et(e),r&512&&(at||n===null||fn(n,n.return)),r&64&&En&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var o=nn;if(Tt(t,e),Et(e),r&512&&(at||n===null||fn(n,n.return)),r&4){var u=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":u=o.getElementsByTagName("title")[0],(!u||u[zr]||u[ct]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(r),o.head.insertBefore(u,o.querySelector("head > title"))),gt(u,r,n),u[ct]=e,ot(u),r=u;break e;case"link":var h=Wh("link","href",o).get(r+(n.href||""));if(h){for(var v=0;v<h.length;v++)if(u=h[v],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){h.splice(v,1);break t}}u=o.createElement(r),gt(u,r,n),o.head.appendChild(u);break;case"meta":if(h=Wh("meta","content",o).get(r+(n.content||""))){for(v=0;v<h.length;v++)if(u=h[v],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){h.splice(v,1);break t}}u=o.createElement(r),gt(u,r,n),o.head.appendChild(u);break;default:throw Error(i(468,r))}u[ct]=e,ot(u),r=u}e.stateNode=r}else Fh(o,e.type,e.stateNode);else e.stateNode=Ph(o,r,e.memoizedProps);else u!==r?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,r===null?Fh(o,e.type,e.stateNode):Ph(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Yo(e,e.memoizedProps,n.memoizedProps)}break;case 27:Tt(t,e),Et(e),r&512&&(at||n===null||fn(n,n.return)),n!==null&&r&4&&Yo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Tt(t,e),Et(e),r&512&&(at||n===null||fn(n,n.return)),e.flags&32){o=e.stateNode;try{Ha(o,"")}catch(F){De(e,e.return,F)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,Yo(e,o,n!==null?n.memoizedProps:o)),r&1024&&(Qo=!0);break;case 6:if(Tt(t,e),Et(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(F){De(e,e.return,F)}}break;case 3:if(Hi=null,o=nn,nn=qi(t.containerInfo),Tt(t,e),nn=o,Et(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vr(t.containerInfo)}catch(F){De(e,e.return,F)}Qo&&(Qo=!1,Ff(e));break;case 4:r=nn,nn=qi(e.stateNode.containerInfo),Tt(t,e),Et(e),nn=r;break;case 12:Tt(t,e),Et(e);break;case 31:Tt(t,e),Et(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ti(e,r)));break;case 13:Tt(t,e),Et(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ji=le()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ti(e,r)));break;case 22:o=e.memoizedState!==null;var x=n!==null&&n.memoizedState!==null,R=En,B=at;if(En=R||o,at=B||x,Tt(t,e),at=B,En=R,Et(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||x||En||at||Ea(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){x=n=t;try{if(u=x.stateNode,o)h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{v=x.stateNode;var H=x.memoizedProps.style,C=H!=null&&H.hasOwnProperty("display")?H.display:null;v.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(F){De(x,x.return,F)}}}else if(t.tag===6){if(n===null){x=t;try{x.stateNode.nodeValue=o?"":x.memoizedProps}catch(F){De(x,x.return,F)}}}else if(t.tag===18){if(n===null){x=t;try{var U=x.stateNode;o?Gh(U,!0):Gh(x.stateNode,!1)}catch(F){De(x,x.return,F)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Ti(e,n))));break;case 19:Tt(t,e),Et(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ti(e,r)));break;case 30:break;case 21:break;default:Tt(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Yf(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var o=n.stateNode,u=Ko(e);xi(e,u,o);break;case 5:var h=n.stateNode;n.flags&32&&(Ha(h,""),n.flags&=-33);var v=Ko(e);xi(e,v,h);break;case 3:case 4:var x=n.stateNode.containerInfo,R=Ko(e);Xo(e,R,x);break;default:throw Error(i(161))}}catch(B){De(e,e.return,B)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ff(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ff(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function On(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Qf(e,t.alternate,t),t=t.sibling}function Ea(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Kn(4,t,t.return),Ea(t);break;case 1:fn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Gf(t,t.return,n),Ea(t);break;case 27:vs(t.stateNode);case 26:case 5:fn(t,t.return),Ea(t);break;case 22:t.memoizedState===null&&Ea(t);break;case 30:Ea(t);break;default:Ea(t)}e=e.sibling}}function An(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,u=t,h=u.flags;switch(u.tag){case 0:case 11:case 15:An(o,u,n),ls(4,u);break;case 1:if(An(o,u,n),r=u,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(R){De(r,r.return,R)}if(r=u,o=r.updateQueue,o!==null){var v=r.stateNode;try{var x=o.shared.hiddenCallbacks;if(x!==null)for(o.shared.hiddenCallbacks=null,o=0;o<x.length;o++)Nd(x[o],v)}catch(R){De(r,r.return,R)}}n&&h&64&&$f(u),os(u,u.return);break;case 27:Kf(u);case 26:case 5:An(o,u,n),n&&r===null&&h&4&&Vf(u),os(u,u.return);break;case 12:An(o,u,n);break;case 31:An(o,u,n),n&&h&4&&Zf(o,u);break;case 13:An(o,u,n),n&&h&4&&Pf(o,u);break;case 22:u.memoizedState===null&&An(o,u,n),os(u,u.return);break;case 30:break;default:An(o,u,n)}t=t.sibling}}function Jo(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Jr(n))}function Io(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Jr(e))}function an(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)eh(e,t,n,r),t=t.sibling}function eh(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:an(e,t,n,r),o&2048&&ls(9,t);break;case 1:an(e,t,n,r);break;case 3:an(e,t,n,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Jr(e)));break;case 12:if(o&2048){an(e,t,n,r),e=t.stateNode;try{var u=t.memoizedProps,h=u.id,v=u.onPostCommit;typeof v=="function"&&v(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){De(t,t.return,x)}}else an(e,t,n,r);break;case 31:an(e,t,n,r);break;case 13:an(e,t,n,r);break;case 23:break;case 22:u=t.stateNode,h=t.alternate,t.memoizedState!==null?u._visibility&2?an(e,t,n,r):us(e,t):u._visibility&2?an(e,t,n,r):(u._visibility|=2,ir(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Jo(h,t);break;case 24:an(e,t,n,r),o&2048&&Io(t.alternate,t);break;default:an(e,t,n,r)}}function ir(e,t,n,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,h=t,v=n,x=r,R=h.flags;switch(h.tag){case 0:case 11:case 15:ir(u,h,v,x,o),ls(8,h);break;case 23:break;case 22:var B=h.stateNode;h.memoizedState!==null?B._visibility&2?ir(u,h,v,x,o):us(u,h):(B._visibility|=2,ir(u,h,v,x,o)),o&&R&2048&&Jo(h.alternate,h);break;case 24:ir(u,h,v,x,o),o&&R&2048&&Io(h.alternate,h);break;default:ir(u,h,v,x,o)}t=t.sibling}}function us(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:us(n,r),o&2048&&Jo(r.alternate,r);break;case 24:us(n,r),o&2048&&Io(r.alternate,r);break;default:us(n,r)}t=t.sibling}}var cs=8192;function lr(e,t,n){if(e.subtreeFlags&cs)for(e=e.child;e!==null;)th(e,t,n),e=e.sibling}function th(e,t,n){switch(e.tag){case 26:lr(e,t,n),e.flags&cs&&e.memoizedState!==null&&iv(n,nn,e.memoizedState,e.memoizedProps);break;case 5:lr(e,t,n);break;case 3:case 4:var r=nn;nn=qi(e.stateNode.containerInfo),lr(e,t,n),nn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=cs,cs=16777216,lr(e,t,n),cs=r):lr(e,t,n));break;default:lr(e,t,n)}}function nh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ds(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ut=r,rh(r,e)}nh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ah(e),e=e.sibling}function ah(e){switch(e.tag){case 0:case 11:case 15:ds(e),e.flags&2048&&Kn(9,e,e.return);break;case 3:ds(e);break;case 12:ds(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ei(e)):ds(e);break;default:ds(e)}}function Ei(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ut=r,rh(r,e)}nh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Kn(8,t,t.return),Ei(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ei(t));break;default:Ei(t)}e=e.sibling}}function rh(e,t){for(;ut!==null;){var n=ut;switch(n.tag){case 0:case 11:case 15:Kn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Jr(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,ut=r;else e:for(n=e;ut!==null;){r=ut;var o=r.sibling,u=r.return;if(Jf(r),r===n){ut=null;break e}if(o!==null){o.return=u,ut=o;break e}ut=u}}}var wy={getCacheForType:function(e){var t=ft(et),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ft(et).controller.signal}},Sy=typeof WeakMap=="function"?WeakMap:Map,Ne=0,qe=null,_e=null,Se=0,Ce=0,Ut=null,Xn=!1,or=!1,Zo=!1,Nn=0,Ze=0,Qn=0,ja=0,Po=0,zt=0,ur=0,fs=null,jt=null,Wo=!1,ji=0,sh=0,Oi=1/0,Ai=null,Jn=null,it=0,In=null,cr=null,kn=0,Fo=0,eu=null,ih=null,hs=0,tu=null;function Mt(){return(Ne&2)!==0&&Se!==0?Se&-Se:z.T!==null?lu():wc()}function lh(){if(zt===0)if((Se&536870912)===0||Ee){var e=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),zt=e}else zt=536870912;return e=Ct.current,e!==null&&(e.flags|=32),zt}function Ot(e,t,n){(e===qe&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(dr(e,0),Zn(e,Se,zt,!1)),Ur(e,n),((Ne&2)===0||e!==qe)&&(e===qe&&((Ne&2)===0&&(ja|=n),Ze===4&&Zn(e,Se,zt,!1)),hn(e))}function oh(e,t,n){if((Ne&6)!==0)throw Error(i(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Dr(e,t),o=r?Ey(e,t):au(e,t,!0),u=r;do{if(o===0){or&&!r&&Zn(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!xy(n)){o=au(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var v=e;o=fs;var x=v.current.memoizedState.isDehydrated;if(x&&(dr(v,h).flags|=256),h=au(v,h,!1),h!==2){if(Zo&&!x){v.errorRecoveryDisabledLanes|=u,ja|=u,o=4;break e}u=jt,jt=o,u!==null&&(jt===null?jt=u:jt.push.apply(jt,u))}o=h}if(u=!1,o!==2)continue}}if(o===1){dr(e,0),Zn(e,t,0,!0);break}e:{switch(r=e,u=o,u){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Zn(r,t,zt,!Xn);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(o=ji+300-le(),10<o)){if(Zn(r,t,zt,!Xn),qs(r,0,!0)!==0)break e;kn=t,r.timeoutHandle=Lh(uh.bind(null,r,n,jt,Ai,Wo,t,zt,ja,ur,Xn,u,"Throttled",-0,0),o);break e}uh(r,n,jt,Ai,Wo,t,zt,ja,ur,Xn,u,null,-0,0)}}break}while(!0);hn(e)}function uh(e,t,n,r,o,u,h,v,x,R,B,H,C,U){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mn},th(t,u,H);var F=(u&62914560)===u?ji-le():(u&4194048)===u?sh-le():0;if(F=lv(H,F),F!==null){kn=u,e.cancelPendingCommit=F(vh.bind(null,e,t,u,n,r,o,h,v,x,B,H,null,C,U)),Zn(e,u,h,!R);return}}vh(e,t,u,n,r,o,h,v,x)}function xy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var o=n[r],u=o.getSnapshot;o=o.value;try{if(!kt(u(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zn(e,t,n,r){t&=~Po,t&=~ja,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var u=31-Nt(o),h=1<<u;r[u]=-1,o&=~h}n!==0&&pc(e,n,t)}function Ni(){return(Ne&6)===0?(gs(0),!1):!0}function nu(){if(_e!==null){if(Ce===0)var e=_e.return;else e=_e,bn=va=null,po(e),tr=null,Zr=0,e=_e;for(;e!==null;)Hf(e.alternate,e),e=e.return;_e=null}}function dr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Vy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),kn=0,nu(),qe=e,_e=n=vn(e.current,null),Se=t,Ce=0,Ut=null,Xn=!1,or=Dr(e,t),Zo=!1,ur=zt=Po=ja=Qn=Ze=0,jt=fs=null,Wo=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-Nt(r),u=1<<o;t|=e[o],r&=~u}return Nn=t,Zs(),n}function ch(e,t){ye=null,z.H=rs,t===er||t===ri?(t=Ed(),Ce=3):t===so?(t=Ed(),Ce=4):Ce=t===Uo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ut=t,_e===null&&(Ze=1,pi(e,Kt(t,e.current)))}function dh(){var e=Ct.current;return e===null?!0:(Se&4194048)===Se?It===null:(Se&62914560)===Se||(Se&536870912)!==0?e===It:!1}function fh(){var e=z.H;return z.H=rs,e===null?rs:e}function hh(){var e=z.A;return z.A=wy,e}function ki(){Ze=4,Xn||(Se&4194048)!==Se&&Ct.current!==null||(or=!0),(Qn&134217727)===0&&(ja&134217727)===0||qe===null||Zn(qe,Se,zt,!1)}function au(e,t,n){var r=Ne;Ne|=2;var o=fh(),u=hh();(qe!==e||Se!==t)&&(Ai=null,dr(e,t)),t=!1;var h=Ze;e:do try{if(Ce!==0&&_e!==null){var v=_e,x=Ut;switch(Ce){case 8:nu(),h=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(t=!0);var R=Ce;if(Ce=0,Ut=null,fr(e,v,x,R),n&&or){h=0;break e}break;default:R=Ce,Ce=0,Ut=null,fr(e,v,x,R)}}Ty(),h=Ze;break}catch(B){ch(e,B)}while(!0);return t&&e.shellSuspendCounter++,bn=va=null,Ne=r,z.H=o,z.A=u,_e===null&&(qe=null,Se=0,Zs()),h}function Ty(){for(;_e!==null;)gh(_e)}function Ey(e,t){var n=Ne;Ne|=2;var r=fh(),o=hh();qe!==e||Se!==t?(Ai=null,Oi=le()+500,dr(e,t)):or=Dr(e,t);e:do try{if(Ce!==0&&_e!==null){t=_e;var u=Ut;t:switch(Ce){case 1:Ce=0,Ut=null,fr(e,t,u,1);break;case 2:case 9:if(xd(u)){Ce=0,Ut=null,mh(t);break}t=function(){Ce!==2&&Ce!==9||qe!==e||(Ce=7),hn(e)},u.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:xd(u)?(Ce=0,Ut=null,mh(t)):(Ce=0,Ut=null,fr(e,t,u,7));break;case 5:var h=null;switch(_e.tag){case 26:h=_e.memoizedState;case 5:case 27:var v=_e;if(h?e0(h):v.stateNode.complete){Ce=0,Ut=null;var x=v.sibling;if(x!==null)_e=x;else{var R=v.return;R!==null?(_e=R,Ri(R)):_e=null}break t}}Ce=0,Ut=null,fr(e,t,u,5);break;case 6:Ce=0,Ut=null,fr(e,t,u,6);break;case 8:nu(),Ze=6;break e;default:throw Error(i(462))}}jy();break}catch(B){ch(e,B)}while(!0);return bn=va=null,z.H=r,z.A=o,Ne=n,_e!==null?0:(qe=null,Se=0,Zs(),Ze)}function jy(){for(;_e!==null&&!se();)gh(_e)}function gh(e){var t=qf(e.alternate,e,Nn);e.memoizedProps=e.pendingProps,t===null?Ri(e):_e=t}function mh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Cf(n,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=Cf(n,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:po(t);default:Hf(n,t),t=_e=fd(t,Nn),t=qf(n,t,Nn)}e.memoizedProps=e.pendingProps,t===null?Ri(e):_e=t}function fr(e,t,n,r){bn=va=null,po(t),tr=null,Zr=0;var o=t.return;try{if(gy(e,o,t,n,Se)){Ze=1,pi(e,Kt(n,e.current)),_e=null;return}}catch(u){if(o!==null)throw _e=o,u;Ze=1,pi(e,Kt(n,e.current)),_e=null;return}t.flags&32768?(Ee||r===1?e=!0:or||(Se&536870912)!==0?e=!1:(Xn=e=!0,(r===2||r===9||r===3||r===6)&&(r=Ct.current,r!==null&&r.tag===13&&(r.flags|=16384))),yh(t,e)):Ri(t)}function Ri(e){var t=e;do{if((t.flags&32768)!==0){yh(t,Xn);return}e=t.return;var n=vy(t.alternate,t,Nn);if(n!==null){_e=n;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Ze===0&&(Ze=5)}function yh(e,t){do{var n=py(e.alternate,e);if(n!==null){n.flags&=32767,_e=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){_e=e;return}_e=e=n}while(e!==null);Ze=6,_e=null}function vh(e,t,n,r,o,u,h,v,x){e.cancelPendingCommit=null;do Ci();while(it!==0);if((Ne&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(u=t.lanes|t.childLanes,u|=Yl,sm(e,n,u,h,v,x),e===qe&&(_e=qe=null,Se=0),cr=t,In=e,kn=n,Fo=u,eu=o,ih=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ky(Ke,function(){return Sh(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=z.T,z.T=null,o=Q.p,Q.p=2,h=Ne,Ne|=4;try{by(e,t,n)}finally{Ne=h,Q.p=o,z.T=r}}it=1,ph(),bh(),_h()}}function ph(){if(it===1){it=0;var e=In,t=cr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var r=Q.p;Q.p=2;var o=Ne;Ne|=4;try{Wf(t,e);var u=mu,h=ad(e.containerInfo),v=u.focusedElem,x=u.selectionRange;if(h!==v&&v&&v.ownerDocument&&nd(v.ownerDocument.documentElement,v)){if(x!==null&&Ll(v)){var R=x.start,B=x.end;if(B===void 0&&(B=R),"selectionStart"in v)v.selectionStart=R,v.selectionEnd=Math.min(B,v.value.length);else{var H=v.ownerDocument||document,C=H&&H.defaultView||window;if(C.getSelection){var U=C.getSelection(),F=v.textContent.length,ue=Math.min(x.start,F),Me=x.end===void 0?ue:Math.min(x.end,F);!U.extend&&ue>Me&&(h=Me,Me=ue,ue=h);var O=td(v,ue),j=td(v,Me);if(O&&j&&(U.rangeCount!==1||U.anchorNode!==O.node||U.anchorOffset!==O.offset||U.focusNode!==j.node||U.focusOffset!==j.offset)){var k=H.createRange();k.setStart(O.node,O.offset),U.removeAllRanges(),ue>Me?(U.addRange(k),U.extend(j.node,j.offset)):(k.setEnd(j.node,j.offset),U.addRange(k))}}}}for(H=[],U=v;U=U.parentNode;)U.nodeType===1&&H.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<H.length;v++){var L=H[v];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Yi=!!gu,mu=gu=null}finally{Ne=o,Q.p=r,z.T=n}}e.current=t,it=2}}function bh(){if(it===2){it=0;var e=In,t=cr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var r=Q.p;Q.p=2;var o=Ne;Ne|=4;try{Qf(e,t.alternate,t)}finally{Ne=o,Q.p=r,z.T=n}}it=3}}function _h(){if(it===4||it===3){it=0,he();var e=In,t=cr,n=kn,r=ih;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,cr=In=null,wh(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Jn=null),_l(n),t=t.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Cr,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=z.T,o=Q.p,Q.p=2,z.T=null;try{for(var u=e.onRecoverableError,h=0;h<r.length;h++){var v=r[h];u(v.value,{componentStack:v.stack})}}finally{z.T=t,Q.p=o}}(kn&3)!==0&&Ci(),hn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===tu?hs++:(hs=0,tu=e):hs=0,gs(0)}}function wh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Jr(t)))}function Ci(){return ph(),bh(),_h(),Sh()}function Sh(){if(it!==5)return!1;var e=In,t=Fo;Fo=0;var n=_l(kn),r=z.T,o=Q.p;try{Q.p=32>n?32:n,z.T=null,n=eu,eu=null;var u=In,h=kn;if(it=0,cr=In=null,kn=0,(Ne&6)!==0)throw Error(i(331));var v=Ne;if(Ne|=4,ah(u.current),eh(u,u.current,h,n),Ne=v,gs(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Cr,u)}catch{}return!0}finally{Q.p=o,z.T=r,wh(e,t)}}function xh(e,t,n){t=Kt(n,t),t=Do(e.stateNode,t,2),e=Gn(e,t,2),e!==null&&(Ur(e,2),hn(e))}function De(e,t,n){if(e.tag===3)xh(e,e,n);else for(;t!==null;){if(t.tag===3){xh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jn===null||!Jn.has(r))){e=Kt(n,e),n=Tf(2),r=Gn(t,n,2),r!==null&&(Ef(n,r,t,e),Ur(r,2),hn(r));break}}t=t.return}}function ru(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Sy;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(Zo=!0,o.add(n),e=Oy.bind(null,e,t,n),t.then(e,e))}function Oy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,qe===e&&(Se&n)===n&&(Ze===4||Ze===3&&(Se&62914560)===Se&&300>le()-ji?(Ne&2)===0&&dr(e,0):Po|=n,ur===Se&&(ur=0)),hn(e)}function Th(e,t){t===0&&(t=vc()),e=ga(e,t),e!==null&&(Ur(e,t),hn(e))}function Ay(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Th(e,n)}function Ny(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Th(e,n)}function ky(e,t){return Y(e,t)}var Di=null,hr=null,su=!1,Ui=!1,iu=!1,Pn=0;function hn(e){e!==hr&&e.next===null&&(hr===null?Di=hr=e:hr=hr.next=e),Ui=!0,su||(su=!0,Cy())}function gs(e,t){if(!iu&&Ui){iu=!0;do for(var n=!1,r=Di;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var u=0;else{var h=r.suspendedLanes,v=r.pingedLanes;u=(1<<31-Nt(42|e)+1)-1,u&=o&~(h&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,Ah(r,u))}else u=Se,u=qs(r,r===qe?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||Dr(r,u)||(n=!0,Ah(r,u));r=r.next}while(n);iu=!1}}function Ry(){Eh()}function Eh(){Ui=su=!1;var e=0;Pn!==0&&Gy()&&(e=Pn);for(var t=le(),n=null,r=Di;r!==null;){var o=r.next,u=jh(r,t);u===0?(r.next=null,n===null?Di=o:n.next=o,o===null&&(hr=n)):(n=r,(e!==0||(u&3)!==0)&&(Ui=!0)),r=o}it!==0&&it!==5||gs(e),Pn!==0&&(Pn=0)}function jh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var h=31-Nt(u),v=1<<h,x=o[h];x===-1?((v&n)===0||(v&r)!==0)&&(o[h]=rm(v,t)):x<=t&&(e.expiredLanes|=v),u&=~v}if(t=qe,n=Se,n=qs(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&I(r),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Dr(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&I(r),_l(n)){case 2:case 8:n=oe;break;case 32:n=Ke;break;case 268435456:n=un;break;default:n=Ke}return r=Oh.bind(null,e),n=Y(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&I(r),e.callbackPriority=2,e.callbackNode=null,2}function Oh(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ci()&&e.callbackNode!==n)return null;var r=Se;return r=qs(e,e===qe?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(oh(e,r,t),jh(e,le()),e.callbackNode!=null&&e.callbackNode===n?Oh.bind(null,e):null)}function Ah(e,t){if(Ci())return null;oh(e,t,!0)}function Cy(){Yy(function(){(Ne&6)!==0?Y(ge,Ry):Eh()})}function lu(){if(Pn===0){var e=Wa;e===0&&(e=zs,zs<<=1,(zs&261888)===0&&(zs=256)),Pn=e}return Pn}function Nh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Gs(""+e)}function kh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Dy(e,t,n,r,o){if(t==="submit"&&n&&n.stateNode===o){var u=Nh((o[wt]||null).action),h=r.submitter;h&&(t=(t=h[wt]||null)?Nh(t.formAction):h.getAttribute("formAction"),t!==null&&(u=t,h=null));var v=new Xs("action","action",null,r,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Pn!==0){var x=h?kh(o,h):new FormData(o);Oo(n,{pending:!0,data:x,method:o.method,action:u},null,x)}}else typeof u=="function"&&(v.preventDefault(),x=h?kh(o,h):new FormData(o),Oo(n,{pending:!0,data:x,method:o.method,action:u},u,x))},currentTarget:o}]})}}for(var ou=0;ou<Vl.length;ou++){var uu=Vl[ou],Uy=uu.toLowerCase(),zy=uu[0].toUpperCase()+uu.slice(1);tn(Uy,"on"+zy)}tn(id,"onAnimationEnd"),tn(ld,"onAnimationIteration"),tn(od,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(Pm,"onTransitionRun"),tn(Wm,"onTransitionStart"),tn(Fm,"onTransitionCancel"),tn(ud,"onTransitionEnd"),qa("onMouseEnter",["mouseout","mouseover"]),qa("onMouseLeave",["mouseout","mouseover"]),qa("onPointerEnter",["pointerout","pointerover"]),qa("onPointerLeave",["pointerout","pointerover"]),ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),My=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ms));function Rh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var h=r.length-1;0<=h;h--){var v=r[h],x=v.instance,R=v.currentTarget;if(v=v.listener,x!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=R;try{u(o)}catch(B){Is(B)}o.currentTarget=null,u=x}else for(h=0;h<r.length;h++){if(v=r[h],x=v.instance,R=v.currentTarget,v=v.listener,x!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=R;try{u(o)}catch(B){Is(B)}o.currentTarget=null,u=x}}}}function we(e,t){var n=t[wl];n===void 0&&(n=t[wl]=new Set);var r=e+"__bubble";n.has(r)||(Ch(t,e,2,!1),n.add(r))}function cu(e,t,n){var r=0;t&&(r|=4),Ch(n,e,r,t)}var zi="_reactListening"+Math.random().toString(36).slice(2);function du(e){if(!e[zi]){e[zi]=!0,Tc.forEach(function(n){n!=="selectionchange"&&(My.has(n)||cu(n,!1,e),cu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zi]||(t[zi]=!0,cu("selectionchange",!1,t))}}function Ch(e,t,n,r){switch(l0(t)){case 2:var o=cv;break;case 8:o=dv;break;default:o=ju}n=o.bind(null,t,n,e),o=void 0,!kl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function fu(e,t,n,r,o){var u=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var v=r.stateNode.containerInfo;if(v===o)break;if(h===4)for(h=r.return;h!==null;){var x=h.tag;if((x===3||x===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;v!==null;){if(h=za(v),h===null)return;if(x=h.tag,x===5||x===6||x===26||x===27){r=u=h;continue e}v=v.parentNode}}r=r.return}Mc(function(){var R=u,B=Al(n),H=[];e:{var C=cd.get(e);if(C!==void 0){var U=Xs,F=e;switch(e){case"keypress":if(Ys(n)===0)break e;case"keydown":case"keyup":U=Nm;break;case"focusin":F="focus",U=Ul;break;case"focusout":F="blur",U=Ul;break;case"beforeblur":case"afterblur":U=Ul;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Cm;break;case id:case ld:case od:U=_m;break;case ud:U=Um;break;case"scroll":case"scrollend":U=mm;break;case"wheel":U=Mm;break;case"copy":case"cut":case"paste":U=Sm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=$c;break;case"toggle":case"beforetoggle":U=qm}var ue=(t&4)!==0,Me=!ue&&(e==="scroll"||e==="scrollend"),O=ue?C!==null?C+"Capture":null:C;ue=[];for(var j=R,k;j!==null;){var L=j;if(k=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||k===null||O===null||(L=Br(j,O),L!=null&&ue.push(ys(j,L,k))),Me)break;j=j.return}0<ue.length&&(C=new U(C,F,null,n,B),H.push({event:C,listeners:ue}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",C&&n!==Ol&&(F=n.relatedTarget||n.fromElement)&&(za(F)||F[Ua]))break e;if((U||C)&&(C=B.window===B?B:(C=B.ownerDocument)?C.defaultView||C.parentWindow:window,U?(F=n.relatedTarget||n.toElement,U=R,F=F?za(F):null,F!==null&&(Me=d(F),ue=F.tag,F!==Me||ue!==5&&ue!==27&&ue!==6)&&(F=null)):(U=null,F=R),U!==F)){if(ue=Lc,L="onMouseLeave",O="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(ue=$c,L="onPointerLeave",O="onPointerEnter",j="pointer"),Me=U==null?C:Mr(U),k=F==null?C:Mr(F),C=new ue(L,j+"leave",U,n,B),C.target=Me,C.relatedTarget=k,L=null,za(B)===R&&(ue=new ue(O,j+"enter",F,n,B),ue.target=k,ue.relatedTarget=Me,L=ue),Me=L,U&&F)t:{for(ue=By,O=U,j=F,k=0,L=O;L;L=ue(L))k++;L=0;for(var ie=j;ie;ie=ue(ie))L++;for(;0<k-L;)O=ue(O),k--;for(;0<L-k;)j=ue(j),L--;for(;k--;){if(O===j||j!==null&&O===j.alternate){ue=O;break t}O=ue(O),j=ue(j)}ue=null}else ue=null;U!==null&&Dh(H,C,U,ue,!1),F!==null&&Me!==null&&Dh(H,Me,F,ue,!0)}}e:{if(C=R?Mr(R):window,U=C.nodeName&&C.nodeName.toLowerCase(),U==="select"||U==="input"&&C.type==="file")var Oe=Ic;else if(Qc(C))if(Zc)Oe=Jm;else{Oe=Xm;var ne=Km}else U=C.nodeName,!U||U.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?R&&jl(R.elementType)&&(Oe=Ic):Oe=Qm;if(Oe&&(Oe=Oe(e,R))){Jc(H,Oe,n,B);break e}ne&&ne(e,C,R),e==="focusout"&&R&&C.type==="number"&&R.memoizedProps.value!=null&&El(C,"number",C.value)}switch(ne=R?Mr(R):window,e){case"focusin":(Qc(ne)||ne.contentEditable==="true")&&(Ya=ne,Hl=R,Kr=null);break;case"focusout":Kr=Hl=Ya=null;break;case"mousedown":$l=!0;break;case"contextmenu":case"mouseup":case"dragend":$l=!1,rd(H,n,B);break;case"selectionchange":if(Zm)break;case"keydown":case"keyup":rd(H,n,B)}var ve;if(Ml)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Va?Kc(e,n)&&(xe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(xe="onCompositionStart");xe&&(Gc&&n.locale!=="ko"&&(Va||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Va&&(ve=Bc()):(zn=B,Rl="value"in zn?zn.value:zn.textContent,Va=!0)),ne=Mi(R,xe),0<ne.length&&(xe=new Hc(xe,e,null,n,B),H.push({event:xe,listeners:ne}),ve?xe.data=ve:(ve=Xc(n),ve!==null&&(xe.data=ve)))),(ve=Hm?$m(e,n):Gm(e,n))&&(xe=Mi(R,"onBeforeInput"),0<xe.length&&(ne=new Hc("onBeforeInput","beforeinput",null,n,B),H.push({event:ne,listeners:xe}),ne.data=ve)),Dy(H,e,R,n,B)}Rh(H,t)})}function ys(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Br(e,n),o!=null&&r.unshift(ys(e,o,u)),o=Br(e,t),o!=null&&r.push(ys(e,o,u))),e.tag===3)return r;e=e.return}return[]}function By(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dh(e,t,n,r,o){for(var u=t._reactName,h=[];n!==null&&n!==r;){var v=n,x=v.alternate,R=v.stateNode;if(v=v.tag,x!==null&&x===r)break;v!==5&&v!==26&&v!==27||R===null||(x=R,o?(R=Br(n,u),R!=null&&h.unshift(ys(n,R,x))):o||(R=Br(n,u),R!=null&&h.push(ys(n,R,x)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var qy=/\r\n?/g,Ly=/\u0000|\uFFFD/g;function Uh(e){return(typeof e=="string"?e:""+e).replace(qy,`
`).replace(Ly,"")}function zh(e,t){return t=Uh(t),Uh(e)===t}function ze(e,t,n,r,o,u){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Ha(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Ha(e,""+r);break;case"className":Hs(e,"class",r);break;case"tabIndex":Hs(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Hs(e,n,r);break;case"style":Uc(e,r,u);break;case"data":if(t!=="object"){Hs(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Gs(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&ze(e,t,"name",o.name,o,null),ze(e,t,"formEncType",o.formEncType,o,null),ze(e,t,"formMethod",o.formMethod,o,null),ze(e,t,"formTarget",o.formTarget,o,null)):(ze(e,t,"encType",o.encType,o,null),ze(e,t,"method",o.method,o,null),ze(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Gs(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=mn);break;case"onScroll":r!=null&&we("scroll",e);break;case"onScrollEnd":r!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(n=r.__html,n!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Gs(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":we("beforetoggle",e),we("toggle",e),Ls(e,"popover",r);break;case"xlinkActuate":gn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":gn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":gn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":gn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":gn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":gn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":gn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":gn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":gn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Ls(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=hm.get(n)||n,Ls(e,n,r))}}function hu(e,t,n,r,o,u){switch(n){case"style":Uc(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(n=r.__html,n!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Ha(e,r):(typeof r=="number"||typeof r=="bigint")&&Ha(e,""+r);break;case"onScroll":r!=null&&we("scroll",e);break;case"onScrollEnd":r!=null&&we("scrollend",e);break;case"onClick":r!=null&&(e.onclick=mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ec.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),u=e[wt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof r=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Ls(e,n,r)}}}function gt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var r=!1,o=!1,u;for(u in n)if(n.hasOwnProperty(u)){var h=n[u];if(h!=null)switch(u){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ze(e,t,u,h,n,null)}}o&&ze(e,t,"srcSet",n.srcSet,n,null),r&&ze(e,t,"src",n.src,n,null);return;case"input":we("invalid",e);var v=u=h=o=null,x=null,R=null;for(r in n)if(n.hasOwnProperty(r)){var B=n[r];if(B!=null)switch(r){case"name":o=B;break;case"type":h=B;break;case"checked":x=B;break;case"defaultChecked":R=B;break;case"value":u=B;break;case"defaultValue":v=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,t));break;default:ze(e,t,r,B,n,null)}}kc(e,u,v,x,R,h,o,!1);return;case"select":we("invalid",e),r=h=u=null;for(o in n)if(n.hasOwnProperty(o)&&(v=n[o],v!=null))switch(o){case"value":u=v;break;case"defaultValue":h=v;break;case"multiple":r=v;default:ze(e,t,o,v,n,null)}t=u,n=h,e.multiple=!!r,t!=null?La(e,!!r,t,!1):n!=null&&La(e,!!r,n,!0);return;case"textarea":we("invalid",e),u=o=r=null;for(h in n)if(n.hasOwnProperty(h)&&(v=n[h],v!=null))switch(h){case"value":r=v;break;case"defaultValue":o=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:ze(e,t,h,v,n,null)}Cc(e,r,o,u);return;case"option":for(x in n)if(n.hasOwnProperty(x)&&(r=n[x],r!=null))switch(x){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ze(e,t,x,r,n,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(r=0;r<ms.length;r++)we(ms[r],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in n)if(n.hasOwnProperty(R)&&(r=n[R],r!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ze(e,t,R,r,n,null)}return;default:if(jl(t)){for(B in n)n.hasOwnProperty(B)&&(r=n[B],r!==void 0&&hu(e,t,B,r,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(r=n[v],r!=null&&ze(e,t,v,r,n,null))}function Hy(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,h=null,v=null,x=null,R=null,B=null;for(U in n){var H=n[U];if(n.hasOwnProperty(U)&&H!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":x=H;default:r.hasOwnProperty(U)||ze(e,t,U,null,r,H)}}for(var C in r){var U=r[C];if(H=n[C],r.hasOwnProperty(C)&&(U!=null||H!=null))switch(C){case"type":u=U;break;case"name":o=U;break;case"checked":R=U;break;case"defaultChecked":B=U;break;case"value":h=U;break;case"defaultValue":v=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(137,t));break;default:U!==H&&ze(e,t,C,U,r,H)}}Tl(e,h,v,x,R,B,u,o);return;case"select":U=h=v=C=null;for(u in n)if(x=n[u],n.hasOwnProperty(u)&&x!=null)switch(u){case"value":break;case"multiple":U=x;default:r.hasOwnProperty(u)||ze(e,t,u,null,r,x)}for(o in r)if(u=r[o],x=n[o],r.hasOwnProperty(o)&&(u!=null||x!=null))switch(o){case"value":C=u;break;case"defaultValue":v=u;break;case"multiple":h=u;default:u!==x&&ze(e,t,o,u,r,x)}t=v,n=h,r=U,C!=null?La(e,!!n,C,!1):!!r!=!!n&&(t!=null?La(e,!!n,t,!0):La(e,!!n,n?[]:"",!1));return;case"textarea":U=C=null;for(v in n)if(o=n[v],n.hasOwnProperty(v)&&o!=null&&!r.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:ze(e,t,v,null,r,o)}for(h in r)if(o=r[h],u=n[h],r.hasOwnProperty(h)&&(o!=null||u!=null))switch(h){case"value":C=o;break;case"defaultValue":U=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(i(91));break;default:o!==u&&ze(e,t,h,o,r,u)}Rc(e,C,U);return;case"option":for(var F in n)if(C=n[F],n.hasOwnProperty(F)&&C!=null&&!r.hasOwnProperty(F))switch(F){case"selected":e.selected=!1;break;default:ze(e,t,F,null,r,C)}for(x in r)if(C=r[x],U=n[x],r.hasOwnProperty(x)&&C!==U&&(C!=null||U!=null))switch(x){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:ze(e,t,x,C,r,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in n)C=n[ue],n.hasOwnProperty(ue)&&C!=null&&!r.hasOwnProperty(ue)&&ze(e,t,ue,null,r,C);for(R in r)if(C=r[R],U=n[R],r.hasOwnProperty(R)&&C!==U&&(C!=null||U!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(137,t));break;default:ze(e,t,R,C,r,U)}return;default:if(jl(t)){for(var Me in n)C=n[Me],n.hasOwnProperty(Me)&&C!==void 0&&!r.hasOwnProperty(Me)&&hu(e,t,Me,void 0,r,C);for(B in r)C=r[B],U=n[B],!r.hasOwnProperty(B)||C===U||C===void 0&&U===void 0||hu(e,t,B,C,r,U);return}}for(var O in n)C=n[O],n.hasOwnProperty(O)&&C!=null&&!r.hasOwnProperty(O)&&ze(e,t,O,null,r,C);for(H in r)C=r[H],U=n[H],!r.hasOwnProperty(H)||C===U||C==null&&U==null||ze(e,t,H,C,r,U)}function Mh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $y(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],u=o.transferSize,h=o.initiatorType,v=o.duration;if(u&&v&&Mh(h)){for(h=0,v=o.responseEnd,r+=1;r<n.length;r++){var x=n[r],R=x.startTime;if(R>v)break;var B=x.transferSize,H=x.initiatorType;B&&Mh(H)&&(x=x.responseEnd,h+=B*(x<v?1:(v-R)/(x-R)))}if(--r,t+=8*(u+h)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gu=null,mu=null;function Bi(e){return e.nodeType===9?e:e.ownerDocument}function Bh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function yu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vu=null;function Gy(){var e=window.event;return e&&e.type==="popstate"?e===vu?!1:(vu=e,!0):(vu=null,!1)}var Lh=typeof setTimeout=="function"?setTimeout:void 0,Vy=typeof clearTimeout=="function"?clearTimeout:void 0,Hh=typeof Promise=="function"?Promise:void 0,Yy=typeof queueMicrotask=="function"?queueMicrotask:typeof Hh<"u"?function(e){return Hh.resolve(null).then(e).catch(Ky)}:Lh;function Ky(e){setTimeout(function(){throw e})}function Wn(e){return e==="head"}function $h(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(o),vr(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")vs(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,vs(n);for(var u=n.firstChild;u;){var h=u.nextSibling,v=u.nodeName;u[zr]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=h}}else n==="body"&&vs(e.ownerDocument.body);n=o}while(n);vr(t)}function Gh(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function pu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":pu(n),Sl(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Xy(e,t,n,r){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[zr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Zt(e.nextSibling),e===null)break}return null}function Qy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Zt(e.nextSibling),e===null))return null;return e}function Vh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Zt(e.nextSibling),e===null))return null;return e}function bu(e){return e.data==="$?"||e.data==="$~"}function _u(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Jy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var wu=null;function Yh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Zt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Kh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Xh(e,t,n){switch(t=Bi(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function vs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Sl(e)}var Pt=new Map,Qh=new Set;function qi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Rn=Q.d;Q.d={f:Iy,r:Zy,D:Py,C:Wy,L:Fy,m:ev,X:nv,S:tv,M:av};function Iy(){var e=Rn.f(),t=Ni();return e||t}function Zy(e){var t=Ma(e);t!==null&&t.tag===5&&t.type==="form"?cf(t):Rn.r(e)}var gr=typeof document>"u"?null:document;function Jh(e,t,n){var r=gr;if(r&&typeof t=="string"&&t){var o=Vt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Qh.has(o)||(Qh.add(o),e={rel:e,crossOrigin:n,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),gt(t,"link",e),ot(t),r.head.appendChild(t)))}}function Py(e){Rn.D(e),Jh("dns-prefetch",e,null)}function Wy(e,t){Rn.C(e,t),Jh("preconnect",e,t)}function Fy(e,t,n){Rn.L(e,t,n);var r=gr;if(r&&e&&t){var o='link[rel="preload"][as="'+Vt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Vt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Vt(n.imageSizes)+'"]')):o+='[href="'+Vt(e)+'"]';var u=o;switch(t){case"style":u=mr(e);break;case"script":u=yr(e)}Pt.has(u)||(e=E({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Pt.set(u,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(ps(u))||t==="script"&&r.querySelector(bs(u))||(t=r.createElement("link"),gt(t,"link",e),ot(t),r.head.appendChild(t)))}}function ev(e,t){Rn.m(e,t);var n=gr;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Vt(r)+'"][href="'+Vt(e)+'"]',u=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=yr(e)}if(!Pt.has(u)&&(e=E({rel:"modulepreload",href:e},t),Pt.set(u,e),n.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(bs(u)))return}r=n.createElement("link"),gt(r,"link",e),ot(r),n.head.appendChild(r)}}}function tv(e,t,n){Rn.S(e,t,n);var r=gr;if(r&&e){var o=Ba(r).hoistableStyles,u=mr(e);t=t||"default";var h=o.get(u);if(!h){var v={loading:0,preload:null};if(h=r.querySelector(ps(u)))v.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Pt.get(u))&&Su(e,n);var x=h=r.createElement("link");ot(x),gt(x,"link",e),x._p=new Promise(function(R,B){x.onload=R,x.onerror=B}),x.addEventListener("load",function(){v.loading|=1}),x.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Li(h,t,r)}h={type:"stylesheet",instance:h,count:1,state:v},o.set(u,h)}}}function nv(e,t){Rn.X(e,t);var n=gr;if(n&&e){var r=Ba(n).hoistableScripts,o=yr(e),u=r.get(o);u||(u=n.querySelector(bs(o)),u||(e=E({src:e,async:!0},t),(t=Pt.get(o))&&xu(e,t),u=n.createElement("script"),ot(u),gt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function av(e,t){Rn.M(e,t);var n=gr;if(n&&e){var r=Ba(n).hoistableScripts,o=yr(e),u=r.get(o);u||(u=n.querySelector(bs(o)),u||(e=E({src:e,async:!0,type:"module"},t),(t=Pt.get(o))&&xu(e,t),u=n.createElement("script"),ot(u),gt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function Ih(e,t,n,r){var o=(o=de.current)?qi(o):null;if(!o)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=mr(n.href),n=Ba(o).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=mr(n.href);var u=Ba(o).hoistableStyles,h=u.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=o.querySelector(ps(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Pt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Pt.set(e,n),u||rv(o,e,n,h.state))),t&&r===null)throw Error(i(528,""));return h}if(t&&r!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=yr(n),n=Ba(o).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function mr(e){return'href="'+Vt(e)+'"'}function ps(e){return'link[rel="stylesheet"]['+e+"]"}function Zh(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function rv(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),gt(t,"link",n),ot(t),e.head.appendChild(t))}function yr(e){return'[src="'+Vt(e)+'"]'}function bs(e){return"script[async]"+e}function Ph(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Vt(n.href)+'"]');if(r)return t.instance=r,ot(r),r;var o=E({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),ot(r),gt(r,"style",o),Li(r,n.precedence,e),t.instance=r;case"stylesheet":o=mr(n.href);var u=e.querySelector(ps(o));if(u)return t.state.loading|=4,t.instance=u,ot(u),u;r=Zh(n),(o=Pt.get(o))&&Su(r,o),u=(e.ownerDocument||e).createElement("link"),ot(u);var h=u;return h._p=new Promise(function(v,x){h.onload=v,h.onerror=x}),gt(u,"link",r),t.state.loading|=4,Li(u,n.precedence,e),t.instance=u;case"script":return u=yr(n.src),(o=e.querySelector(bs(u)))?(t.instance=o,ot(o),o):(r=n,(o=Pt.get(u))&&(r=E({},n),xu(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),ot(o),gt(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Li(r,n.precedence,e));return t.instance}function Li(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,u=o,h=0;h<r.length;h++){var v=r[h];if(v.dataset.precedence===t)u=v;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Su(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function xu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Hi=null;function Wh(e,t,n){if(Hi===null){var r=new Map,o=Hi=new Map;o.set(n,r)}else o=Hi,r=o.get(n),r||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var u=n[o];if(!(u[zr]||u[ct]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var h=u.getAttribute(t)||"";h=e+h;var v=r.get(h);v?v.push(u):r.set(h,[u])}}return r}function Fh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function sv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function e0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function iv(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=mr(r.href),u=t.querySelector(ps(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=$i.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,ot(u);return}u=t.ownerDocument||t,r=Zh(r),(o=Pt.get(o))&&Su(r,o),u=u.createElement("link"),ot(u);var h=u;h._p=new Promise(function(v,x){h.onload=v,h.onerror=x}),gt(u,"link",r),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=$i.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Tu=0;function lv(e,t){return e.stylesheets&&e.count===0&&Vi(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Vi(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Tu===0&&(Tu=62500*$y());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Vi(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Tu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function $i(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Gi=null;function Vi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Gi=new Map,t.forEach(ov,e),Gi=null,$i.call(e))}function ov(e,t){if(!(t.state.loading&4)){var n=Gi.get(e);if(n)var r=n.get(null);else{n=new Map,Gi.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var h=o[u];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(n.set(h.dataset.precedence,h),r=h)}r&&n.set(null,r)}o=t.instance,h=o.getAttribute("data-precedence"),u=n.get(h)||r,u===r&&n.set(null,o),n.set(h,o),this.count++,r=$i.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var _s={$$typeof:q,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function uv(e,t,n,r,o,u,h,v,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.hiddenUpdates=pl(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function t0(e,t,n,r,o,u,h,v,x,R,B,H){return e=new uv(e,t,n,h,x,R,B,H,v),t=1,u===!0&&(t|=24),u=Rt(3,null,null,t),e.current=u,u.stateNode=e,t=no(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:r,isDehydrated:n,cache:t},io(u),e}function n0(e){return e?(e=Qa,e):Qa}function a0(e,t,n,r,o,u){o=n0(o),r.context===null?r.context=o:r.pendingContext=o,r=$n(t),r.payload={element:n},u=u===void 0?null:u,u!==null&&(r.callback=u),n=Gn(e,r,t),n!==null&&(Ot(n,e,t),Wr(n,e,t))}function r0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Eu(e,t){r0(e,t),(e=e.alternate)&&r0(e,t)}function s0(e){if(e.tag===13||e.tag===31){var t=ga(e,67108864);t!==null&&Ot(t,e,67108864),Eu(e,67108864)}}function i0(e){if(e.tag===13||e.tag===31){var t=Mt();t=bl(t);var n=ga(e,t);n!==null&&Ot(n,e,t),Eu(e,t)}}var Yi=!0;function cv(e,t,n,r){var o=z.T;z.T=null;var u=Q.p;try{Q.p=2,ju(e,t,n,r)}finally{Q.p=u,z.T=o}}function dv(e,t,n,r){var o=z.T;z.T=null;var u=Q.p;try{Q.p=8,ju(e,t,n,r)}finally{Q.p=u,z.T=o}}function ju(e,t,n,r){if(Yi){var o=Ou(r);if(o===null)fu(e,t,r,Ki,n),o0(e,r);else if(hv(o,e,t,n,r))r.stopPropagation();else if(o0(e,r),t&4&&-1<fv.indexOf(e)){for(;o!==null;){var u=Ma(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=ua(u.pendingLanes);if(h!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;h;){var x=1<<31-Nt(h);v.entanglements[1]|=x,h&=~x}hn(u),(Ne&6)===0&&(Oi=le()+500,gs(0))}}break;case 31:case 13:v=ga(u,2),v!==null&&Ot(v,u,2),Ni(),Eu(u,2)}if(u=Ou(r),u===null&&fu(e,t,r,Ki,n),u===o)break;o=u}o!==null&&r.stopPropagation()}else fu(e,t,r,null,n)}}function Ou(e){return e=Al(e),Au(e)}var Ki=null;function Au(e){if(Ki=null,e=za(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ki=e,null}function l0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Be()){case ge:return 2;case oe:return 8;case Ke:case _t:return 32;case un:return 268435456;default:return 32}default:return 32}}var Nu=!1,Fn=null,ea=null,ta=null,ws=new Map,Ss=new Map,na=[],fv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o0(e,t){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":ws.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ss.delete(t.pointerId)}}function xs(e,t,n,r,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Ma(t),t!==null&&s0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function hv(e,t,n,r,o){switch(t){case"focusin":return Fn=xs(Fn,e,t,n,r,o),!0;case"dragenter":return ea=xs(ea,e,t,n,r,o),!0;case"mouseover":return ta=xs(ta,e,t,n,r,o),!0;case"pointerover":var u=o.pointerId;return ws.set(u,xs(ws.get(u)||null,e,t,n,r,o)),!0;case"gotpointercapture":return u=o.pointerId,Ss.set(u,xs(Ss.get(u)||null,e,t,n,r,o)),!0}return!1}function u0(e){var t=za(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,Sc(e.priority,function(){i0(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,Sc(e.priority,function(){i0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ou(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ol=r,n.target.dispatchEvent(r),Ol=null}else return t=Ma(n),t!==null&&s0(t),e.blockedOn=n,!1;t.shift()}return!0}function c0(e,t,n){Xi(e)&&n.delete(t)}function gv(){Nu=!1,Fn!==null&&Xi(Fn)&&(Fn=null),ea!==null&&Xi(ea)&&(ea=null),ta!==null&&Xi(ta)&&(ta=null),ws.forEach(c0),Ss.forEach(c0)}function Qi(e,t){e.blockedOn===t&&(e.blockedOn=null,Nu||(Nu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,gv)))}var Ji=null;function d0(e){Ji!==e&&(Ji=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Ji===e&&(Ji=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(Au(r||n)===null)continue;break}var u=Ma(n);u!==null&&(e.splice(t,3),t-=3,Oo(u,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function vr(e){function t(x){return Qi(x,e)}Fn!==null&&Qi(Fn,e),ea!==null&&Qi(ea,e),ta!==null&&Qi(ta,e),ws.forEach(t),Ss.forEach(t);for(var n=0;n<na.length;n++){var r=na[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<na.length&&(n=na[0],n.blockedOn===null);)u0(n),n.blockedOn===null&&na.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var o=n[r],u=n[r+1],h=o[wt]||null;if(typeof u=="function")h||d0(n);else if(h){var v=null;if(u&&u.hasAttribute("formAction")){if(o=u,h=u[wt]||null)v=h.formAction;else if(Au(o)!==null)continue}else v=h.action;typeof v=="function"?n[r+1]=v:(n.splice(r,3),r-=3),d0(n)}}}function f0(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(h){return o=h})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function ku(e){this._internalRoot=e}Ii.prototype.render=ku.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,r=Mt();a0(n,r,e,t,null,null)},Ii.prototype.unmount=ku.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;a0(e.current,2,null,e,null,null),Ni(),t[Ua]=null}};function Ii(e){this._internalRoot=e}Ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=wc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<na.length&&t!==0&&t<na[n].priority;n++);na.splice(n,0,e),n===0&&u0(e)}};var h0=a.version;if(h0!=="19.2.0")throw Error(i(527,h0,"19.2.0"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=y(t),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var mv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zi.isDisabled&&Zi.supportsFiber)try{Cr=Zi.inject(mv),At=Zi}catch{}}return Es.createRoot=function(e,t){if(!c(e))throw Error(i(299));var n=!1,r="",o=_f,u=wf,h=Sf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=t0(e,1,!1,null,null,n,r,null,o,u,h,f0),e[Ua]=t.current,du(e),new ku(t)},Es.hydrateRoot=function(e,t,n){if(!c(e))throw Error(i(299));var r=!1,o="",u=_f,h=wf,v=Sf,x=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(x=n.formState)),t=t0(e,1,!0,t,n??null,r,o,x,u,h,v,f0),t.context=n0(null),n=t.current,r=Mt(),r=bl(r),o=$n(r),o.callback=null,Gn(n,o,r),n=r,t.current.lanes=n,Ur(t,n),hn(t),e[Ua]=t.current,du(e),new Ii(t)},Es.version="19.2.0",Es}var x0;function Av(){if(x0)return Du.exports;x0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Du.exports=Ov(),Du.exports}var Nv=Av(),Ju=function(l,a){return Ju=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(s[c]=i[c])},Ju(l,a)};function eg(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");Ju(l,a);function s(){this.constructor=l}l.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}var ll=function(){return ll=Object.assign||function(a){for(var s,i=1,c=arguments.length;i<c;i++){s=arguments[i];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(a[d]=s[d])}return a},ll.apply(this,arguments)};function Nr(l,a){var s={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&a.indexOf(i)<0&&(s[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(l);c<i.length;c++)a.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(l,i[c])&&(s[i[c]]=l[i[c]]);return s}function tg(l,a,s,i){var c=arguments.length,d=c<3?a:i===null?i=Object.getOwnPropertyDescriptor(a,s):i,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(l,a,s,i);else for(var m=l.length-1;m>=0;m--)(f=l[m])&&(d=(c<3?f(d):c>3?f(a,s,d):f(a,s))||d);return c>3&&d&&Object.defineProperty(a,s,d),d}function ng(l,a){return function(s,i){a(s,i,l)}}function ag(l,a,s,i,c,d){function f(M){if(M!==void 0&&typeof M!="function")throw new TypeError("Function expected");return M}for(var m=i.kind,g=m==="getter"?"get":m==="setter"?"set":"value",y=!a&&l?i.static?l:l.prototype:null,w=a||(y?Object.getOwnPropertyDescriptor(y,i.name):{}),E,b=!1,T=s.length-1;T>=0;T--){var _={};for(var A in i)_[A]=A==="access"?{}:i[A];for(var A in i.access)_.access[A]=i.access[A];_.addInitializer=function(M){if(b)throw new TypeError("Cannot add initializers after decoration has completed");d.push(f(M||null))};var N=(0,s[T])(m==="accessor"?{get:w.get,set:w.set}:w[g],_);if(m==="accessor"){if(N===void 0)continue;if(N===null||typeof N!="object")throw new TypeError("Object expected");(E=f(N.get))&&(w.get=E),(E=f(N.set))&&(w.set=E),(E=f(N.init))&&c.unshift(E)}else(E=f(N))&&(m==="field"?c.unshift(E):w[g]=E)}y&&Object.defineProperty(y,i.name,w),b=!0}function rg(l,a,s){for(var i=arguments.length>2,c=0;c<a.length;c++)s=i?a[c].call(l,s):a[c].call(l);return i?s:void 0}function sg(l){return typeof l=="symbol"?l:"".concat(l)}function ig(l,a,s){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:s?"".concat(s," ",a):a})}function lg(l,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,a)}function ee(l,a,s,i){function c(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function m(w){try{y(i.next(w))}catch(E){f(E)}}function g(w){try{y(i.throw(w))}catch(E){f(E)}}function y(w){w.done?d(w.value):c(w.value).then(m,g)}y((i=i.apply(l,a||[])).next())})}function og(l,a){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},i,c,d,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=m(0),f.throw=m(1),f.return=m(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(y){return function(w){return g([y,w])}}function g(y){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(s=0)),s;)try{if(i=1,c&&(d=y[0]&2?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return s.label++,{value:y[1],done:!1};case 5:s.label++,c=y[1],y=[0];continue;case 7:y=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){s=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){s.label=y[1];break}if(y[0]===6&&s.label<d[1]){s.label=d[1],d=y;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(y);break}d[2]&&s.ops.pop(),s.trys.pop();continue}y=a.call(l,s)}catch(w){y=[6,w],c=0}finally{i=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var fl=Object.create?(function(l,a,s,i){i===void 0&&(i=s);var c=Object.getOwnPropertyDescriptor(a,s);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(l,i,c)}):(function(l,a,s,i){i===void 0&&(i=s),l[i]=a[s]});function ug(l,a){for(var s in l)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&fl(a,l,s)}function ol(l){var a=typeof Symbol=="function"&&Symbol.iterator,s=a&&l[a],i=0;if(s)return s.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function uc(l,a){var s=typeof Symbol=="function"&&l[Symbol.iterator];if(!s)return l;var i=s.call(l),c,d=[],f;try{for(;(a===void 0||a-- >0)&&!(c=i.next()).done;)d.push(c.value)}catch(m){f={error:m}}finally{try{c&&!c.done&&(s=i.return)&&s.call(i)}finally{if(f)throw f.error}}return d}function cg(){for(var l=[],a=0;a<arguments.length;a++)l=l.concat(uc(arguments[a]));return l}function dg(){for(var l=0,a=0,s=arguments.length;a<s;a++)l+=arguments[a].length;for(var i=Array(l),c=0,a=0;a<s;a++)for(var d=arguments[a],f=0,m=d.length;f<m;f++,c++)i[c]=d[f];return i}function fg(l,a,s){if(s||arguments.length===2)for(var i=0,c=a.length,d;i<c;i++)(d||!(i in a))&&(d||(d=Array.prototype.slice.call(a,0,i)),d[i]=a[i]);return l.concat(d||Array.prototype.slice.call(a))}function Ar(l){return this instanceof Ar?(this.v=l,this):new Ar(l)}function hg(l,a,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=s.apply(l,a||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",f),c[Symbol.asyncIterator]=function(){return this},c;function f(T){return function(_){return Promise.resolve(_).then(T,E)}}function m(T,_){i[T]&&(c[T]=function(A){return new Promise(function(N,M){d.push([T,A,N,M])>1||g(T,A)})},_&&(c[T]=_(c[T])))}function g(T,_){try{y(i[T](_))}catch(A){b(d[0][3],A)}}function y(T){T.value instanceof Ar?Promise.resolve(T.value.v).then(w,E):b(d[0][2],T)}function w(T){g("next",T)}function E(T){g("throw",T)}function b(T,_){T(_),d.shift(),d.length&&g(d[0][0],d[0][1])}}function gg(l){var a,s;return a={},i("next"),i("throw",function(c){throw c}),i("return"),a[Symbol.iterator]=function(){return this},a;function i(c,d){a[c]=l[c]?function(f){return(s=!s)?{value:Ar(l[c](f)),done:!1}:d?d(f):f}:d}}function mg(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l[Symbol.asyncIterator],s;return a?a.call(l):(l=typeof ol=="function"?ol(l):l[Symbol.iterator](),s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s);function i(d){s[d]=l[d]&&function(f){return new Promise(function(m,g){f=l[d](f),c(m,g,f.done,f.value)})}}function c(d,f,m,g){Promise.resolve(g).then(function(y){d({value:y,done:m})},f)}}function yg(l,a){return Object.defineProperty?Object.defineProperty(l,"raw",{value:a}):l.raw=a,l}var kv=Object.create?(function(l,a){Object.defineProperty(l,"default",{enumerable:!0,value:a})}):function(l,a){l.default=a},Iu=function(l){return Iu=Object.getOwnPropertyNames||function(a){var s=[];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[s.length]=i);return s},Iu(l)};function vg(l){if(l&&l.__esModule)return l;var a={};if(l!=null)for(var s=Iu(l),i=0;i<s.length;i++)s[i]!=="default"&&fl(a,l,s[i]);return kv(a,l),a}function pg(l){return l&&l.__esModule?l:{default:l}}function bg(l,a,s,i){if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?l!==a||!i:!a.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?i:s==="a"?i.call(l):i?i.value:a.get(l)}function _g(l,a,s,i,c){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?l!==a||!c:!a.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?c.call(l,s):c?c.value=s:a.set(l,s),s}function wg(l,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?a===l:l.has(a)}function Sg(l,a,s){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var i,c;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=a[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=a[Symbol.dispose],s&&(c=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");c&&(i=function(){try{c.call(this)}catch(d){return Promise.reject(d)}}),l.stack.push({value:a,dispose:i,async:s})}else s&&l.stack.push({async:!0});return a}var Rv=typeof SuppressedError=="function"?SuppressedError:function(l,a,s){var i=new Error(s);return i.name="SuppressedError",i.error=l,i.suppressed=a,i};function xg(l){function a(d){l.error=l.hasError?new Rv(d,l.error,"An error was suppressed during disposal."):d,l.hasError=!0}var s,i=0;function c(){for(;s=l.stack.pop();)try{if(!s.async&&i===1)return i=0,l.stack.push(s),Promise.resolve().then(c);if(s.dispose){var d=s.dispose.call(s.value);if(s.async)return i|=2,Promise.resolve(d).then(c,function(f){return a(f),c()})}else i|=1}catch(f){a(f)}if(i===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return c()}function Tg(l,a){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,i,c,d,f){return i?a?".jsx":".js":c&&(!d||!f)?s:c+d+"."+f.toLowerCase()+"js"}):l}const Cv={__extends:eg,__assign:ll,__rest:Nr,__decorate:tg,__param:ng,__esDecorate:ag,__runInitializers:rg,__propKey:sg,__setFunctionName:ig,__metadata:lg,__awaiter:ee,__generator:og,__createBinding:fl,__exportStar:ug,__values:ol,__read:uc,__spread:cg,__spreadArrays:dg,__spreadArray:fg,__await:Ar,__asyncGenerator:hg,__asyncDelegator:gg,__asyncValues:mg,__makeTemplateObject:yg,__importStar:vg,__importDefault:pg,__classPrivateFieldGet:bg,__classPrivateFieldSet:_g,__classPrivateFieldIn:wg,__addDisposableResource:Sg,__disposeResources:xg,__rewriteRelativeImportExtension:Tg},Dv=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Sg,get __assign(){return ll},__asyncDelegator:gg,__asyncGenerator:hg,__asyncValues:mg,__await:Ar,__awaiter:ee,__classPrivateFieldGet:bg,__classPrivateFieldIn:wg,__classPrivateFieldSet:_g,__createBinding:fl,__decorate:tg,__disposeResources:xg,__esDecorate:ag,__exportStar:ug,__extends:eg,__generator:og,__importDefault:pg,__importStar:vg,__makeTemplateObject:yg,__metadata:lg,__param:ng,__propKey:sg,__read:uc,__rest:Nr,__rewriteRelativeImportExtension:Tg,__runInitializers:rg,__setFunctionName:ig,__spread:cg,__spreadArray:fg,__spreadArrays:dg,__values:ol,default:Cv},Symbol.toStringTag,{value:"Module"})),Uv=l=>l?(...a)=>l(...a):(...a)=>fetch(...a);class cc extends Error{constructor(a,s="FunctionsError",i){super(a),this.name=s,this.context=i}}class zv extends cc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class T0 extends cc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class E0 extends cc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Zu;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Zu||(Zu={}));class Mv{constructor(a,{headers:s={},customFetch:i,region:c=Zu.Any}={}){this.url=a,this.headers=s,this.region=c,this.fetch=Uv(i)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return ee(this,arguments,void 0,function*(s,i={}){var c;let d,f;try{const{headers:m,method:g,body:y,signal:w,timeout:E}=i;let b={},{region:T}=i;T||(T=this.region);const _=new URL(`${this.url}/${s}`);T&&T!=="any"&&(b["x-region"]=T,_.searchParams.set("forceFunctionRegion",T));let A;y&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",A=y):typeof y=="string"?(b["Content-Type"]="text/plain",A=y):typeof FormData<"u"&&y instanceof FormData?A=y:(b["Content-Type"]="application/json",A=JSON.stringify(y)):A=y;let N=w;E&&(f=new AbortController,d=setTimeout(()=>f.abort(),E),w?(N=f.signal,w.addEventListener("abort",()=>f.abort())):N=f.signal);const M=yield this.fetch(_.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),m),body:A,signal:N}).catch(W=>{throw new zv(W)}),K=M.headers.get("x-relay-error");if(K&&K==="true")throw new T0(M);if(!M.ok)throw new E0(M);let q=((c=M.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),X;return q==="application/json"?X=yield M.json():q==="application/octet-stream"||q==="application/pdf"?X=yield M.blob():q==="text/event-stream"?X=M:q==="multipart/form-data"?X=yield M.formData():X=yield M.text(),{data:X,error:null,response:M}}catch(m){return{data:null,error:m,response:m instanceof E0||m instanceof T0?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var pt={};const kr=bv(Dv);var Pi={},Wi={},Fi={},el={},tl={},nl={},j0;function Eg(){if(j0)return nl;j0=1,Object.defineProperty(nl,"__esModule",{value:!0});class l extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return nl.default=l,nl}var O0;function jg(){if(O0)return tl;O0=1,Object.defineProperty(tl,"__esModule",{value:!0});const a=kr.__importDefault(Eg());class s{constructor(c){var d,f;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(d=c.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=c.signal,this.isMaybeSingle=(f=c.isMaybeSingle)!==null&&f!==void 0?f:!1,c.fetch?this.fetch=c.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=new Headers(this.headers),this.headers.set(c,d),this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let m=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,w,E,b;let T=null,_=null,A=null,N=g.status,M=g.statusText;if(g.ok){if(this.method!=="HEAD"){const W=await g.text();W===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?_=W:_=JSON.parse(W))}const q=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),X=(E=g.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");q&&X&&X.length>1&&(A=parseInt(X[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(T={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,A=null,N=406,M="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const q=await g.text();try{T=JSON.parse(q),Array.isArray(T)&&g.status===404&&(_=[],T=null,N=200,M="OK")}catch{g.status===404&&q===""?(N=204,M="No Content"):T={message:q}}if(T&&this.isMaybeSingle&&(!((b=T?.details)===null||b===void 0)&&b.includes("0 rows"))&&(T=null,N=200,M="OK"),T&&this.shouldThrowOnError)throw new a.default(T)}return{error:T,data:_,count:A,status:N,statusText:M}});return this.shouldThrowOnError||(m=m.catch(g=>{var y,w,E,b,T,_;let A="";const N=g?.cause;if(N){const M=(y=N?.message)!==null&&y!==void 0?y:"",K=(w=N?.code)!==null&&w!==void 0?w:"";A=`${(E=g?.name)!==null&&E!==void 0?E:"FetchError"}: ${g?.message}`,A+=`

Caused by: ${(b=N?.name)!==null&&b!==void 0?b:"Error"}: ${M}`,K&&(A+=` (${K})`),N?.stack&&(A+=`
${N.stack}`)}else A=(T=g?.stack)!==null&&T!==void 0?T:"";return{error:{message:`${(_=g?.name)!==null&&_!==void 0?_:"FetchError"}: ${g?.message}`,details:A,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(c,d)}returns(){return this}overrideTypes(){return this}}return tl.default=s,tl}var A0;function Og(){if(A0)return el;A0=1,Object.defineProperty(el,"__esModule",{value:!0});const a=kr.__importDefault(jg());class s extends a.default{select(c){let d=!1;const f=(c??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:d=!0,nullsFirst:f,foreignTable:m,referencedTable:g=m}={}){const y=g?`${g}.order`:"order",w=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${w?`${w},`:""}${c}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:f=d}={}){const m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,d,{foreignTable:f,referencedTable:m=f}={}){const g=typeof m>"u"?"offset":`${m}.offset`,y=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${c}`),this.url.searchParams.set(y,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:d=!1,settings:f=!1,buffers:m=!1,wal:g=!1,format:y="text"}={}){var w;const E=[c?"analyze":null,d?"verbose":null,f?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),b=(w=this.headers.get("Accept"))!==null&&w!==void 0?w:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${b}"; options=${E};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return el.default=s,el}var N0;function dc(){if(N0)return Fi;N0=1,Object.defineProperty(Fi,"__esModule",{value:!0});const a=kr.__importDefault(Og()),s=new RegExp("[,()]");class i extends a.default{eq(d,f){return this.url.searchParams.append(d,`eq.${f}`),this}neq(d,f){return this.url.searchParams.append(d,`neq.${f}`),this}gt(d,f){return this.url.searchParams.append(d,`gt.${f}`),this}gte(d,f){return this.url.searchParams.append(d,`gte.${f}`),this}lt(d,f){return this.url.searchParams.append(d,`lt.${f}`),this}lte(d,f){return this.url.searchParams.append(d,`lte.${f}`),this}like(d,f){return this.url.searchParams.append(d,`like.${f}`),this}likeAllOf(d,f){return this.url.searchParams.append(d,`like(all).{${f.join(",")}}`),this}likeAnyOf(d,f){return this.url.searchParams.append(d,`like(any).{${f.join(",")}}`),this}ilike(d,f){return this.url.searchParams.append(d,`ilike.${f}`),this}ilikeAllOf(d,f){return this.url.searchParams.append(d,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(d,f){return this.url.searchParams.append(d,`ilike(any).{${f.join(",")}}`),this}regexMatch(d,f){return this.url.searchParams.append(d,`match.${f}`),this}regexIMatch(d,f){return this.url.searchParams.append(d,`imatch.${f}`),this}is(d,f){return this.url.searchParams.append(d,`is.${f}`),this}isDistinct(d,f){return this.url.searchParams.append(d,`isdistinct.${f}`),this}in(d,f){const m=Array.from(new Set(f)).map(g=>typeof g=="string"&&s.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(d,`in.(${m})`),this}contains(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cs.{${f.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(f)}`),this}containedBy(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cd.{${f.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(f)}`),this}rangeGt(d,f){return this.url.searchParams.append(d,`sr.${f}`),this}rangeGte(d,f){return this.url.searchParams.append(d,`nxl.${f}`),this}rangeLt(d,f){return this.url.searchParams.append(d,`sl.${f}`),this}rangeLte(d,f){return this.url.searchParams.append(d,`nxr.${f}`),this}rangeAdjacent(d,f){return this.url.searchParams.append(d,`adj.${f}`),this}overlaps(d,f){return typeof f=="string"?this.url.searchParams.append(d,`ov.${f}`):this.url.searchParams.append(d,`ov.{${f.join(",")}}`),this}textSearch(d,f,{config:m,type:g}={}){let y="";g==="plain"?y="pl":g==="phrase"?y="ph":g==="websearch"&&(y="w");const w=m===void 0?"":`(${m})`;return this.url.searchParams.append(d,`${y}fts${w}.${f}`),this}match(d){return Object.entries(d).forEach(([f,m])=>{this.url.searchParams.append(f,`eq.${m}`)}),this}not(d,f,m){return this.url.searchParams.append(d,`not.${f}.${m}`),this}or(d,{foreignTable:f,referencedTable:m=f}={}){const g=m?`${m}.or`:"or";return this.url.searchParams.append(g,`(${d})`),this}filter(d,f,m){return this.url.searchParams.append(d,`${f}.${m}`),this}}return Fi.default=i,Fi}var k0;function Ag(){if(k0)return Wi;k0=1,Object.defineProperty(Wi,"__esModule",{value:!0});const a=kr.__importDefault(dc());class s{constructor(c,{headers:d={},schema:f,fetch:m}){this.url=c,this.headers=new Headers(d),this.schema=f,this.fetch=m}select(c,d){const{head:f=!1,count:m}=d??{},g=f?"HEAD":"GET";let y=!1;const w=(c??"*").split("").map(E=>/\s/.test(E)&&!y?"":(E==='"'&&(y=!y),E)).join("");return this.url.searchParams.set("select",w),m&&this.headers.append("Prefer",`count=${m}`),new a.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:d,defaultToNull:f=!0}={}){var m;const g="POST";if(d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const y=c.reduce((w,E)=>w.concat(Object.keys(E)),[]);if(y.length>0){const w=[...new Set(y)].map(E=>`"${E}"`);this.url.searchParams.set("columns",w.join(","))}}return new a.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(c,{onConflict:d,ignoreDuplicates:f=!1,count:m,defaultToNull:g=!0}={}){var y;const w="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const E=c.reduce((b,T)=>b.concat(Object.keys(T)),[]);if(E.length>0){const b=[...new Set(E)].map(T=>`"${T}"`);this.url.searchParams.set("columns",b.join(","))}}return new a.default({method:w,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(c,{count:d}={}){var f;const m="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:c}={}){var d;const f="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new a.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Wi.default=s,Wi}var R0;function Bv(){if(R0)return Pi;R0=1,Object.defineProperty(Pi,"__esModule",{value:!0});const l=kr,a=l.__importDefault(Ag()),s=l.__importDefault(dc());class i{constructor(d,{headers:f={},schema:m,fetch:g}={}){this.url=d,this.headers=new Headers(f),this.schemaName=m,this.fetch=g}from(d){if(!d||typeof d!="string"||d.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const f=new URL(`${this.url}/${d}`);return new a.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new i(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:m=!1,get:g=!1,count:y}={}){var w;let E;const b=new URL(`${this.url}/rpc/${d}`);let T;m||g?(E=m?"HEAD":"GET",Object.entries(f).filter(([A,N])=>N!==void 0).map(([A,N])=>[A,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([A,N])=>{b.searchParams.append(A,N)})):(E="POST",T=f);const _=new Headers(this.headers);return y&&_.set("Prefer",`count=${y}`),new s.default({method:E,url:b,headers:_,schema:this.schemaName,body:T,fetch:(w=this.fetch)!==null&&w!==void 0?w:fetch})}}return Pi.default=i,Pi}var C0;function qv(){if(C0)return pt;C0=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.PostgrestError=pt.PostgrestBuilder=pt.PostgrestTransformBuilder=pt.PostgrestFilterBuilder=pt.PostgrestQueryBuilder=pt.PostgrestClient=void 0;const l=kr,a=l.__importDefault(Bv());pt.PostgrestClient=a.default;const s=l.__importDefault(Ag());pt.PostgrestQueryBuilder=s.default;const i=l.__importDefault(dc());pt.PostgrestFilterBuilder=i.default;const c=l.__importDefault(Og());pt.PostgrestTransformBuilder=c.default;const d=l.__importDefault(jg());pt.PostgrestBuilder=d.default;const f=l.__importDefault(Eg());return pt.PostgrestError=f.default,pt.default={PostgrestClient:a.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:f.default},pt}var Ng=qv();const kg=pv(Ng),Lv=vv({__proto__:null,default:kg},[Ng]),{PostgrestClient:Hv,PostgrestQueryBuilder:w_,PostgrestFilterBuilder:S_,PostgrestTransformBuilder:x_,PostgrestBuilder:T_,PostgrestError:E_}=kg||Lv;class $v{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,c=parseInt(i.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let s=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(s+=`

Suggested solution: ${a.workaround}`),new Error(s)}static createWebSocket(a,s){const i=this.getWebSocketConstructor();return new i(a,s)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Gv="2.86.0",Vv=`realtime-js/${Gv}`,Rg="1.0.0",Yv="2.0.0",D0=Rg,Pu=1e4,Kv=1e3,Xv=100;var ka;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(ka||(ka={}));var lt;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(lt||(lt={}));var ln;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(ln||(ln={}));var Wu;(function(l){l.websocket="websocket"})(Wu||(Wu={}));var Ra;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(Ra||(Ra={}));class Qv{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,s){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(a));let i=[a.join_ref,a.ref,a.topic,a.event,a.payload];return s(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(a){var s;return this._isArrayBuffer((s=a.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var s,i;const c=(i=(s=a.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var s,i;const c=(i=(s=a.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,s,i){var c,d;const f=a.topic,m=(c=a.ref)!==null&&c!==void 0?c:"",g=(d=a.join_ref)!==null&&d!==void 0?d:"",y=a.payload.event,w=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},E=Object.keys(w).length===0?"":JSON.stringify(w);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(E.length>255)throw new Error(`metadata length ${E.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+f.length+y.length+E.length,T=new ArrayBuffer(this.HEADER_LENGTH+b);let _=new DataView(T),A=0;_.setUint8(A++,this.KINDS.userBroadcastPush),_.setUint8(A++,g.length),_.setUint8(A++,m.length),_.setUint8(A++,f.length),_.setUint8(A++,y.length),_.setUint8(A++,E.length),_.setUint8(A++,s),Array.from(g,M=>_.setUint8(A++,M.charCodeAt(0))),Array.from(m,M=>_.setUint8(A++,M.charCodeAt(0))),Array.from(f,M=>_.setUint8(A++,M.charCodeAt(0))),Array.from(y,M=>_.setUint8(A++,M.charCodeAt(0))),Array.from(E,M=>_.setUint8(A++,M.charCodeAt(0)));var N=new Uint8Array(T.byteLength+i.byteLength);return N.set(new Uint8Array(T),0),N.set(new Uint8Array(i),T.byteLength),N.buffer}decode(a,s){if(this._isArrayBuffer(a)){let i=this._binaryDecode(a);return s(i)}if(typeof a=="string"){const i=JSON.parse(a),[c,d,f,m,g]=i;return s({join_ref:c,ref:d,topic:f,event:m,payload:g})}return s({})}_binaryDecode(a){const s=new DataView(a),i=s.getUint8(0),c=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,s,c)}}_decodeUserBroadcast(a,s,i){const c=s.getUint8(1),d=s.getUint8(2),f=s.getUint8(3),m=s.getUint8(4);let g=this.HEADER_LENGTH+4;const y=i.decode(a.slice(g,g+c));g=g+c;const w=i.decode(a.slice(g,g+d));g=g+d;const E=i.decode(a.slice(g,g+f));g=g+f;const b=a.slice(g,a.byteLength),T=m===this.JSON_ENCODING?JSON.parse(i.decode(b)):b,_={type:this.BROADCAST_EVENT,event:w,payload:T};return f>0&&(_.meta=JSON.parse(E)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(a){var s;return a instanceof ArrayBuffer||((s=a?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(a,s){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([i])=>s.includes(i)))}}class Cg{constructor(a,s){this.callback=a,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Le||(Le={}));const U0=(l,a,s={})=>{var i;const c=(i=s.skipTypes)!==null&&i!==void 0?i:[];return a?Object.keys(a).reduce((d,f)=>(d[f]=Jv(f,l,a,c),d),{}):{}},Jv=(l,a,s,i)=>{const c=a.find(m=>m.name===l),d=c?.type,f=s[l];return d&&!i.includes(d)?Dg(d,f):Fu(f)},Dg=(l,a)=>{if(l.charAt(0)==="_"){const s=l.slice(1,l.length);return Wv(a,s)}switch(l){case Le.bool:return Iv(a);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return Zv(a);case Le.json:case Le.jsonb:return Pv(a);case Le.timestamp:return Fv(a);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return Fu(a);default:return Fu(a)}},Fu=l=>l,Iv=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},Zv=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},Pv=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(a){return console.log(`JSON parse error: ${a}`),l}return l},Wv=(l,a)=>{if(typeof l!="string")return l;const s=l.length-1,i=l[s];if(l[0]==="{"&&i==="}"){let d;const f=l.slice(1,s);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(m=>Dg(a,m))}return l},Fv=l=>typeof l=="string"?l.replace(" ","T"):l,Ug=l=>{const a=new URL(l);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Bu{constructor(a,s,i={},c=Pu){this.channel=a,this.event=s,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,s){var i;return this._hasReceived(a)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:a,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:s}){this.recHooks.filter(i=>i.status===a).forEach(i=>i.callback(s))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var z0;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(z0||(z0={}));class Os{constructor(a,s){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Os.syncState(this.state,c,d,f),this.pendingDiffs.forEach(g=>{this.state=Os.syncDiff(this.state,g,d,f)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Os.syncDiff(this.state,c,d,f),m())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,s,i,c){const d=this.cloneDeep(a),f=this.transformState(s),m={},g={};return this.map(d,(y,w)=>{f[y]||(g[y]=w)}),this.map(f,(y,w)=>{const E=d[y];if(E){const b=w.map(N=>N.presence_ref),T=E.map(N=>N.presence_ref),_=w.filter(N=>T.indexOf(N.presence_ref)<0),A=E.filter(N=>b.indexOf(N.presence_ref)<0);_.length>0&&(m[y]=_),A.length>0&&(g[y]=A)}else m[y]=w}),this.syncDiff(d,{joins:m,leaves:g},i,c)}static syncDiff(a,s,i,c){const{joins:d,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(d,(m,g)=>{var y;const w=(y=a[m])!==null&&y!==void 0?y:[];if(a[m]=this.cloneDeep(g),w.length>0){const E=a[m].map(T=>T.presence_ref),b=w.filter(T=>E.indexOf(T.presence_ref)<0);a[m].unshift(...b)}i(m,w,g)}),this.map(f,(m,g)=>{let y=a[m];if(!y)return;const w=g.map(E=>E.presence_ref);y=y.filter(E=>w.indexOf(E.presence_ref)<0),a[m]=y,c(m,y,g),y.length===0&&delete a[m]}),a}static map(a,s){return Object.getOwnPropertyNames(a).map(i=>s(i,a[i]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((s,i)=>{const c=a[i];return"metas"in c?s[i]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[i]=c,s},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var M0;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(M0||(M0={}));var As;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(As||(As={}));var Cn;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Cn||(Cn={}));class fc{constructor(a,s={config:{}},i){var c,d;if(this.topic=a,this.params=s,this.socket=i,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Bu(this,ln.join,this.params,this.timeout),this.rejoinTimer=new Cg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ln.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new Os(this),this.broadcastEndpointURL=Ug(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,s=this.timeout){var i,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:f,presence:m,private:g}}=this.params,y=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(T=>T.filter))!==null&&c!==void 0?c:[],w=!!this.bindings[As.PRESENCE]&&this.bindings[As.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,E={},b={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:w}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(T=>a?.(Cn.CHANNEL_ERROR,T)),this._onClose(()=>a?.(Cn.CLOSED)),this.updateJoinPayload(Object.assign({config:b},E)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:T})=>{var _;if(this.socket.setAuth(),T===void 0){a?.(Cn.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,N=(_=A?.length)!==null&&_!==void 0?_:0,M=[];for(let K=0;K<N;K++){const q=A[K],{filter:{event:X,schema:W,table:te,filter:J}}=q,fe=T&&T[K];if(fe&&fe.event===X&&fe.schema===W&&fe.table===te&&fe.filter===J)M.push(Object.assign(Object.assign({},q),{id:fe.id}));else{this.unsubscribe(),this.state=lt.errored,a?.(Cn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,a&&a(Cn.SUBSCRIBED);return}}).receive("error",T=>{this.state=lt.errored,a?.(Cn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{a?.(Cn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,s={}){return await this.send({type:"presence",event:"track",payload:a},s.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,s,i){return this.state===lt.joined&&a===As.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,s,i)}async httpSend(a,s,i={}){var c;const d=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:d,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=i.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const y=await m.json();g=y.error||y.message||g}catch{}return Promise.reject(new Error(g))}async send(a,s={}){var i,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=a,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,m,g;const y=this._push(a.type,a,s.timeout||this.timeout);a.type==="broadcast"&&!(!((g=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),y.receive("ok",()=>d("ok")),y.receive("error",()=>d("error")),y.receive("timeout",()=>d("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=lt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ln.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new Bu(this,ln.leave,{},a),i.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(a,s,i){const c=new AbortController,d=setTimeout(()=>c.abort(),i),f=await this.socket.fetch(a,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(d),f}_push(a,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Bu(this,a,s,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Xv){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(a,s,i){return s}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,s,i){var c,d;const f=a.toLocaleLowerCase(),{close:m,error:g,leave:y,join:w}=ln;if(i&&[m,g,y,w].indexOf(f)>=0&&i!==this._joinRef())return;let b=this._onMessage(f,s,i);if(s&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(T=>{var _,A,N;return((_=T.filter)===null||_===void 0?void 0:_.event)==="*"||((N=(A=T.filter)===null||A===void 0?void 0:A.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===f}).map(T=>T.callback(b,i)):(d=this.bindings[f])===null||d===void 0||d.filter(T=>{var _,A,N,M,K,q;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in T){const X=T.id,W=(_=T.filter)===null||_===void 0?void 0:_.event;return X&&((A=s.ids)===null||A===void 0?void 0:A.includes(X))&&(W==="*"||W?.toLocaleLowerCase()===((N=s.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const X=(K=(M=T?.filter)===null||M===void 0?void 0:M.event)===null||K===void 0?void 0:K.toLocaleLowerCase();return X==="*"||X===((q=s?.event)===null||q===void 0?void 0:q.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===f}).map(T=>{if(typeof b=="object"&&"ids"in b){const _=b.data,{schema:A,table:N,commit_timestamp:M,type:K,errors:q}=_;b=Object.assign(Object.assign({},{schema:A,table:N,commit_timestamp:M,eventType:K,new:{},old:{},errors:q}),this._getPayloadRecords(_))}T.callback(b,i)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,s,i){const c=a.toLocaleLowerCase(),d={type:c,filter:s,callback:i};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(a,s){const i=a.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===i&&fc.isEqual(c.filter,s))})),this}static isEqual(a,s){if(Object.keys(a).length!==Object.keys(s).length)return!1;for(const i in a)if(a[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(ln.close,{},a)}_onError(a){this._on(ln.error,{},s=>a(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const s={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(s.new=U0(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(s.old=U0(a.columns,a.old_record)),s}}const qu=()=>{},al={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ep=[1e3,2e3,5e3,1e4],tp=1e4,np=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ap{constructor(a,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pu,this.transport=null,this.heartbeatIntervalMs=al.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qu,this.ref=0,this.reconnectTimer=null,this.vsn=D0,this.logger=qu,this.conn=null,this.sendBuffer=[],this.serializer=new Qv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${a}/${Wu.websocket}`,this.httpEndpoint=Ug(a),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$v.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const s=a.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const s=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const a=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,s,i){this.logger(a,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ka.connecting:return Ra.Connecting;case ka.open:return Ra.Open;case ka.closing:return Ra.Closing;default:return Ra.Closed}}isConnected(){return this.connectionState()===Ra.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,s={config:{}}){const i=`realtime:${a}`,c=this.getChannels().find(d=>d.topic===i);if(c)return c;{const d=new fc(`realtime:${a}`,s,this);return this.channels.push(d),d}}push(a){const{topic:s,event:i,payload:c,ref:d}=a,f=()=>{this.encode(a,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${s} ${i} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Kv,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},al.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let s=this.channels.find(i=>i.topic===a&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${a}"`),s.unsubscribe())}_remove(a){this.channels=this.channels.filter(s=>s.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:c,payload:d,ref:f}=s,m=f?`(${f})`:"",g=d.status||"";this.log("receive",`${g} ${i} ${c} ${m}`.trim(),d),this.channels.filter(y=>y._isMember(i)).forEach(y=>y._trigger(c,d,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(a){var s;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ka.open||this.conn.readyState===ka.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var s;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(ln.error))}_appendParams(a,s){if(Object.keys(s).length===0)return a;const i=a.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${a}${i}${c}`}_workerObjectUrl(a){let s;if(a)s=a;else{const i=new Blob([np],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(a,s=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(a=null){let s;a?s=a:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const c={access_token:s,version:Vv};s&&i.updateJoinPayload(c),i.joinedOnce&&i._isJoined()&&i._push(ln.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${a}`,s)})}_triggerStateCallbacks(a,s){try{this.stateChangeCallbacks[a].forEach(i=>{try{i(s)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(i){this.log("error",`error triggering ${a} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Cg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},al.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var s,i,c,d,f,m,g,y,w,E,b,T;switch(this.transport=(s=a?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=a?.timeout)!==null&&i!==void 0?i:Pu,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:al.HEARTBEAT_INTERVAL,this.worker=(d=a?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=a?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:qu,this.vsn=(g=a?.vsn)!==null&&g!==void 0?g:D0,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=a?.reconnectAfterMs)!==null&&y!==void 0?y:(_=>ep[_-1]||tp),this.vsn){case Rg:this.encode=(w=a?.encode)!==null&&w!==void 0?w:((_,A)=>A(JSON.stringify(_))),this.decode=(E=a?.decode)!==null&&E!==void 0?E:((_,A)=>A(JSON.parse(_)));break;case Yv:this.encode=(b=a?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(T=a?.decode)!==null&&T!==void 0?T:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}class hl extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Xe(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class rp extends hl{constructor(a,s,i){super(a),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ec extends hl{constructor(a,s){super(a),this.name="StorageUnknownError",this.originalError=s}}const hc=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),sp=()=>Response,tc=l=>{if(Array.isArray(l))return l.map(s=>tc(s));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([s,i])=>{const c=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));a[c]=tc(i)}),a},ip=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},lp=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l),Lu=l=>{var a;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(a=l.error)===null||a===void 0?void 0:a.message)||JSON.stringify(l)},op=(l,a,s)=>ee(void 0,void 0,void 0,function*(){const i=yield sp();l instanceof i&&!s?.noResolveJson?l.json().then(c=>{const d=l.status||500,f=c?.statusCode||d+"";a(new rp(Lu(c),d,f))}).catch(c=>{a(new ec(Lu(c),c))}):a(new ec(Lu(l),l))}),up=(l,a,s,i)=>{const c={method:l,headers:a?.headers||{}};return l==="GET"||!i?c:(ip(i)?(c.headers=Object.assign({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(i)):c.body=i,a?.duplex&&(c.duplex=a.duplex),Object.assign(Object.assign({},c),s))};function Ds(l,a,s,i,c,d){return ee(this,void 0,void 0,function*(){return new Promise((f,m)=>{l(s,up(a,i,c,d)).then(g=>{if(!g.ok)throw g;return i?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>op(g,m,i))})})}function Ns(l,a,s,i){return ee(this,void 0,void 0,function*(){return Ds(l,"GET",a,s,i)})}function sn(l,a,s,i,c){return ee(this,void 0,void 0,function*(){return Ds(l,"POST",a,i,c,s)})}function nc(l,a,s,i,c){return ee(this,void 0,void 0,function*(){return Ds(l,"PUT",a,i,c,s)})}function cp(l,a,s,i){return ee(this,void 0,void 0,function*(){return Ds(l,"HEAD",a,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function gc(l,a,s,i,c){return ee(this,void 0,void 0,function*(){return Ds(l,"DELETE",a,i,c,s)})}class dp{constructor(a,s){this.downloadFn=a,this.shouldThrowOnError=s}then(a,s){return this.execute().then(a,s)}execute(){return ee(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Xe(a))return{data:null,error:a};throw a}})}}var zg;class fp{constructor(a,s){this.downloadFn=a,this.shouldThrowOnError=s,this[zg]="BlobDownloadBuilder",this.promise=null}asStream(){return new dp(this.downloadFn,this.shouldThrowOnError)}then(a,s){return this.getPromise().then(a,s)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ee(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Xe(a))return{data:null,error:a};throw a}})}}zg=Symbol.toStringTag;const hp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},B0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gp{constructor(a,s={},i,c){this.shouldThrowOnError=!1,this.url=a,this.headers=s,this.bucketId=i,this.fetch=hc(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,s,i,c){return ee(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},B0),c);let m=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",this.encodeMetadata(g)),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),g&&!d.has("metadata")&&d.append("metadata",this.encodeMetadata(g))):(d=i,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),c?.headers&&(m=Object.assign(Object.assign({},m),c.headers));const y=this._removeEmptyFolders(s),w=this._getFinalPath(y),E=yield(a=="PUT"?nc:sn)(this.fetch,`${this.url}/object/${w}`,d,Object.assign({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:y,id:E.Id,fullPath:E.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Xe(d))return{data:null,error:d};throw d}})}upload(a,s,i){return ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,s,i)})}uploadToSignedUrl(a,s,i,c){return ee(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(a),f=this._getFinalPath(d),m=new URL(this.url+`/object/upload/sign/${f}`);m.searchParams.set("token",s);try{let g;const y=Object.assign({upsert:B0.upsert},c),w=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",y.cacheControl)):(g=i,w["cache-control"]=`max-age=${y.cacheControl}`,w["content-type"]=y.contentType);const E=yield nc(this.fetch,m.toString(),g,{headers:w});return{data:{path:d,fullPath:E.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Xe(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(a,s){return ee(this,void 0,void 0,function*(){try{let i=this._getFinalPath(a);const c=Object.assign({},this.headers);s?.upsert&&(c["x-upsert"]="true");const d=yield sn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:c}),f=new URL(this.url+d.url),m=f.searchParams.get("token");if(!m)throw new hl("No token returned by API");return{data:{signedUrl:f.toString(),path:a,token:m},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}update(a,s,i){return ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,s,i)})}move(a,s,i){return ee(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}})}copy(a,s,i){return ee(this,void 0,void 0,function*(){try{return{data:{path:(yield sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}})}createSignedUrl(a,s,i){return ee(this,void 0,void 0,function*(){try{let c=this._getFinalPath(a),d=yield sn(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:s},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}})}createSignedUrls(a,s,i){return ee(this,void 0,void 0,function*(){try{const c=yield sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:a},{headers:this.headers}),d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}})}download(a,s){const c=typeof s?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(s?.transform||{}),f=d?`?${d}`:"",m=this._getFinalPath(a),g=()=>Ns(this.fetch,`${this.url}/${c}/${m}${f}`,{headers:this.headers,noResolveJson:!0});return new fp(g,this.shouldThrowOnError)}info(a){return ee(this,void 0,void 0,function*(){const s=this._getFinalPath(a);try{const i=yield Ns(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:tc(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}exists(a){return ee(this,void 0,void 0,function*(){const s=this._getFinalPath(a);try{return yield cp(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i)&&i instanceof ec){const c=i.originalError;if([400,404].includes(c?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(a,s){const i=this._getFinalPath(a),c=[],d=s?.download?`download=${s.download===!0?"":s.download}`:"";d!==""&&c.push(d);const m=typeof s?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(s?.transform||{});g!==""&&c.push(g);let y=c.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${i}${y}`)}}}remove(a){return ee(this,void 0,void 0,function*(){try{return{data:yield gc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}list(a,s,i){return ee(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},hp),s),{prefix:a||""});return{data:yield sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},i),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}})}listV2(a,s){return ee(this,void 0,void 0,function*(){try{const i=Object.assign({},a);return{data:yield sn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const s=[];return a.width&&s.push(`width=${a.width}`),a.height&&s.push(`height=${a.height}`),a.resize&&s.push(`resize=${a.resize}`),a.format&&s.push(`format=${a.format}`),a.quality&&s.push(`quality=${a.quality}`),s.join("&")}}const Mg="2.86.0",Bg={"X-Client-Info":`storage-js/${Mg}`};class mp{constructor(a,s={},i,c){this.shouldThrowOnError=!1;const d=new URL(a);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bg),s),this.fetch=hc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return ee(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(a);return{data:yield Ns(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}getBucket(a){return ee(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}createBucket(a){return ee(this,arguments,void 0,function*(s,i={public:!1}){try{return{data:yield sn(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}})}updateBucket(a,s){return ee(this,void 0,void 0,function*(){try{return{data:yield nc(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}emptyBucket(a){return ee(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}deleteBucket(a){return ee(this,void 0,void 0,function*(){try{return{data:yield gc(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(a){const s={};return a&&("limit"in a&&(s.limit=String(a.limit)),"offset"in a&&(s.offset=String(a.offset)),a.search&&(s.search=a.search),a.sortColumn&&(s.sortColumn=a.sortColumn),a.sortOrder&&(s.sortOrder=a.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}var ks=class extends Error{constructor(l,a){super(l),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function yp(l,a,s){const i=new URL(a,l);if(s)for(const[c,d]of Object.entries(s))d!==void 0&&i.searchParams.set(c,d);return i.toString()}async function vp(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function pp(l){const a=l.fetchImpl??globalThis.fetch;return{async request({method:s,path:i,query:c,body:d,headers:f}){const m=yp(l.baseUrl,i,c),g=await vp(l.auth),y=await a(m,{method:s,headers:{...d?{"Content-Type":"application/json"}:{},...g,...f},body:d?JSON.stringify(d):void 0}),w=await y.text(),E=(y.headers.get("content-type")||"").includes("application/json"),b=E&&w?JSON.parse(w):w;if(!y.ok){const T=E?b:void 0,_=T?.error;throw new ks(_?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:_?.type,icebergCode:_?.code,details:T})}return{status:y.status,headers:y.headers,data:b}}}}function rl(l){return l.join("")}var bp=class{constructor(l,a=""){this.client=l,this.prefix=a}async listNamespaces(l){const a=l?{parent:rl(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(l,a){const s={namespace:l.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rl(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rl(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rl(l.namespace)}`}),!0}catch(a){if(a instanceof ks&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(l,a){try{return await this.createNamespace(l,a)}catch(s){if(s instanceof ks&&s.status===409)return;throw s}}};function pr(l){return l.join("")}var _p=class{constructor(l,a="",s){this.client=l,this.prefix=a,this.accessDelegation=s}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pr(l.namespace)}/tables`})).data.identifiers}async createTable(l,a){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pr(l.namespace)}/tables`,body:a,headers:s})).data.metadata}async updateTable(l,a){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pr(l.namespace)}/tables/${l.name}`,body:a});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(l,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pr(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(l){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pr(l.namespace)}/tables/${l.name}`,headers:a})).data.metadata}async tableExists(l){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pr(l.namespace)}/tables/${l.name}`,headers:a}),!0}catch(s){if(s instanceof ks&&s.status===404)return!1;throw s}}async createTableIfNotExists(l,a){try{return await this.createTable(l,a)}catch(s){if(s instanceof ks&&s.status===409)return await this.loadTable({namespace:l.namespace,name:a.name});throw s}}},wp=class{constructor(l){let a="v1";l.catalogName&&(a+=`/${l.catalogName}`);const s=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=pp({baseUrl:s,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=l.accessDelegation?.join(","),this.namespaceOps=new bp(this.client,a),this.tableOps=new _p(this.client,a,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,a){return this.namespaceOps.createNamespace(l,a)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,a){return this.tableOps.createTable(l,a)}async updateTable(l,a){return this.tableOps.updateTable(l,a)}async dropTable(l,a){await this.tableOps.dropTable(l,a)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,a){return this.namespaceOps.createNamespaceIfNotExists(l,a)}async createTableIfNotExists(l,a){return this.tableOps.createTableIfNotExists(l,a)}};class Sp{constructor(a,s={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bg),s),this.fetch=hc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return ee(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}listBuckets(a){return ee(this,void 0,void 0,function*(){try{const s=new URLSearchParams;a?.limit!==void 0&&s.set("limit",a.limit.toString()),a?.offset!==void 0&&s.set("offset",a.offset.toString()),a?.sortColumn&&s.set("sortColumn",a.sortColumn),a?.sortOrder&&s.set("sortOrder",a.sortOrder),a?.search&&s.set("search",a.search);const i=s.toString(),c=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Ns(this.fetch,c,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}deleteBucket(a){return ee(this,void 0,void 0,function*(){try{return{data:yield gc(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}})}from(a){if(!lp(a))throw new hl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new wp({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:()=>ee(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const mc={"X-Client-Info":`storage-js/${Mg}`,"Content-Type":"application/json"};class qg extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function qt(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}class Hu extends qg{constructor(a,s,i){super(a),this.name="StorageVectorsApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xp extends qg{constructor(a,s){super(a),this.name="StorageVectorsUnknownError",this.originalError=s}}var q0;(function(l){l.InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(q0||(q0={}));const yc=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),Tp=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},L0=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Ep=(l,a,s)=>ee(void 0,void 0,void 0,function*(){if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!s?.noResolveJson){const c=l.status||500,d=l;if(typeof d.json=="function")d.json().then(f=>{const m=f?.statusCode||f?.code||c+"";a(new Hu(L0(f),c,m))}).catch(()=>{const f=c+"",m=d.statusText||`HTTP ${c} error`;a(new Hu(m,c,f))});else{const f=c+"",m=d.statusText||`HTTP ${c} error`;a(new Hu(m,c,f))}}else a(new xp(L0(l),l))}),jp=(l,a,s,i)=>{const c={method:l,headers:a?.headers||{}};return i?(Tp(i)?(c.headers=Object.assign({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(i)):c.body=i,Object.assign(Object.assign({},c),s)):c};function Op(l,a,s,i,c,d){return ee(this,void 0,void 0,function*(){return new Promise((f,m)=>{l(s,jp(a,i,c,d)).then(g=>{if(!g.ok)throw g;if(i?.noResolveJson)return g;const y=g.headers.get("content-type");return!y||!y.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>Ep(g,m,i))})})}function Lt(l,a,s,i,c){return ee(this,void 0,void 0,function*(){return Op(l,"POST",a,i,c,s)})}class Ap{constructor(a,s={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mc),s),this.fetch=yc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return ee(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}getIndex(a,s){return ee(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:s},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}listIndexes(a){return ee(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}deleteIndex(a,s){return ee(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:s},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}}class Np{constructor(a,s={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mc),s),this.fetch=yc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return ee(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Lt(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}getVectors(a){return ee(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}listVectors(a){return ee(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield Lt(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}queryVectors(a){return ee(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}deleteVectors(a){return ee(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Lt(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}}class kp{constructor(a,s={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mc),s),this.fetch=yc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return ee(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}getBucket(a){return ee(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}listBuckets(){return ee(this,arguments,void 0,function*(a={}){try{return{data:yield Lt(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}deleteBucket(a){return ee(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}}class Rp extends kp{constructor(a,s={}){super(a,s.headers||{},s.fetch)}from(a){return new Cp(this.url,this.headers,a,this.fetch)}createBucket(a){const s=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ee(this,void 0,void 0,function*(){return s.createBucket.call(this,a)})}getBucket(a){const s=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ee(this,void 0,void 0,function*(){return s.getBucket.call(this,a)})}listBuckets(){const a=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ee(this,arguments,void 0,function*(s={}){return a.listBuckets.call(this,s)})}deleteBucket(a){const s=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ee(this,void 0,void 0,function*(){return s.deleteBucket.call(this,a)})}}class Cp extends Ap{constructor(a,s,i,c){super(a,s,c),this.vectorBucketName=i}createIndex(a){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ee(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ee(this,arguments,void 0,function*(s={}){return a.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ee(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ee(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new Dp(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class Dp extends Np{constructor(a,s,i,c,d){super(a,s,d),this.vectorBucketName=i,this.indexName=c}putVectors(a){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ee(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ee(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ee(this,arguments,void 0,function*(s={}){return a.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ee(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ee(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Up extends mp{constructor(a,s={},i,c){super(a,s,i,c)}from(a){return new gp(this.url,this.headers,a,this.fetch)}get vectors(){return new Rp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Sp(this.url+"/iceberg",this.headers,this.fetch)}}const zp="2.86.0";let js="";typeof Deno<"u"?js="deno":typeof document<"u"?js="web":typeof navigator<"u"&&navigator.product==="ReactNative"?js="react-native":js="node";const Mp={"X-Client-Info":`supabase-js-${js}/${zp}`},Bp={headers:Mp},qp={schema:"public"},Lp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hp={},$p=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),Gp=()=>Headers,Vp=(l,a,s)=>{const i=$p(s),c=Gp();return async(d,f)=>{var m;const g=(m=await a())!==null&&m!==void 0?m:l;let y=new c(f?.headers);return y.has("apikey")||y.set("apikey",l),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),i(d,Object.assign(Object.assign({},f),{headers:y}))}};function Yp(l){return l.endsWith("/")?l:l+"/"}function Kp(l,a){var s,i;const{db:c,auth:d,realtime:f,global:m}=l,{db:g,auth:y,realtime:w,global:E}=a,b={db:Object.assign(Object.assign({},g),c),auth:Object.assign(Object.assign({},y),d),realtime:Object.assign(Object.assign({},w),f),storage:{},global:Object.assign(Object.assign(Object.assign({},E),m),{headers:Object.assign(Object.assign({},(s=E?.headers)!==null&&s!==void 0?s:{}),(i=m?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return l.accessToken?b.accessToken=l.accessToken:delete b.accessToken,b}function Xp(l){const a=l?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Yp(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Lg="2.86.0",Tr=30*1e3,ac=3,$u=ac*Tr,Qp="http://localhost:9999",Jp="supabase.auth.token",Ip={"X-Client-Info":`gotrue-js/${Lg}`},rc="X-Supabase-Api-Version",Hg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Zp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Pp=600*1e3;class Rs extends Error{constructor(a,s,i){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function re(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class Wp extends Rs{constructor(a,s,i){super(a,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function Fp(l){return re(l)&&l.name==="AuthApiError"}class Ca extends Rs{constructor(a,s){super(a),this.name="AuthUnknownError",this.originalError=s}}class ia extends Rs{constructor(a,s,i,c){super(a,i,c),this.name=s,this.status=i}}class Bt extends ia{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eb(l){return re(l)&&l.name==="AuthSessionMissingError"}class br extends ia{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sl extends ia{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class il extends ia{constructor(a,s=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tb(l){return re(l)&&l.name==="AuthImplicitGrantRedirectError"}class H0 extends ia{constructor(a,s=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sc extends ia{constructor(a,s){super(a,"AuthRetryableFetchError",s,void 0)}}function Gu(l){return re(l)&&l.name==="AuthRetryableFetchError"}class $0 extends ia{constructor(a,s,i){super(a,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class ic extends ia{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const ul="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),G0=` 	
\r=`.split(""),nb=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<G0.length;a+=1)l[G0[a].charCodeAt(0)]=-2;for(let a=0;a<ul.length;a+=1)l[ul[a].charCodeAt(0)]=a;return l})();function V0(l,a,s){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;s(ul[i]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;s(ul[i]),a.queuedBits-=6}}function $g(l,a,s){const i=nb[l];if(i>-1)for(a.queue=a.queue<<6|i,a.queuedBits+=6;a.queuedBits>=8;)s(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Y0(l){const a=[],s=f=>{a.push(String.fromCodePoint(f))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{sb(f,i,s)};for(let f=0;f<l.length;f+=1)$g(l.charCodeAt(f),c,d);return a.join("")}function ab(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function rb(l,a){for(let s=0;s<l.length;s+=1){let i=l.charCodeAt(s);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(l.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}ab(i,a)}}function sb(l,a,s){if(a.utf8seq===0){if(l<=127){s(l);return}for(let i=1;i<6;i+=1)if((l>>7-i&1)===0){a.utf8seq=i;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&s(a.codepoint)}}function jr(l){const a=[],s={queue:0,queuedBits:0},i=c=>{a.push(c)};for(let c=0;c<l.length;c+=1)$g(l.charCodeAt(c),s,i);return new Uint8Array(a)}function ib(l){const a=[];return rb(l,s=>a.push(s)),new Uint8Array(a)}function Da(l){const a=[],s={queue:0,queuedBits:0},i=c=>{a.push(c)};return l.forEach(c=>V0(c,s,i)),V0(null,s,i),a.join("")}function lb(l){return Math.round(Date.now()/1e3)+l}function ob(){return Symbol("auth-callback")}const mt=()=>typeof window<"u"&&typeof document<"u",Oa={tested:!1,writable:!1},Gg=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Oa.tested)return Oa.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Oa.tested=!0,Oa.writable=!0}catch{Oa.tested=!0,Oa.writable=!1}return Oa.writable};function ub(l){const a={},s=new URL(l);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,d)=>{a[d]=c})}catch{}return s.searchParams.forEach((i,c)=>{a[c]=i}),a}const Vg=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),cb=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Er=async(l,a,s)=>{await l.setItem(a,JSON.stringify(s))},Aa=async(l,a)=>{const s=await l.getItem(a);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ra=async(l,a)=>{await l.removeItem(a)};class gl{constructor(){this.promise=new gl.promiseConstructor((a,s)=>{this.resolve=a,this.reject=s})}}gl.promiseConstructor=Promise;function Vu(l){const a=l.split(".");if(a.length!==3)throw new ic("Invalid JWT structure");for(let i=0;i<a.length;i++)if(!Zp.test(a[i]))throw new ic("JWT not in base64url format");return{header:JSON.parse(Y0(a[0])),payload:JSON.parse(Y0(a[1])),signature:jr(a[2]),raw:{header:a[0],payload:a[1]}}}async function db(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function fb(l,a){return new Promise((i,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await l(d);if(!a(d,null,f)){i(f);return}}catch(f){if(!a(d,f)){c(f);return}}})()})}function hb(l){return("0"+l.toString(16)).substr(-2)}function gb(){const a=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let c="";for(let d=0;d<56;d++)c+=s.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(a),Array.from(a,hb).join("")}async function mb(l){const s=new TextEncoder().encode(l),i=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(i);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function yb(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const s=await mb(l);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _r(l,a,s=!1){const i=gb();let c=i;s&&(c+="/PASSWORD_RECOVERY"),await Er(l,`${a}-code-verifier`,c);const d=await yb(i);return[d,i===d?"plain":"s256"]}const vb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pb(l){const a=l.headers.get(rc);if(!a||!a.match(vb))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function bb(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function _b(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wr(l){if(!wb.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yu(){const l={};return new Proxy(l,{get:(a,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Sb(l,a){return new Proxy(l,{get:(s,i,c)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const d=i.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,c)}return!a.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(s,i,c)}})}function K0(l){return JSON.parse(JSON.stringify(l))}const Na=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),xb=[502,503,504];async function X0(l){var a;if(!cb(l))throw new sc(Na(l),0);if(xb.includes(l.status))throw new sc(Na(l),l.status);let s;try{s=await l.json()}catch(d){throw new Ca(Na(d),d)}let i;const c=pb(l);if(c&&c.getTime()>=Hg["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new $0(Na(s),l.status,((a=s.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(i==="session_not_found")throw new Bt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new $0(Na(s),l.status,s.weak_password.reasons);throw new Wp(Na(s),l.status||500,i)}const Tb=(l,a,s,i)=>{const c={method:l,headers:a?.headers||{}};return l==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),s))};async function ce(l,a,s,i){var c;const d=Object.assign({},i?.headers);d[rc]||(d[rc]=Hg["2024-01-01"].name),i?.jwt&&(d.Authorization=`Bearer ${i.jwt}`);const f=(c=i?.query)!==null&&c!==void 0?c:{};i?.redirectTo&&(f.redirect_to=i.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await Eb(l,a,s+m,{headers:d,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(g):{data:Object.assign({},g),error:null}}async function Eb(l,a,s,i,c,d){const f=Tb(a,i,c,d);let m;try{m=await l(s,Object.assign({},f))}catch(g){throw console.error(g),new sc(Na(g),0)}if(m.ok||await X0(m),i?.noResolveJson)return m;try{return await m.json()}catch(g){await X0(g)}}function rn(l){var a;let s=null;Ab(l)&&(s=Object.assign({},l),l.expires_at||(s.expires_at=lb(l.expires_in)));const i=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:s,user:i},error:null}}function Q0(l){const a=rn(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(a.data.weak_password=l.weak_password),a}function sa(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function jb(l){return{data:l,error:null}}function Ob(l){const{action_link:a,email_otp:s,hashed_token:i,redirect_to:c,verification_type:d}=l,f=Nr(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:s,hashed_token:i,redirect_to:c,verification_type:d},g=Object.assign({},f);return{data:{properties:m,user:g},error:null}}function J0(l){return l}function Ab(l){return l.access_token&&l.refresh_token&&l.expires_in}const Ku=["global","local","others"];class Nb{constructor({url:a="",headers:s={},fetch:i}){this.url=a,this.headers=s,this.fetch=Vg(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,s=Ku[0]){if(Ku.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ku.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}}async inviteUserByEmail(a,s={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:sa})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async generateLink(a){try{const{options:s}=a,i=Nr(a,["options"]),c=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(c.new_email=i?.newEmail,delete c.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Ob,redirectTo:s?.redirectTo})}catch(s){if(re(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(a){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:sa})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async listUsers(a){var s,i,c,d,f,m,g;try{const y={nextPage:null,lastPage:0,total:0},w=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=a?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(d=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:J0});if(w.error)throw w.error;const E=await w.json(),b=(f=w.headers.get("x-total-count"))!==null&&f!==void 0?f:0,T=(g=(m=w.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return T.length>0&&(T.forEach(_=>{const A=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(_.split(";")[1].split("=")[1]);y[`${N}Page`]=A}),y.total=parseInt(b)),{data:Object.assign(Object.assign({},E),y),error:null}}catch(y){if(re(y))return{data:{users:[]},error:y};throw y}}async getUserById(a){wr(a);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:sa})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async updateUserById(a,s){wr(a);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:s,headers:this.headers,xform:sa})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async deleteUser(a,s=!1){wr(a);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:s},xform:sa})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async _listFactors(a){wr(a.userId);try{const{data:s,error:i}=await ce(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:i}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _deleteFactor(a){wr(a.userId),wr(a.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _listOAuthClients(a){var s,i,c,d,f,m,g;try{const y={nextPage:null,lastPage:0,total:0},w=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=a?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(d=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:J0});if(w.error)throw w.error;const E=await w.json(),b=(f=w.headers.get("x-total-count"))!==null&&f!==void 0?f:0,T=(g=(m=w.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return T.length>0&&(T.forEach(_=>{const A=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(_.split(";")[1].split("=")[1]);y[`${N}Page`]=A}),y.total=parseInt(b)),{data:Object.assign(Object.assign({},E),y),error:null}}catch(y){if(re(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(a){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _getOAuthClient(a){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _updateOAuthClient(a,s){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(re(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(a){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(a){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}}function I0(l={}){return{getItem:a=>l[a]||null,setItem:(a,s)=>{l[a]=s},removeItem:a=>{delete l[a]}}}const Sr={debug:!!(globalThis&&Gg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yg extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class kb extends Yg{}async function Rb(l,a,s){Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const i=new globalThis.AbortController;return a>0&&setTimeout(()=>{i.abort(),Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,c.name);try{return await s()}finally{Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,c.name)}}else{if(a===0)throw Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new kb(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(Sr.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Cb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Kg(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function Db(l){return parseInt(l,16)}function Ub(l){const a=new TextEncoder().encode(l);return"0x"+Array.from(a,i=>i.toString(16).padStart(2,"0")).join("")}function zb(l){var a;const{chainId:s,domain:i,expirationTime:c,issuedAt:d=new Date,nonce:f,notBefore:m,requestId:g,resources:y,scheme:w,uri:E,version:b}=l;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!E)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((a=l.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const T=Kg(l.address),_=w?`${w}://${i}`:i,A=l.statement?`${l.statement}
`:"",N=`${_} wants you to sign in with your Ethereum account:
${T}

${A}`;let M=`URI: ${E}
Version: ${b}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(c&&(M+=`
Expiration Time: ${c.toISOString()}`),m&&(M+=`
Not Before: ${m.toISOString()}`),g&&(M+=`
Request ID: ${g}`),y){let K=`
Resources:`;for(const q of y){if(!q||typeof q!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${q}`);K+=`
- ${q}`}M+=K}return`${N}
${M}`}class rt extends Error{constructor({message:a,code:s,cause:i,name:c}){var d;super(a,{cause:i}),this.__isWebAuthnError=!0,this.name=(d=c??(i instanceof Error?i.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=s}}class cl extends rt{constructor(a,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:a}),this.name="WebAuthnUnknownError",this.originalError=s}}function Mb({error:l,options:a}){var s,i,c;const{publicKey:d}=a;if(!d)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((s=d.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(a.mediation==="conditional"&&((i=d.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new rt({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const f=window.location.hostname;if(Xg(f)){if(d.rp.id!==f)return new rt({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function Bb({error:l,options:a}){const{publicKey:s}=a;if(!s)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new rt({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const i=window.location.hostname;if(Xg(i)){if(s.rpId!==i)return new rt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class qb{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Lb=new qb;function Hb(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:a,user:s,excludeCredentials:i}=l,c=Nr(l,["challenge","user","excludeCredentials"]),d=jr(a).buffer,f=Object.assign(Object.assign({},s),{id:jr(s.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:d,user:f});if(i&&i.length>0){m.excludeCredentials=new Array(i.length);for(let g=0;g<i.length;g++){const y=i[g];m.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:jr(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return m}function $b(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:a,allowCredentials:s}=l,i=Nr(l,["challenge","allowCredentials"]),c=jr(a).buffer,d=Object.assign(Object.assign({},i),{challenge:c});if(s&&s.length>0){d.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const m=s[f];d.allowCredentials[f]=Object.assign(Object.assign({},m),{id:jr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function Gb(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l;return{id:l.id,rawId:l.id,response:{attestationObject:Da(new Uint8Array(l.response.attestationObject)),clientDataJSON:Da(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Vb(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l,i=l.getClientExtensionResults(),c=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:Da(new Uint8Array(c.authenticatorData)),clientDataJSON:Da(new Uint8Array(c.clientDataJSON)),signature:Da(new Uint8Array(c.signature)),userHandle:c.userHandle?Da(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Xg(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function Z0(){var l,a;return!!(mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Yb(l){try{const a=await navigator.credentials.create(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new cl("Browser returned unexpected credential type",a)}:{data:null,error:new cl("Empty credential response",a)}}catch(a){return{data:null,error:Mb({error:a,options:l})}}}async function Kb(l){try{const a=await navigator.credentials.get(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new cl("Browser returned unexpected credential type",a)}:{data:null,error:new cl("Empty credential response",a)}}catch(a){return{data:null,error:Bb({error:a,options:l})}}}const Xb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Qb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function dl(...l){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),i={};for(const c of l)if(c)for(const d in c){const f=c[d];if(f!==void 0)if(Array.isArray(f))i[d]=f;else if(s(f))i[d]=f;else if(a(f)){const m=i[d];a(m)?i[d]=dl(m,f):i[d]=dl(f)}else i[d]=f}return i}function Jb(l,a){return dl(Xb,l,a||{})}function Ib(l,a){return dl(Qb,l,a||{})}class Zb{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:s,friendlyName:i,signal:c},d){try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:s});if(!f)return{data:null,error:m};const g=c??Lb.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${i}`),y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=Jb(f.webauthn.credential_options.publicKey,d?.create),{data:w,error:E}=await Yb({publicKey:y,signal:g});return w?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:w}},error:null}:{data:null,error:E}}case"request":{const y=Ib(f.webauthn.credential_options.publicKey,d?.request),{data:w,error:E}=await Kb(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:g}));return w?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:w}},error:null}:{data:null,error:E}}}}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new Ca("Unexpected error in challenge",f)}}}async _verify({challengeId:a,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:a,webauthn:i})}async _authenticate({factorId:a,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!s)return{data:null,error:new Rs("rpId is required for WebAuthn authentication")};try{if(!Z0())return{data:null,error:new Ca("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:a,webauthn:{rpId:s,rpOrigins:i},signal:c},{request:d});if(!f)return{data:null,error:m};const{webauthn:g}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:i,credential_response:g.credential_response}})}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new Ca("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!s)return{data:null,error:new Rs("rpId is required for WebAuthn registration")};try{if(!Z0())return{data:null,error:new Ca("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(w=>{var E;return(E=w.data)===null||E===void 0?void 0:E.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===a&&b.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w?.id}):void 0),{data:null,error:m};const{data:g,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:c},{create:d});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:i,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new Ca("Unexpected error in register",f)}}}}Cb();const Pb={url:Qp,storageKey:Jp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ip,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function P0(l,a,s){return await s()}const xr={};class Cs{get jwks(){var a,s;return(s=(a=xr[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(a){xr[this.storageKey]=Object.assign(Object.assign({},xr[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,s;return(s=(a=xr[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){xr[this.storageKey]=Object.assign(Object.assign({},xr[this.storageKey]),{cachedAt:a})}constructor(a){var s,i,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},Pb),a);if(this.storageKey=d.storageKey,this.instanceID=(s=Cs.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Cs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&mt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new Nb({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Vg(d.fetch),this.lock=d.lock||P0,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:mt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Rb:this.lock=P0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Zb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:Gg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=I0(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=I0(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Lg}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let s={},i="none";if(mt()&&(s=ub(window.location.href),this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce")),mt()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:d}=await this._getSessionFromURL(s,i);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),tb(d)){const g=(a=d.details)===null||a===void 0?void 0:a.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return re(s)?this._returnResult({error:s}):this._returnResult({error:new Ca("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var s,i,c;try{const d=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=a?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:rn}),{data:f,error:m}=d;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(d){if(re(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(a){var s,i,c;try{let d;if("email"in a){const{email:w,password:E,options:b}=a;let T=null,_=null;this.flowType==="pkce"&&([T,_]=await _r(this.storage,this.storageKey)),d=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:w,password:E,data:(s=b?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:T,code_challenge_method:_},xform:rn})}else if("phone"in a){const{phone:w,password:E,options:b}=a;d=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:E,data:(i=b?.data)!==null&&i!==void 0?i:{},channel:(c=b?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:rn})}else throw new sl("You must provide either an email or phone number and a password");const{data:f,error:m}=d;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(d){if(re(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(a){try{let s;if("email"in a){const{email:d,password:f,options:m}=a;s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Q0})}else if("phone"in a){const{phone:d,password:f,options:m}=a;s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Q0})}else throw new sl("You must provide either an email or phone number and a password");const{data:i,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!i||!i.session||!i.user){const d=new br;return this._returnResult({data:{user:null,session:null},error:d})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(a){var s,i,c,d;return await this._handleProviderSignIn(a.provider,{redirectTo:(s=a.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=a.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=a.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:s}=a;switch(s){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(a){var s,i,c,d,f,m,g,y,w,E,b;let T,_;if("message"in a)T=a.message,_=a.signature;else{const{chain:A,wallet:N,statement:M,options:K}=a;let q;if(mt())if(typeof N=="object")q=N;else{const je=window;if("ethereum"in je&&typeof je.ethereum=="object"&&"request"in je.ethereum&&typeof je.ethereum.request=="function")q=je.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!K?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=N}const X=new URL((s=K?.url)!==null&&s!==void 0?s:window.location.href),W=await q.request({method:"eth_requestAccounts"}).then(je=>je).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!W||W.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const te=Kg(W[0]);let J=(i=K?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!J){const je=await q.request({method:"eth_chainId"});J=Db(je)}const fe={domain:X.host,address:te,statement:M,uri:X.href,version:"1",chainId:J,nonce:(c=K?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(d=K?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=K?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=K?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=K?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(w=K?.signInWithEthereum)===null||w===void 0?void 0:w.resources};T=zb(fe),_=await q.request({method:"personal_sign",params:[Ub(T),te]})}try{const{data:A,error:N}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:_},!((E=a.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(b=a.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:rn});if(N)throw N;if(!A||!A.session||!A.user){const M=new br;return this._returnResult({data:{user:null,session:null},error:M})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:N})}catch(A){if(re(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(a){var s,i,c,d,f,m,g,y,w,E,b,T;let _,A;if("message"in a)_=a.message,A=a.signature;else{const{chain:N,wallet:M,statement:K,options:q}=a;let X;if(mt())if(typeof M=="object")X=M;else{const te=window;if("solana"in te&&typeof te.solana=="object"&&("signIn"in te.solana&&typeof te.solana.signIn=="function"||"signMessage"in te.solana&&typeof te.solana.signMessage=="function"))X=te.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=M}const W=new URL((s=q?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in X&&X.signIn){const te=await X.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},q?.signInWithSolana),{version:"1",domain:W.host,uri:W.href}),K?{statement:K}:null));let J;if(Array.isArray(te)&&te[0]&&typeof te[0]=="object")J=te[0];else if(te&&typeof te=="object"&&"signedMessage"in te&&"signature"in te)J=te;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)_=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),A=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in X)||typeof X.signMessage!="function"||!("publicKey"in X)||typeof X!="object"||!X.publicKey||!("toBase58"in X.publicKey)||typeof X.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${W.host} wants you to sign in with your Solana account:`,X.publicKey.toBase58(),...K?["",K,""]:[""],"Version: 1",`URI: ${W.href}`,`Issued At: ${(c=(i=q?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=q?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${q.signInWithSolana.notBefore}`]:[],...!((f=q?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${q.signInWithSolana.expirationTime}`]:[],...!((m=q?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${q.signInWithSolana.chainId}`]:[],...!((g=q?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${q.signInWithSolana.nonce}`]:[],...!((y=q?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${q.signInWithSolana.requestId}`]:[],...!((E=(w=q?.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||E===void 0)&&E.length?["Resources",...q.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const te=await X.signMessage(new TextEncoder().encode(_),"utf8");if(!te||!(te instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=te}}try{const{data:N,error:M}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Da(A)},!((b=a.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(T=a.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:rn});if(M)throw M;if(!N||!N.session||!N.user){const K=new br;return this._returnResult({data:{user:null,session:null},error:K})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:M})}catch(N){if(re(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(a){const s=await Aa(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(s??"").split("/");try{const{data:d,error:f}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:i},xform:rn});if(await ra(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const m=new br;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(re(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(a){try{const{options:s,provider:i,token:c,access_token:d,nonce:f}=a,m=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:rn}),{data:g,error:y}=m;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g||!g.session||!g.user){const w=new br;return this._returnResult({data:{user:null,session:null},error:w})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:y})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(a){var s,i,c,d,f;try{if("email"in a){const{email:m,options:g}=a;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await _r(this.storage,this.storageKey));const{error:E}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(i=g?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:w},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:E})}if("phone"in a){const{phone:m,options:g}=a,{data:y,error:w}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=g?.data)!==null&&c!==void 0?c:{},create_user:(d=g?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:w})}throw new sl("You must provide either an email or phone number.")}catch(m){if(re(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var s,i;try{let c,d;"options"in a&&(c=(s=a.options)===null||s===void 0?void 0:s.redirectTo,d=(i=a.options)===null||i===void 0?void 0:i.captchaToken);const{data:f,error:m}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:rn});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,y=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var s,i,c,d,f;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await _r(this.storage,this.storageKey));const y=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(i=(s=a.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:jb});return!((d=y.data)===null||d===void 0)&&d.url&&mt()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(m){if(re(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)throw i;if(!s)throw new Bt;const{error:c}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const s=`${this.url}/resend`;if("email"in a){const{email:i,type:c,options:d}=a,{error:f}=await ce(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:i,type:c,options:d}=a,{data:f,error:m}=await ce(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new sl("You must provide either an email or phone number and a type")}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(a,s){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await a(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const s=await Aa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?a=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const i=a.expires_at?a.expires_at*1e3-Date.now()<$u:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",a.expires_at),!i){if(this.userStorage){const f=await Aa(this.userStorage,this.storageKey+"-user");f?.user?a.user=f.user:a.user=Yu()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=Sb(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:sa}):await this._useSession(async s=>{var i,c,d;const{data:f,error:m}=s;if(m)throw m;return!(!((i=f.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bt}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:sa})})}catch(s){if(re(s))return eb(s)&&(await this._removeSession(),await ra(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(a,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,s))}async _updateUser(a,s={}){try{return await this._useSession(async i=>{const{data:c,error:d}=i;if(d)throw d;if(!c.session)throw new Bt;const f=c.session;let m=null,g=null;this.flowType==="pkce"&&a.email!=null&&([m,g]=await _r(this.storage,this.storageKey));const{data:y,error:w}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:g}),jwt:f.access_token,xform:sa});if(w)throw w;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(i){if(re(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Bt;const s=Date.now()/1e3;let i=s,c=!0,d=null;const{payload:f}=Vu(a.access_token);if(f.exp&&(i=f.exp,c=i<=s),c){const{data:m,error:g}=await this._callRefreshToken(a.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:g}=await this._getUser(a.access_token);if(g)throw g;d={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(s){if(re(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async s=>{var i;if(!a){const{data:f,error:m}=s;if(m)throw m;a=(i=f.session)!==null&&i!==void 0?i:void 0}if(!a?.refresh_token)throw new Bt;const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(a,s){try{if(!mt())throw new il("No browser detected.");if(a.error||a.error_description||a.error_code)throw new il(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new H0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new il("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new H0("No code detected.");const{data:K,error:q}=await this._exchangeCodeForSession(a.code);if(q)throw q;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:K.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:m,expires_at:g,token_type:y}=a;if(!d||!m||!f||!y)throw new il("No session defined in URL");const w=Math.round(Date.now()/1e3),E=parseInt(m);let b=w+E;g&&(b=parseInt(g));const T=b-w;T*1e3<=Tr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${E}s`);const _=b-E;w-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,b,w):w-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,b,w);const{data:A,error:N}=await this._getUser(d);if(N)throw N;const M={provider_token:i,provider_refresh_token:c,access_token:d,expires_in:E,expires_at:b,refresh_token:f,token_type:y,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:a.type},error:null})}catch(i){if(re(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const s=await Aa(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&s)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:c,error:d}=s;if(d)return this._returnResult({error:d});const f=(i=c.session)===null||i===void 0?void 0:i.access_token;if(f){const{error:m}=await this.admin.signOut(f,a);if(m&&!(Fp(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await ra(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const s=ob(),i={id:s,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(a){return await this._useSession(async s=>{var i,c;try{const{data:{session:d},error:f}=s;if(f)throw f;await((i=this.stateChangeEmitters.get(a))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",d),console.error(d)}})}async resetPasswordForEmail(a,s={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await _r(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if(re(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var a;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(a=s.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var s;try{const{data:i,error:c}=await this._useSession(async d=>{var f,m,g,y,w;const{data:E,error:b}=d;if(b)throw b;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=a.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",T,{headers:this.headers,jwt:(w=(y=E.session)===null||y===void 0?void 0:y.access_token)!==null&&w!==void 0?w:void 0})});if(c)throw c;return mt()&&!(!((s=a.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:a.provider,url:i?.url},error:null})}catch(i){if(re(i))return this._returnResult({data:{provider:a.provider,url:null},error:i});throw i}}async linkIdentityIdToken(a){return await this._useSession(async s=>{var i;try{const{error:c,data:{session:d}}=s;if(c)throw c;const{options:f,provider:m,token:g,access_token:y,nonce:w}=a,E=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=d?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:m,id_token:g,access_token:y,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:rn}),{data:b,error:T}=E;return T?this._returnResult({data:{user:null,session:null},error:T}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new br}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:T}))}catch(c){if(re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async s=>{var i,c;const{data:d,error:f}=s;if(f)throw f;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(i=d.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(a){const s=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await fb(async c=>(c>0&&await db(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:rn})),(c,d)=>{const f=200*Math.pow(2,c);return d&&Gu(d)&&Date.now()+f-i<Tr})}catch(i){if(this._debug(s,"error",i),re(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(s,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",s,"url",i),mt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:a,url:i},error:null}}async _recoverAndRefresh(){var a,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await Aa(this.storage,this.storageKey);if(c&&this.userStorage){let f=await Aa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await Er(this.userStorage,this.storageKey+"-user",f)),c.user=(a=f?.user)!==null&&a!==void 0?a:Yu()}else if(c&&!c.user&&!c.user){const f=await Aa(this.storage,this.storageKey+"-user");f&&f?.user?(c.user=f.user,await ra(this.storage,this.storageKey+"-user"),await Er(this.storage,this.storageKey,c)):c.user=Yu()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const d=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<$u;if(this._debug(i,`session has${d?"":" not"} expired with margin of ${$u}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),Gu(f)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(c.access_token);!m&&f?.user?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(i,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(a){var s,i;if(!a)throw new Bt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new gl;const{data:d,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!d.session)throw new Bt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),re(d)){const f={data:null,error:d};return Gu(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,s,i=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:a,session:s});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,s)}catch(g){d.push(g)}});if(await Promise.all(f),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;const s=Object.assign({},a),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Er(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const d=K0(c);await Er(this.storage,this.storageKey,d)}else{const c=K0(s);await Er(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await ra(this.storage,this.storageKey),await ra(this.storage,this.storageKey+"-code-verifier"),await ra(this.storage,this.storageKey+"-user"),this.userStorage&&await ra(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Tr);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-a)/Tr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Tr}ms, refresh threshold is ${ac} ticks`),c<=ac&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Yg)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const s=`#_onVisibilityChanged(${a})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,s,i){const c=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[d,f]=await _r(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(m.toString())}if(i?.queryParams){const d=new URLSearchParams(i.queryParams);c.push(d.toString())}return i?.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async s=>{var i;const{data:c,error:d}=s;return d?this._returnResult({data:null,error:d}):await ce(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(a){try{return await this._useSession(async s=>{var i,c;const{data:d,error:f}=s;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:g,error:y}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=d?.session)===null||i===void 0?void 0:i.access_token});return y?this._returnResult({data:null,error:y}):(a.factorType==="totp"&&g.type==="totp"&&(!((c=g?.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Gb(a.webauthn.credential_response):Vb(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:g}=await ce(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=await ce(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Hb(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:$b(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(a){const{data:s,error:i}=await this._challenge({factorId:a.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:a.factorId,challengeId:s.id,code:a.code})}async _listFactors(){var a;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(a=s?.factors)!==null&&a!==void 0?a:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var a,s;const{data:{session:i},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Vu(i.access_token);let f=null;d.aal&&(f=d.aal);let m=f;((s=(a=i.user.factors)===null||a===void 0?void 0:a.filter(w=>w.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const y=d.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async s=>{const{data:{session:i},error:c}=s;return c?this._returnResult({data:null,error:c}):i?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:i.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Bt})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(a,s){try{return await this._useSession(async i=>{const{data:{session:c},error:d}=i;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Bt});const f=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&mt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(a,s){try{return await this._useSession(async i=>{const{data:{session:c},error:d}=i;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Bt});const f=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&mt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;return i?this._returnResult({data:null,error:i}):s?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Bt})})}catch(a){if(re(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async s=>{const{data:{session:i},error:c}=s;return c?this._returnResult({data:null,error:c}):i?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Bt})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(a,s={keys:[]}){let i=s.keys.find(m=>m.kid===a);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(m=>m.kid===a),i&&this.jwks_cached_at+Pp>c)return i;const{data:d,error:f}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,i=d.keys.find(m=>m.kid===a),!i)?null:i}async getClaims(a,s={}){try{let i=a;if(!i){const{data:T,error:_}=await this.getSession();if(_||!T.session)return this._returnResult({data:null,error:_});i=T.session.access_token}const{header:c,payload:d,signature:f,raw:{header:m,payload:g}}=Vu(i);s?.allowExpired||bb(d.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!y){const{error:T}=await this.getUser(i);if(T)throw T;return{data:{claims:d,header:c,signature:f},error:null}}const w=_b(c.alg),E=await crypto.subtle.importKey("jwk",y,w,!0,["verify"]);if(!await crypto.subtle.verify(w,E,f,ib(`${m}.${g}`)))throw new ic("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}}Cs.nextInstanceID={};const Wb=Cs;class Fb extends Wb{constructor(a){super(a)}}class e_{constructor(a,s,i){var c,d,f;this.supabaseUrl=a,this.supabaseKey=s;const m=Xp(a);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:qp,realtime:Hp,auth:Object.assign(Object.assign({},Lp),{storageKey:g}),global:Bp},w=Kp(i??{},y);this.storageKey=(c=w.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=w.global.headers)!==null&&d!==void 0?d:{},w.accessToken?(this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(E,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=w.auth)!==null&&f!==void 0?f:{},this.headers,w.global.fetch),this.fetch=Vp(s,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.accessToken&&this.accessToken().then(E=>this.realtime.setAuth(E)).catch(E=>console.warn("Failed to set initial Realtime auth token:",E)),this.rest=new Hv(new URL("rest/v1",m).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),this.storage=new Up(this.storageUrl.href,this.headers,this.fetch,i?.storage),w.accessToken||this._listenForAuthEvents()}get functions(){return new Mv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,s={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,s,i)}channel(a,s={config:{}}){return this.realtime.channel(a,s)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a,s;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:s,detectSessionInUrl:i,storage:c,userStorage:d,storageKey:f,flowType:m,lock:g,debug:y,throwOnError:w},E,b){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fb({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),E),storageKey:f,autoRefreshToken:a,persistSession:s,detectSessionInUrl:i,storage:c,userStorage:d,flowType:m,lock:g,debug:y,throwOnError:w,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new ap(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i?.access_token)})}_handleTokenChanged(a,s,i){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const t_=(l,a,s)=>new e_(l,a,s);function n_(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const a=l.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}n_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const a_="https://zopwfborahwrerymgrqz.supabase.co",r_="sb_publishable_SfFwIKtYRd78SBrOUOYnLw_-qe5Z0C5",st=t_(a_,r_),s_=({message:l,type:a="success",onClose:s})=>{P.useEffect(()=>{const c=setTimeout(s,3e3);return()=>clearTimeout(c)},[s]);const i=a==="error";return p.jsxs("div",{className:"fixed bottom-6 right-6 bg-gray-800 text-white px-6 py-4 rounded shadow-lg z-50 flex items-center gap-3 toast-enter",children:[p.jsx("i",{className:`fas ${i?"fa-exclamation-circle text-red-400":"fa-check-circle text-green-400"} text-xl`}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-sm capitalize",children:a}),p.jsx("p",{className:"text-xs text-gray-300",children:l})]}),p.jsx("button",{onClick:s,className:"ml-4 text-gray-400 hover:text-white",children:p.jsx("i",{className:"fas fa-times"})})]})},Qg=P.createContext(null),i_=({children:l})=>{const[a,s]=P.useState(null),i=P.useCallback((d,f="info")=>{s({message:d,type:f}),setTimeout(()=>{s(null)},3e3)},[]),c=P.useCallback(()=>{s(null)},[]);return p.jsxs(Qg.Provider,{value:{showToast:i,hideToast:c},children:[l,a&&p.jsx(s_,{message:a.message,type:a.type,onClose:c})]})},ml=()=>{const l=P.useContext(Qg);if(!l)throw new Error("useToast must be used within a ToastProvider");return l},Jg=P.createContext(),l_=({children:l})=>{const[a,s]=P.useState(()=>localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));P.useEffect(()=>{const c=window.document.documentElement;a==="dark"?c.classList.add("dark"):c.classList.remove("dark"),localStorage.setItem("theme",a)},[a]);const i=()=>{s(c=>c==="dark"?"light":"dark")};return p.jsx(Jg.Provider,{value:{theme:a,toggleTheme:i},children:l})},o_=()=>P.useContext(Jg),Ig="/MMI-LIMS/assets/ktu_mmi-CrP3ebcy.svg",u_=()=>{const[l,a]=P.useState(!1),[s,i]=P.useState(""),[c,d]=P.useState(""),[f,m]=P.useState(""),[g,y]=P.useState(""),[w,E]=P.useState(""),[b,T]=P.useState(!1),{showToast:_}=ml(),A=async N=>{N.preventDefault(),a(!0);try{if(b){const{error:M}=await st.auth.signUp({email:s,password:c,options:{data:{first_name:f,last_name:g,job_title:w,access_level:"user"}}});if(M)throw M;_("Registration successful! Please wait for admin approval.","success")}else{const{error:M}=await st.auth.signInWithPassword({email:s,password:c});if(M)throw M}}catch(M){_(M.message,"error")}finally{a(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 to-blue-700 p-4",children:p.jsxs("div",{className:"bg-white/95 backdrop-blur-sm p-8 rounded-2xl shadow-2xl w-full max-w-md border border-white/20",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"bg-white p-4 rounded-full w-24 h-24 mx-auto mb-4 flex items-center justify-center shadow-md",children:p.jsx("img",{src:Ig,alt:"KTU MMI Logo",className:"h-12 w-auto"})}),p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"MMI-LIMS"}),p.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Institute of Materials Science"})]}),p.jsxs("form",{onSubmit:A,className:"space-y-5",children:[b&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),p.jsx("input",{type:"text",required:!0,value:f,onChange:N=>m(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:"John"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),p.jsx("input",{type:"text",required:!0,value:g,onChange:N=>y(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:"Doe"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Title"}),p.jsx("input",{type:"text",required:!0,value:w,onChange:N=>E(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:"Researcher"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),p.jsx("input",{type:"email",required:!0,value:s,onChange:N=>i(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:"name@example.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),p.jsx("input",{type:"password",required:!0,value:c,onChange:N=>d(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:""})]}),p.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-900 to-blue-800 text-white font-semibold rounded-lg shadow-md hover:from-blue-800 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform transition-all active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed mt-6",children:l?p.jsxs("span",{className:"flex items-center justify-center",children:[p.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):b?"Create Account":"Sign In"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("button",{onClick:()=>T(!b),className:"text-sm text-blue-700 hover:text-blue-900 font-medium transition-colors",children:b?"Already have an account? Sign In":"Need an account? Sign Up"})}),p.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 text-center",children:p.jsx("p",{className:"text-xs text-gray-400",children:"Protected by Supabase Auth"})})]})})},c_=l=>{const[a,s]=l.split(":").map(Number);return a*60+s},lc=l=>{let a=Math.floor(l/60),s=Math.round(l%60);return s===60&&(a+=1,s=0),`${a.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`},W0=(l,a=30)=>Math.round(l/a)*a,Or=l=>{const a=c_(l);return lc(a+30)},yl=l=>{if(!l.length)return[];const a=g=>g.slice(0,5),s=[],i=[];l.forEach(g=>{g.end_time||g.endTime?s.push({...g,startTime:a(g.time||g.startTime),endTime:a(g.end_time||g.endTime),ids:[g.id]}):i.push(g)});const c=[...i].sort((g,y)=>g.date!==y.date?g.date.localeCompare(y.date):g.tool_id!==y.tool_id?g.tool_id-y.tool_id:a(g.time).localeCompare(a(y.time))),d=[];let f=null;return c.forEach(g=>{const y=a(g.time);if(!f){f={...g,ids:[g.id],endTime:Or(y),startTime:y};return}const w=g.date===f.date,E=g.tool_id===f.tool_id,b=g.user_id===f.user_id,T=g.project===f.project,_=g.created_at===f.created_at,A=y===f.endTime;w&&E&&b&&T&&_&&A?(f.ids.push(g.id),f.endTime=Or(y)):(d.push(f),f={...g,ids:[g.id],endTime:Or(y),startTime:y})}),f&&d.push(f),[...s,...d].sort((g,y)=>g.date!==y.date?g.date.localeCompare(y.date):a(g.startTime).localeCompare(a(y.startTime)))},Zg=(l,a,s=[])=>{const i=f=>{const[m,g]=f.split(":").map(Number);return m*60+g},c=i(l.startTime||l.time),d=i(l.endTime||l.end_time);return a.some(f=>{if(s.includes(f.id)||f.date!==l.date||f.tool_id!==l.tool_id)return!1;let m,g;const y=f.endTime||f.end_time;return y?(m=i(f.startTime||f.time),g=i(y)):(m=i(f.time),g=m+30),c<g&&d>m})},Pg=l=>{if(!l.length)return[];const a=d=>{const[f,m]=d.split(":").map(Number);return f*60+m},s=[...l].sort((d,f)=>{const m=a(d.startTime),g=a(f.startTime);if(m!==g)return m-g;const y=a(d.endTime);return a(f.endTime)-y}),i=[];s.forEach(d=>{const f=a(d.startTime);a(d.endTime);let m=!1;for(let g=0;g<i.length;g++){const y=i[g][i[g].length-1],w=a(y.endTime);if(f>=w){i[g].push(d),d.colIndex=g,m=!0;break}}m||(i.push([d]),d.colIndex=i.length-1)});const c=i.length;return s.map(d=>({...d,width:100/c,left:d.colIndex*(100/c)}))},Wg=({status:l})=>{const a={up:{color:"bg-green-500",text:"Available"},down:{color:"bg-red-500",text:"Down"},service:{color:"bg-yellow-500",text:"Service"}},s=a[l]||a.up;return p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:`status-dot ${s.color}`}),p.jsx("span",{className:"text-sm capitalize text-gray-700",children:l})]})},Wt=48,Xu=0,d_=({weekDates:l,existingBookings:a,user:s,isAdmin:i,onInteractionEnd:c,showToast:d})=>{const[f,m]=P.useState(null),g=P.useRef(null),y=E=>{try{return E.toISOString().split("T")[0]}catch{return""}},w=(E,b,T)=>{E.stopPropagation();const _=b.user_id===s.id;if(!i&&!_){d("You can only edit your own bookings.","error");return}const A=new Date,N=new Date(`${b.date}T${b.startTime}`),M=new Date(`${b.date}T${b.endTime}`);if(M<A){d("Cannot modify past bookings.","error");return}if(N<=A&&M>A){if(T==="move"){d("Cannot move an in-progress booking. Only duration can be adjusted.","error");return}if(T==="resize-top"){d("Cannot change start time of an in-progress booking.","error");return}}const q=E.currentTarget.parentElement.getBoundingClientRect(),X=parseInt(b.startTime.split(":")[0]),W=parseInt(b.startTime.split(":")[1]),te=parseInt(b.endTime.split(":")[0]),J=parseInt(b.endTime.split(":")[1]),fe=(X-Xu)*60+W,yt=(te-Xu)*60+J-fe,Te=fe/30*Wt,ke=yt/30*Wt,Qe=E.type.includes("touch")?E.touches[0].clientX:E.clientX,Je=E.type.includes("touch")?E.touches[0].clientY:E.clientY,Ge={type:T,bookingId:b.ids[0],originalBooking:b,startY:Je,startX:Qe,initialTop:Te,initialHeight:ke,currentTop:Te,currentHeight:ke,currentDate:b.date,dayWidth:q.width,isValid:!0,hasMoved:!1};g.current=Ge,E.type.includes("touch")&&m(Ge)};return P.useEffect(()=>{const E=T=>{if(!g.current)return;const _=g.current;let A,N;if(T.type==="touchmove"?(T.cancelable&&T.preventDefault(),A=T.touches[0].clientX,N=T.touches[0].clientY):(A=T.clientX,N=T.clientY),!_.hasMoved){if(Math.sqrt(Math.pow(A-_.startX,2)+Math.pow(N-_.startY,2))<5)return;_.hasMoved=!0,m(_)}const M=N-_.startY,K=A-_.startX,q=Math.round(M/Wt)*Wt;let X=0;_.type==="move"&&(X=Math.round(K/_.dayWidth));let W=_.initialTop,te=_.initialHeight,J=_.currentDate,fe=_.initialTop,je=_.initialHeight;if(_.type==="move"){W+=q,fe=W;const Z=l.findIndex(de=>y(de)===_.originalBooking.date)+X;Z>=0&&Z<7&&(J=y(l[Z]))}else _.type==="resize-bottom"?(te+=q,je=te):_.type==="resize-top"&&(W+=q,te-=q,fe=W,je=te);if(te<Wt){const $=Wt-te;te=Wt,_.type==="resize-top"&&(W-=$)}if(je<Wt){const $=Wt-je;je=Wt,_.type==="resize-top"&&(fe-=$)}const yt=W/Wt*30,Te=te/Wt*30,ke=W0(Xu*60+yt),Qe=W0(ke+Te),Je=lc(ke),Ge=lc(Qe),z=new Date,Q=new Date(`${J}T${Je}`),ae=ke>=0&&Qe<=1440,be=new Date(`${_.originalBooking.date}T${_.originalBooking.startTime}`)<=z&&new Date(`${_.originalBooking.date}T${_.originalBooking.endTime}`)>z,V=be?!0:Q>=z,S=!be||new Date(`${J}T${Ge}`)>z;let D=ae&&V&&S;if(D){const $={date:J,startTime:Je,endTime:Ge,tool_id:_.originalBooking.tool_id},Z=_.originalBooking.ids||[_.originalBooking.id];Zg($,a,Z)&&(D=!1,console.log("Validation failed: Collision detected",{tempBooking:$,ignoredIds:Z}))}else console.log("Validation failed:",{isValidTime:ae,isFuture:V,isEndTimeValid:S,newDate:J,newStartTime:Je,now:z.toISOString(),startDateTime:Q.toISOString()});const G={..._,currentTop:_.type==="move"||_.type==="resize-top"?fe:_.initialTop,currentHeight:je,currentDate:J,isValid:D,newStartTime:Je,newEndTime:Ge};g.current=G,m(G)},b=()=>{if(!g.current)return;const T=g.current;if(T.hasMoved&&T.isValid){const _={...T.originalBooking,date:T.currentDate,startTime:T.newStartTime,endTime:T.newEndTime,time:T.newStartTime,end_time:T.newEndTime};c(_)}T.hasMoved?setTimeout(()=>{m(null),g.current=null},100):(m(null),g.current=null)};return window.addEventListener("mousemove",E),window.addEventListener("mouseup",b),window.addEventListener("touchmove",E,{passive:!1}),window.addEventListener("touchend",b),()=>{window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",b),window.removeEventListener("touchmove",E),window.removeEventListener("touchend",b)}},[l,a,c,d]),{interaction:f,startInteraction:w}},f_=({tool:l,user:a,profile:s,onClose:i,onConfirm:c,onUpdate:d,existingBookings:f=[],initialDate:m})=>{const[g,y]=P.useState(()=>{const Y=m?new Date(m):new Date,I=Y.getDay(),se=Y.getDate()-I+(I===0?-6:1),he=new Date(Y);return he.setDate(se),he}),[w,E]=P.useState([]),[b,T]=P.useState(!1),[_,A]=P.useState(null),[N,M]=P.useState("General"),[K,q]=P.useState(!1),X=P.useRef(null),W=P.useRef(null),{showToast:te}=ml(),J=s?.access_level==="admin",fe=Array.isArray(s?.licenses)?s.licenses.includes(l.id):!1,je=l.status==="up",yt=J||fe&&je,Te=P.useMemo(()=>{const Y=[];try{for(let I=0;I<7;I++){const se=new Date(g);se.setDate(g.getDate()+I),Y.push(se)}}catch(I){console.error("Error generating week dates",I)}return Y},[g]),ke=P.useMemo(()=>{const Y=[];for(let I=0;I<24;I++){const se=I<10?"0"+I:I;Y.push(`${se}:00`),Y.push(`${se}:30`)}return Y},[]),Qe=Y=>{try{return Y.toISOString().split("T")[0]}catch{return""}},Je=Y=>{try{return Y.toLocaleDateString("en-US",{weekday:"short",month:"numeric",day:"numeric"})}catch{return"Invalid Date"}},Ge=Y=>{const[I,se]=Y.split(":").map(Number);return I*60+se},z=(Y,I)=>{const se=new Date;return new Date(`${Y}T${I}`)<se},Q=(Y,I)=>{const se=Ge(I),he=se+30;return f.some(le=>{if(le.date!==Y||le.tool_id!==l.id)return!1;const Be=Ge(le.startTime||le.time);let ge;const oe=le.endTime||le.end_time;return oe?ge=Ge(oe):ge=Be+30,se<ge&&he>Be})},ae=P.useMemo(()=>{if(!_)return f;const Y=_.ids||[_.id],I=Y[0];return I?f.map(he=>he.id===I?_:Y.includes(he.id)?null:he).filter(Boolean):f},[f,_]),be=P.useMemo(()=>{const Y=ae.filter(I=>I.tool_id===l.id);return yl(Y)},[ae,l.id]),{interaction:V,startInteraction:S}=d_({weekDates:Te,existingBookings:ae,user:a,isAdmin:J,onInteractionEnd:Y=>{console.log("onInteractionEnd called with:",Y),A(Y)},showToast:te}),D=48,G=0,$=Y=>{const I=parseInt(Y.startTime.split(":")[0]),se=parseInt(Y.startTime.split(":")[1]),he=parseInt(Y.endTime.split(":")[0]),le=parseInt(Y.endTime.split(":")[1]),Be=(I-G)*60+se,oe=(he-G)*60+le-Be,Ke=Be/30*D,_t=oe/30*D;return{top:`${Ke}px`,height:`${_t-1}px`,left:Y.left!==void 0?`${Y.left}%`:"2px",width:Y.width!==void 0?`${Y.width}%`:"calc(100% - 4px)",position:"absolute",zIndex:10}},Z=(Y,I)=>{if(Y.stopPropagation(),V){console.log("handleBookingClick blocked by interaction");return}console.log("handleBookingClick fired",I);const se=I.user_id===a.id;if(!J&&!se)return;const he=I.ids[0],le={...I,id:he};A(le),M(I.project),E([])},de=()=>{A(null)},pe=(Y,I)=>{if(A(null),!yt)return;const se=ke[I];if(Q(Y,se))return;if(z(Y,se)){te("Cannot book in the past.","error");return}q(!0);const he=Te.findIndex(Be=>Qe(Be)===Y),le={startDIndex:he,startTIndex:I,currentDIndex:he,currentTIndex:I};X.current=le,Re(le)},Pe=(Y,I)=>{if(K&&X.current){const se=Te.findIndex(he=>Qe(he)===Y);X.current.currentDIndex=se,X.current.currentTIndex=I,Re(X.current)}},Re=Y=>{const I=Math.min(Y.startDIndex,Y.currentDIndex),se=Math.max(Y.startDIndex,Y.currentDIndex),he=Math.min(Y.startTIndex,Y.currentTIndex),le=Math.max(Y.startTIndex,Y.currentTIndex),Be=[];for(let ge=I;ge<=se;ge++)for(let oe=he;oe<=le;oe++){const Ke=Qe(Te[ge]),_t=ke[oe];!Q(Ke,_t)&&!z(Ke,_t)&&Be.push({date:Ke,time:_t})}E(Be)};P.useEffect(()=>{if(!K)return;const Y=se=>{se.cancelable&&se.preventDefault();const he=se.touches[0],le=document.elementFromPoint(he.clientX,he.clientY);if(le&&le.dataset.date&&le.dataset.timeindex){const Be=le.dataset.date,ge=parseInt(le.dataset.timeindex,10),oe=Te.findIndex(Ke=>Qe(Ke)===Be);oe!==-1&&X.current&&(oe!==X.current.currentDIndex||ge!==X.current.currentTIndex)&&(X.current.currentDIndex=oe,X.current.currentTIndex=ge,Re(X.current))}},I=()=>{q(!1),X.current=null};return window.addEventListener("touchmove",Y,{passive:!1}),window.addEventListener("touchend",I),window.addEventListener("mouseup",I),()=>{window.removeEventListener("touchmove",Y),window.removeEventListener("touchend",I),window.removeEventListener("mouseup",I)}},[K,Te]);const Ht=(Y,I,se)=>{Y.persist(),W.current=setTimeout(()=>{if(A(null),!yt)return;const he=ke[se];if(Q(I,he))return;if(z(I,he)){te("Cannot book in the past.","error");return}q(!0);const le=Te.findIndex(ge=>Qe(ge)===I),Be={startDIndex:le,startTIndex:se,currentDIndex:le,currentTIndex:se};X.current=Be,Re(Be),navigator.vibrate&&navigator.vibrate(50)},500)},$t=Y=>{!K&&W.current&&(clearTimeout(W.current),W.current=null)},Ft=()=>{W.current&&(clearTimeout(W.current),W.current=null)};P.useEffect(()=>{if(!K)return;const Y=se=>{se.cancelable&&se.preventDefault();const he=se.touches[0],le=document.elementFromPoint(he.clientX,he.clientY);if(le&&le.dataset.date&&le.dataset.timeindex){const Be=le.dataset.date,ge=parseInt(le.dataset.timeindex,10),oe=Te.findIndex(Ke=>Qe(Ke)===Be);oe!==-1&&X.current&&(oe!==X.current.currentDIndex||ge!==X.current.currentTIndex)&&(X.current.currentDIndex=oe,X.current.currentTIndex=ge,Re(X.current))}},I=()=>{q(!1),X.current=null};return window.addEventListener("touchmove",Y,{passive:!1}),window.addEventListener("touchend",I),()=>{window.removeEventListener("touchmove",Y),window.removeEventListener("touchend",I)}},[K,Te]);const on=P.useRef(null),en=(Y,I,se)=>{Y.stopPropagation();const he=Y.currentTarget,le=Y.touches[0],Be=le.clientX,ge=le.clientY;on.current={x:Be,y:ge},W.current=setTimeout(()=>{const oe=I.user_id===a.id;if(!J&&!oe)return;S({stopPropagation:()=>{},currentTarget:he,type:"touchstart",touches:[{clientX:Be,clientY:ge}]},I,se),W.current=null,navigator.vibrate&&navigator.vibrate(50)},500)},la=Y=>{if(W.current&&on.current){if(!Y.cancelable){clearTimeout(W.current),W.current=null,on.current=null;return}const I=Y.touches[0],se=I.clientX,he=I.clientY,le=Math.abs(se-on.current.x),Be=Math.abs(he-on.current.y);(le>5||Be>5)&&(clearTimeout(W.current),W.current=null,on.current=null)}},oa=()=>{W.current&&(clearTimeout(W.current),W.current=null),on.current=null},vl=()=>{const Y=new Date(g);Y.setDate(Y.getDate()-7),y(Y),E([])},Us=()=>{const Y=new Date(g);Y.setDate(Y.getDate()+7),y(Y),E([])},Rr=async()=>{if(_){T(!0);const ge=_.ids||[_.id],oe={..._,project:N};await d(ge,oe),T(!1),A(null);return}if(w.length===0){te("Please select at least one time slot.","error");return}T(!0);const Y=new Date().toISOString(),I=[...w].sort((ge,oe)=>ge.date!==oe.date?ge.date.localeCompare(oe.date):ge.time.localeCompare(oe.time)),se=[];let he=null;I.forEach(ge=>{if(!he){he={date:ge.date,startTime:ge.time,endTime:Or(ge.time)};return}const oe=ge.date===he.date,Ke=ge.time===he.endTime;oe&&Ke?he.endTime=Or(ge.time):(se.push(he),he={date:ge.date,startTime:ge.time,endTime:Or(ge.time)})}),he&&se.push(he);const le=se.map(ge=>({tool_id:l.id,tool_name:l.name,user_id:a.id,user_name:s?`${s.first_name} ${s.last_name}`:a.email,project:N,date:ge.date,time:ge.startTime,end_time:ge.endTime,created_at:Y}));if(le.some(ge=>Zg(ge,f))){te("One or more selected slots are already booked.","error"),T(!1);return}await c(le),T(!1),E([])};return p.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-5xl h-[90vh] flex flex-col overflow-hidden m-4 transition-colors border dark:border-gray-700",onClick:()=>A(null),children:[p.jsxs("div",{className:"bg-blue-900 dark:bg-blue-950 text-white p-4 flex justify-between items-center shrink-0 transition-colors",children:[p.jsxs("h2",{className:"text-xl font-bold",children:[p.jsx("i",{className:"fas fa-calendar-alt mr-2"}),"Weekly Schedule"]}),p.jsx("button",{onClick:i,className:"hover:text-gray-300 transition-colors",children:p.jsx("i",{className:"fas fa-times text-xl"})})]}),p.jsxs("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex flex-col sm:flex-row justify-between items-center shrink-0 gap-4 sm:gap-0 transition-colors",children:[p.jsxs("div",{className:"text-center sm:text-left",children:[p.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-gray-200 transition-colors",children:l.name}),p.jsxs("div",{className:"flex gap-2 text-sm mt-1 justify-center sm:justify-start",children:[p.jsx(Wg,{status:l.status}),fe?p.jsx("span",{className:"text-green-700 bg-green-100 px-2 rounded font-bold",children:"Licensed"}):p.jsx("span",{className:"text-red-700 bg-red-100 px-2 rounded font-bold",children:"No License"})]})]}),p.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 w-full sm:w-auto justify-between sm:justify-end",children:[p.jsx("button",{onClick:vl,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 rounded transition-colors",children:p.jsx("i",{className:"fas fa-chevron-left"})}),p.jsxs("div",{className:"font-bold text-gray-700 dark:text-gray-300 w-full sm:w-48 text-center text-sm sm:text-base transition-colors",children:[Te[0].toLocaleDateString()," - ",Te[6].toLocaleDateString()]}),p.jsx("button",{onClick:Us,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 rounded transition-colors",children:p.jsx("i",{className:"fas fa-chevron-right"})})]})]}),!yt&&p.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800 p-2 text-center text-red-700 dark:text-red-400 text-sm font-bold shrink-0 transition-colors",children:je?"You do not have a license for this tool.":"Tool is currently down for maintenance."}),p.jsx("div",{className:"flex-1 overflow-auto custom-scroll relative select-none",children:p.jsxs("div",{className:"min-w-[800px] flex",children:[p.jsxs("div",{className:"w-[50px] shrink-0 bg-gray-50 dark:bg-gray-900 border-r dark:border-gray-700 sticky left-0 z-30 transition-colors",children:[p.jsx("div",{className:"h-10 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900 transition-colors"}),ke.map(Y=>p.jsx("div",{className:"h-12 border-b dark:border-gray-700 text-right pr-2 text-xs text-gray-500 dark:text-gray-400 font-mono flex items-center justify-end transition-colors",children:Y},Y))]}),p.jsx("div",{className:"flex-1 flex",children:Te.map((Y,I)=>{const se=Qe(Y),he=be.filter(oe=>oe.date===se),le=Pg(he),Be=V&&V.currentDate===se,ge=V&&V.originalBooking;return p.jsxs("div",{className:"flex-1 min-w-[100px] border-r dark:border-gray-700 last:border-0 relative transition-colors",children:[p.jsx("div",{className:"h-10 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-center font-semibold text-gray-700 dark:text-gray-300 text-sm flex items-center justify-center sticky top-0 z-20 transition-colors",children:Je(Y)}),p.jsxs("div",{className:"relative",children:[ke.map((oe,Ke)=>{const _t=w.some(Ve=>Ve.date===se&&Ve.time===oe),un=z(se,oe);return p.jsx("div",{"data-date":se,"data-timeindex":Ke,className:`h-12 border-b dark:border-gray-700 ${_t?"bg-blue-200 dark:bg-blue-800":""} ${un?"bg-gray-200 dark:bg-black/40 cursor-not-allowed":""} transition-colors`,onMouseDown:()=>pe(se,Ke),onMouseEnter:()=>Pe(se,Ke),onTouchStart:Ve=>Ht(Ve,se,Ke),onTouchMove:$t,onTouchEnd:Ft},oe)}),le.map(oe=>{if(V&&V.bookingId===oe.ids[0])return null;const _t=oe.user_id===a.id,un=J||_t;return p.jsxs("div",{className:`absolute border rounded p-1 text-xs overflow-hidden transition-all group 
                                                            ${_t?"bg-blue-100 dark:bg-blue-900/60 border-blue-300 dark:border-blue-700":"bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600"}
                                                            ${un?"hover:z-10 hover:shadow-md cursor-pointer":""}
                                                            ${_&&_.id===oe.ids[0]?"ring-2 ring-blue-500 z-20":""}
                                                            `,style:$(oe),onMouseDown:Ve=>un&&S(Ve,oe,"move"),onTouchStart:Ve=>un&&en(Ve,oe,"move"),onTouchMove:la,onTouchEnd:oa,onClick:Ve=>Z(Ve,oe),title:`Booked by: ${oe.user_name}
Project: ${oe.project}`,children:[un&&p.jsx("div",{className:"absolute top-0 left-0 right-0 h-3 z-20 cursor-ns-resize opacity-0 group-hover:opacity-100 bg-blue-400/20",onMouseDown:Ve=>{Ve.stopPropagation(),S(Ve,oe,"resize-top")},onTouchStart:Ve=>{Ve.stopPropagation(),en(Ve,oe,"resize-top")},onTouchMove:la,onTouchEnd:oa}),p.jsx("div",{className:`font-bold truncate pointer-events-none ${_t?"text-blue-900 dark:text-blue-100":"text-gray-800 dark:text-gray-200"}`,children:oe.user_name}),p.jsx("div",{className:`truncate text-[10px] pointer-events-none ${_t?"text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-400"}`,children:oe.project}),un&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 z-20 cursor-ns-resize opacity-0 group-hover:opacity-100 bg-blue-400/20",onMouseDown:Ve=>{Ve.stopPropagation(),S(Ve,oe,"resize-bottom")},onTouchStart:Ve=>{Ve.stopPropagation(),en(Ve,oe,"resize-bottom")},onTouchMove:la,onTouchEnd:oa})]},oe.ids[0])}),Be&&p.jsxs("div",{className:`absolute border border-dashed rounded p-1 text-xs overflow-hidden z-50 opacity-80 pointer-events-none
                                                        ${V.isValid?"bg-blue-200 border-blue-500":"bg-red-200 border-red-500"}`,style:{top:`${V.currentTop}px`,height:`${V.currentHeight-1}px`,left:"2px",right:"2px"},children:[p.jsx("div",{className:`font-bold truncate ${V.isValid?"text-blue-900":"text-red-900"}`,children:ge.user_name}),p.jsx("div",{className:`truncate text-[10px] ${V.isValid?"text-blue-700":"text-red-700"}`,children:ge.project})]})]})]},I)})})]})}),p.jsxs("div",{className:"p-4 border-t dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col-reverse sm:flex-row justify-end gap-3 shrink-0 z-30 transition-colors",children:[p.jsxs("div",{className:"mr-auto flex flex-wrap items-center gap-4 text-sm mb-2 sm:mb-0 text-gray-600 dark:text-gray-400",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-4 h-4 bg-white dark:bg-gray-800 border dark:border-gray-600"})," Available"]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-4 h-4 bg-blue-200 dark:bg-blue-800 rounded"})," Selected"]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-4 h-4 bg-blue-100 dark:bg-blue-900/60 border border-blue-300 dark:border-blue-700 rounded"})," My Booking"]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-4 h-4 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded"})," Other's Booking"]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Project:"}),p.jsxs("select",{value:N,onChange:Y=>M(Y.target.value),onClick:Y=>Y.stopPropagation(),className:"border dark:border-gray-600 rounded p-1 text-sm focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-800 dark:text-white",children:[p.jsx("option",{value:"General",children:"General"}),s?.projects?.map((Y,I)=>p.jsx("option",{value:Y,children:Y},I))]})]}),p.jsx("button",{onClick:_?de:i,className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:"Cancel"}),p.jsxs("button",{disabled:w.length===0&&!_||b,onClick:Y=>{Y.stopPropagation(),Rr()},className:`px-6 py-2 rounded text-white font-bold transition flex items-center gap-2 ${w.length===0&&!_||b?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:[b&&p.jsx("i",{className:"fas fa-spinner fa-spin"}),b?_?"Updating...":"Booking...":_?"Update Booking":"Confirm Booking"]})]})]})})},h_=({isOpen:l,title:a,message:s,onConfirm:i,onCancel:c})=>l?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm p-6 transform transition-all scale-100",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:p.jsx("i",{className:"fas fa-exclamation-triangle text-red-600 text-xl"})}),p.jsx("h3",{className:"text-lg font-bold text-gray-900",children:a}),p.jsx("p",{className:"text-sm text-gray-500 mt-2",children:s})]}),p.jsxs("div",{className:"mt-6 flex gap-3",children:[p.jsx("button",{onClick:c,className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:text-sm",children:"Cancel"}),p.jsx("button",{onClick:i,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 sm:text-sm",children:"Confirm"})]})]})}):null,F0=({toolsList:l,title:a,profile:s,onStatusChange:i,onBook:c})=>p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded shadow-sm overflow-x-auto border dark:border-gray-700 mb-8 transition-colors",children:[p.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 border-b dark:border-gray-700 font-bold text-gray-700 dark:text-gray-200 transition-colors",children:[a," (",l.length,")"]}),p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900 border-b dark:border-gray-700 transition-colors",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"ID"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Name"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Category"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Status"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"License"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300 text-right",children:"Action"})]})}),p.jsx("tbody",{children:l.map(d=>p.jsxs("tr",{className:"tool-row border-b dark:border-gray-700 last:border-0 transition-colors",children:[p.jsx("td",{className:"p-4 text-gray-500 dark:text-gray-400 font-mono text-sm",children:d.id}),p.jsxs("td",{className:"p-4",children:[p.jsx("div",{className:"font-bold text-gray-800 dark:text-gray-200",children:d.name}),p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:d.description})]}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded text-xs font-semibold",children:d.category})}),p.jsx("td",{className:"p-4",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Wg,{status:d.status}),s?.access_level==="admin"&&p.jsxs("select",{value:d.status,onChange:f=>i(d.id,f.target.value),className:"text-xs border dark:border-gray-600 rounded p-1 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200",onClick:f=>f.stopPropagation(),children:[p.jsx("option",{value:"up",children:"Up"}),p.jsx("option",{value:"down",children:"Down"}),p.jsx("option",{value:"service",children:"Service"})]})]})}),p.jsx("td",{className:"p-4",children:d.license_req?s?.licenses?.includes(d.id)?p.jsxs("span",{className:"text-green-700 dark:text-green-400 font-bold flex items-center gap-1 text-sm",children:[p.jsx("i",{className:"fas fa-check-circle"})," Active"]}):p.jsxs("span",{className:"text-gray-400 dark:text-gray-500 flex items-center gap-1 text-sm",children:[p.jsx("i",{className:"fas fa-times-circle"})," Missing"]}):p.jsx("span",{className:"text-green-600 dark:text-green-400 text-xs font-bold bg-green-50 dark:bg-green-900/20 px-2 py-1 rounded",children:"Not Required"})}),p.jsx("td",{className:"p-4 text-right",children:p.jsx("button",{onClick:()=>c(d),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm font-medium shadow-sm transition-colors",children:"Book"})})]},d.id))})]}),l.length===0&&p.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"No tools found in this section."})]}),g_=({tools:l,profile:a,onStatusChange:s,onBook:i})=>{const[c,d]=P.useState("All"),[f,m]=P.useState(""),g=P.useMemo(()=>{const b=new Set(l.map(T=>T.category));return["All",...Array.from(b).sort()]},[l]),y=l.filter(b=>{const T=c==="All"||b.category===c,_=b.name.toLowerCase().includes(f.toLowerCase())||b.id.toString().includes(f)||b.description&&b.description.toLowerCase().includes(f.toLowerCase());return T&&_}),w=y.filter(b=>!b.license_req||a?.licenses?.includes(b.id)),E=y.filter(b=>b.license_req&&!a?.licenses?.includes(b.id));return p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white dark:bg-gray-800 p-4 rounded shadow-sm transition-colors",children:[p.jsx("div",{className:"flex-1",children:p.jsx("input",{type:"text",placeholder:"Search tool name, ID, or description...",className:"w-full border dark:border-gray-600 p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-gray-700 text-gray-800 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 transition-colors",value:f,onChange:b=>m(b.target.value)})}),p.jsx("select",{className:"border dark:border-gray-600 p-2 rounded bg-white dark:bg-gray-700 text-gray-800 dark:text-white transition-colors",value:c,onChange:b=>d(b.target.value),children:g.map(b=>p.jsx("option",{value:b,children:b},b))})]}),p.jsx(F0,{toolsList:w,title:"My Authorized Tools",profile:a,onStatusChange:s,onBook:i}),p.jsx(F0,{toolsList:E,title:"Other Tools",profile:a,onStatusChange:s,onBook:i})]})},Qu=({bookings:l,onCancel:a,onUpdate:s,onEdit:i,allBookings:c,isAdminView:d=!1,readOnly:f=!1})=>{const m=P.useMemo(()=>yl(l),[l]);return p.jsx("div",{className:"space-y-6",children:m.length===0?p.jsx("p",{className:"text-gray-500 dark:text-gray-400 transition-colors",children:d?"No bookings found in the system.":"No bookings found."}):p.jsx("div",{className:"space-y-2",children:m.map(g=>p.jsxs("div",{className:`bg-white dark:bg-gray-800 p-4 rounded shadow-sm border dark:border-gray-700 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0 transition-colors ${f?"opacity-75 bg-gray-50 dark:bg-gray-900":""}`,children:[p.jsxs("div",{children:[p.jsx("div",{className:`font-bold ${f?"text-gray-700 dark:text-gray-300":"text-blue-900 dark:text-blue-100"}`,children:g.tool_name}),p.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d&&p.jsxs("span",{className:"font-semibold text-gray-800 dark:text-gray-200 mr-1",children:[g.user_name," |"]}),g.date," | ",g.startTime," - ",g.endTime]}),d&&p.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Project: ",g.project]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>i(g),disabled:f,className:`text-sm font-semibold border px-3 py-1 rounded transition-colors ${f?"text-gray-400 dark:text-gray-600 border-gray-200 dark:border-gray-700 cursor-not-allowed":"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 border-blue-200 dark:border-blue-800 hover:bg-blue-50 dark:hover:bg-blue-900/30"}`,children:"Edit"}),p.jsx("button",{onClick:()=>a(g.ids),disabled:f,className:`text-sm font-semibold border px-3 py-1 rounded transition-colors ${f?"text-gray-400 dark:text-gray-600 border-gray-200 dark:border-gray-700 cursor-not-allowed":"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 border-red-200 dark:border-red-800 hover:bg-red-50 dark:hover:bg-red-900/20"}`,children:d?"Delete":"Cancel"})]})]},g.ids[0]))})})},m_=({bookings:l,currentWeekStart:a,onWeekChange:s,onBookingClick:i})=>{const c=P.useMemo(()=>{const _=[];try{for(let A=0;A<7;A++){const N=new Date(a);N.setDate(a.getDate()+A),_.push(N)}}catch(A){console.error("Error generating week dates",A)}return _},[a]),d=P.useMemo(()=>{const _=[];for(let A=0;A<24;A++){const N=A<10?"0"+A:A;_.push(`${N}:00`),_.push(`${N}:30`)}return _},[]),f=_=>{try{return _.toISOString().split("T")[0]}catch{return""}},m=_=>{try{return _.toLocaleDateString("en-US",{weekday:"short",month:"numeric",day:"numeric"})}catch{return"Invalid Date"}},g=P.useMemo(()=>yl(l),[l]),y=48,w=0,E=_=>{const A=parseInt(_.startTime.split(":")[0]),N=parseInt(_.startTime.split(":")[1]),M=parseInt(_.endTime.split(":")[0]),K=parseInt(_.endTime.split(":")[1]),q=(A-w)*60+N,W=(M-w)*60+K-q,te=q/30*y,J=W/30*y;return{top:`${te}px`,height:`${J-1}px`,left:_.left!==void 0?`${_.left}%`:"2px",width:_.width!==void 0?`${_.width}%`:"calc(100% - 4px)",position:"absolute",zIndex:10}},b=()=>{const _=new Date(a);_.setDate(_.getDate()-7),s(_)},T=()=>{const _=new Date(a);_.setDate(_.getDate()+7),s(_)};return p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 flex flex-col overflow-hidden h-[600px] transition-colors",children:[p.jsx("div",{className:"p-1 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex justify-between items-center shrink-0 transition-colors",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:b,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 rounded transition-colors",children:p.jsx("i",{className:"fas fa-chevron-left"})}),p.jsxs("div",{className:"font-bold text-gray-700 dark:text-gray-200 w-48 text-center transition-colors",children:[c[0].toLocaleDateString()," - ",c[6].toLocaleDateString()]}),p.jsx("button",{onClick:T,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 rounded transition-colors",children:p.jsx("i",{className:"fas fa-chevron-right"})})]})}),p.jsx("div",{className:"flex-1 overflow-auto custom-scroll relative select-none",children:p.jsxs("div",{className:"min-w-[800px] flex",children:[p.jsxs("div",{className:"w-[50px] shrink-0 bg-gray-50 dark:bg-gray-900 border-r dark:border-gray-700 sticky left-0 z-30 transition-colors",children:[p.jsx("div",{className:"h-10 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900 transition-colors"})," ",d.map(_=>p.jsx("div",{className:"h-12 border-b dark:border-gray-700 text-right pr-2 text-xs text-gray-500 dark:text-gray-400 font-mono flex items-center justify-end transition-colors",children:_},_))]}),p.jsx("div",{className:"flex-1 flex",children:c.map((_,A)=>{const N=f(_),M=g.filter(q=>q.date===N),K=Pg(M);return p.jsxs("div",{className:"flex-1 min-w-[100px] border-r dark:border-gray-700 last:border-0 relative transition-colors",children:[p.jsx("div",{className:"h-10 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-center font-semibold text-gray-700 dark:text-gray-300 text-sm flex items-center justify-center sticky top-0 z-20 transition-colors",children:m(_)}),p.jsxs("div",{className:"relative",children:[d.map(q=>p.jsx("div",{className:"h-12 border-b dark:border-gray-700 transition-colors"},q)),K.map(q=>p.jsxs("div",{className:"absolute bg-blue-100 dark:bg-blue-900/50 border border-blue-300 dark:border-blue-700 rounded p-1 text-xs overflow-hidden transition-all hover:z-10 hover:shadow-md cursor-pointer",style:E(q),onClick:()=>i&&i(q),title:"Click to edit booking",children:[p.jsx("div",{className:"font-bold text-blue-900 dark:text-blue-100 truncate pointer-events-none",children:q.tool_name}),p.jsx("div",{className:"text-blue-700 dark:text-blue-300 truncate text-[10px] pointer-events-none",children:q.project}),p.jsxs("div",{className:"text-blue-600 dark:text-blue-400 text-[10px] pointer-events-none",children:[q.startTime," - ",q.endTime]})]},q.ids[0]))]})]},A)})})]})})]})},y_=({tools:l,currentUser:a,onProfileUpdate:s})=>{const[i,c]=P.useState([]),[d,f]=P.useState(null),{showToast:m}=ml();P.useEffect(()=>{(async()=>{console.log("Fetching all users...");const{data:T,error:_}=await st.from("profiles").select("*").order("last_name",{ascending:!0});_?(console.error("Error fetching users:",_),m("Failed to fetch users","error")):(console.log("Fetched users:",T),c(T))})()},[m]);const g=async(b,T)=>{const _=i.find(M=>M.id===b);if(!_)return;const A=_.licenses||[];let N;A.includes(T)?N=A.filter(M=>M!==T):N=[...A,T];try{console.log(`Updating licenses for user ${b} to:`,N);const{data:M,error:K}=await st.from("profiles").update({licenses:N}).eq("id",b).select();if(K)throw console.error("Supabase update error:",K),K;console.log("Supabase update success:",M),c(i.map(q=>q.id===b?{...q,licenses:N}:q)),d?.id===b&&f({...d,licenses:N}),a&&a.id===b&&s&&s(),m("Licenses updated successfully.")}catch(M){console.error("Error updating licenses:",M),m("Failed to update licenses: "+M.message,"error")}},y=async b=>{try{const{error:T}=await st.from("profiles").update({is_approved:!0}).eq("id",b);if(T)throw T;c(i.map(_=>_.id===b?{..._,is_approved:!0}:_)),m("User approved successfully.")}catch(T){console.error("Error approving user:",T),m("Failed to approve user: "+T.message,"error")}},w=async(b,T)=>{const _=i.find(M=>M.id===b);if(!_)return;const A=_.projects||[];if(A.includes(T)){m("Project already assigned.","error");return}const N=[...A,T];try{const{error:M}=await st.from("profiles").update({projects:N}).eq("id",b);if(M)throw M;c(i.map(K=>K.id===b?{...K,projects:N}:K)),d?.id===b&&f({...d,projects:N}),a&&a.id===b&&s&&s(),m("Project added successfully.")}catch(M){console.error("Error adding project:",M),m("Failed to add project: "+M.message,"error")}},E=async(b,T)=>{const _=i.find(N=>N.id===b);if(!_)return;const A=(_.projects||[]).filter(N=>N!==T);try{const{error:N}=await st.from("profiles").update({projects:A}).eq("id",b);if(N)throw N;c(i.map(M=>M.id===b?{...M,projects:A}:M)),d?.id===b&&f({...d,projects:A}),a&&a.id===b&&s&&s(),m("Project removed successfully.")}catch(N){console.error("Error removing project:",N),m("Failed to remove project: "+N.message,"error")}};return p.jsxs("div",{className:"space-y-6",children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 transition-colors",children:"User Management"}),p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded shadow-sm overflow-hidden border dark:border-gray-700 transition-colors",children:p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900 border-b dark:border-gray-700 transition-colors",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Name"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Job Title"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Access"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Status"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Licenses"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300 text-right",children:"Action"})]})}),p.jsx("tbody",{children:i.map(b=>p.jsxs("tr",{className:"border-b dark:border-gray-700 last:border-0 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[p.jsxs("td",{className:"p-4 font-bold text-gray-800 dark:text-gray-200",children:[b.first_name," ",b.last_name]}),p.jsx("td",{className:"p-4 text-gray-600 dark:text-gray-400",children:b.job_title}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${b.access_level==="admin"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"}`,children:b.access_level})}),p.jsx("td",{className:"p-4",children:b.is_approved?p.jsx("span",{className:"px-2 py-1 rounded text-xs font-bold uppercase bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",children:"Active"}):p.jsx("button",{onClick:()=>y(b.id),className:"px-2 py-1 rounded text-xs font-bold uppercase bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 hover:bg-yellow-200 dark:hover:bg-yellow-900/50 transition-colors",children:"Approve"})}),p.jsx("td",{className:"p-4 text-gray-600 dark:text-gray-400",children:b.licenses?.length||0}),p.jsx("td",{className:"p-4 text-right",children:p.jsx("button",{onClick:()=>f(d?.id===b.id?null:b),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-semibold text-sm transition-colors",children:d?.id===b.id?"Close":"Manage"})})]},b.id))})]})}),d&&p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded shadow-sm border border-blue-200 dark:border-blue-900 animate-fade-in transition-colors",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h4",{className:"font-bold text-lg text-gray-800 dark:text-gray-200",children:["Manage ",d.first_name," ",d.last_name]}),p.jsx("button",{onClick:()=>f(null),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",children:p.jsx("i",{className:"fas fa-times"})})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("h5",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tool Licenses"}),p.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-60 overflow-y-auto pr-2 custom-scroll",children:l.map(b=>{const T=d.licenses?.includes(b.id);return p.jsxs("div",{className:`p-2 rounded border flex items-center justify-between cursor-pointer transition-colors text-sm ${T?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600"}`,onClick:()=>g(d.id,b.id),children:[p.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:b.name}),T?p.jsx("i",{className:"fas fa-check-circle text-green-600 dark:text-green-400"}):p.jsx("i",{className:"far fa-circle text-gray-400 dark:text-gray-500"})]},b.id)})})]}),p.jsxs("div",{children:[p.jsx("h5",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Assigned Projects"}),p.jsxs("div",{className:"flex gap-2 mb-2",children:[p.jsx("input",{type:"text",placeholder:"New Project Name",className:"flex-1 border dark:border-gray-600 rounded px-2 py-1 text-sm bg-white dark:bg-gray-700 text-gray-800 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 outline-none focus:ring-2 focus:ring-blue-500 transition-colors",onKeyDown:b=>{if(b.key==="Enter"){const T=b.target.value.trim();T&&(w(d.id,T),b.target.value="")}},id:"new-project-input"}),p.jsx("button",{onClick:()=>{const b=document.getElementById("new-project-input"),T=b.value.trim();T&&(w(d.id,T),b.value="")},className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm transition-colors",children:"Add"})]}),p.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2 custom-scroll",children:[(!d.projects||d.projects.length===0)&&p.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm italic",children:"No projects assigned."}),d.projects?.map((b,T)=>p.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700 p-2 rounded border dark:border-gray-600 text-sm transition-colors",children:[p.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:b}),p.jsx("button",{onClick:()=>E(d.id,b),className:"text-red-500 hover:text-red-700",children:p.jsx("i",{className:"fas fa-trash-alt"})})]},T))]})]})]})]})]})},v_=({bookings:l,currentWeekStart:a})=>{const s=P.useMemo(()=>{if(!a)return[];const i=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],c=new Array(7).fill(0),d=new Date(a);d.setHours(0,0,0,0);const f=new Date(d);f.setDate(d.getDate()+6),f.setHours(23,59,59,999),l.forEach(g=>{const y=new Date(g.date);if(y>=d&&y<=f){let w=y.getDay()-1;w===-1&&(w=6),w>=0&&w<7&&c[w]++}});const m=Math.max(...c,1);return i.map((g,y)=>({day:g,count:c[y],height:c[y]/m*100}))},[l,a]);return p.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border dark:border-gray-700 transition-colors",children:p.jsx("div",{className:"flex justify-between h-32 gap-2",children:s.map((i,c)=>p.jsxs("div",{className:"flex flex-col items-center flex-1 h-full justify-end group",children:[p.jsx("div",{className:"relative w-full flex justify-center items-end flex-1",children:p.jsx("div",{className:"w-full max-w-[30px] bg-blue-600 dark:bg-blue-500 rounded-t transition-all group-hover:bg-blue-700 dark:group-hover:bg-blue-400 relative",style:{height:`${i.height}%`},children:p.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:i.count})})}),p.jsx("div",{className:"text-xs text-gray-400 mt-2 font-medium",children:i.day})]},c))})})},p_=({user:l,onLogout:a})=>{const[s,i]=P.useState("dashboard"),[c,d]=P.useState([]),[f,m]=P.useState([]),[g,y]=P.useState(null),[w,E]=P.useState(null),[b,T]=P.useState(null),[_,A]=P.useState(!0),[N,M]=P.useState(!1),[K,q]=P.useState(!1),[X,W]=P.useState(null),[te,J]=P.useState(()=>{const V=new Date,S=V.getDay(),D=V.getDate()-S+(S===0?-6:1);return new Date(V.setDate(D))}),{showToast:fe}=ml(),{theme:je,toggleTheme:yt}=o_();P.useEffect(()=>{const V=async(D=!1)=>{D||A(!0);try{const{data:G,error:$}=await st.from("tools").select("*").order("id",{ascending:!0});if($)throw $;G&&d(G);const{data:Z,error:de}=await st.from("profiles").select("*").eq("id",l.id).single();if(de&&de.code!=="PGRST116")throw de;Z&&y(Z);const{data:pe,error:Pe}=await st.from("bookings").select("*");if(Pe)throw Pe;pe&&m(pe)}catch(G){console.error("Error fetching data:",G),D||fe("Error fetching data: "+G.message,"error")}finally{D||A(!1)}};V();const S=setInterval(()=>{V(!0)},1e4);return()=>clearInterval(S)},[l.id,fe]);const Te=f.filter(V=>V.user_id===l.id);P.useMemo(()=>yl(Te),[f,l.id]);const ke=P.useMemo(()=>{const V=new Set,S=[],D=[...Te].sort((G,$)=>new Date($.created_at)-new Date(G.created_at));for(const G of D){if(!V.has(G.tool_id)){V.add(G.tool_id);const $=c.find(Z=>Z.id===G.tool_id);$&&S.push($)}if(S.length>=3)break}return S},[Te,c]),Qe=async V=>{const S=Array.isArray(V)?V:[V],D=new Date;if(S.some($=>new Date(`${$.date}T${$.end_time||$.endTime}`)<D)){fe("Cannot create bookings in the past.","error");return}try{const{data:$,error:Z}=await st.from("bookings").insert(S).select();if(Z)throw Z;m([...f,...$]),E(null),T(null),fe(`Successfully created ${$.length} booking(s).`)}catch($){console.error("Error creating booking:",$),fe("Failed to create booking: "+$.message,"error")}},Je=V=>{const S=Array.isArray(V)?V:[V],D=f.filter(Z=>S.includes(Z.id)),G=new Date;if(D.some(Z=>{const de=new Date(`${Z.date}T${Z.time}`),pe=new Date(`${Z.date}T${Z.end_time}`);return de<=G&&pe>G})){fe("Cannot cancel an in-progress booking.","error");return}W(V),q(!0)},Ge=async()=>{if(X)try{const{error:V}=await st.from("bookings").delete().in("id",X);if(V)throw V;m(f.filter(S=>!X.includes(S.id))),fe("Booking has been cancelled.")}catch(V){console.error("Error cancelling booking:",V),fe("Failed to cancel booking.","error")}finally{q(!1),W(null)}},z=async(V,S)=>{try{const D=V[0];if(!D)throw new Error("No booking ID provided for update");if(V.length>1){const Ht=V.slice(1),{error:$t}=await st.from("bookings").delete().in("id",Ht);$t&&console.error("Error deleting secondary slots:",$t)}const $=(Array.isArray(S)?S:[S])[0],Z=new Date;if(new Date(`${$.date}T${$.end_time||$.endTime}`)<Z)throw new Error("Cannot move booking to the past.");const pe={project:$.project,date:$.date,time:$.startTime||$.time,end_time:$.endTime||$.end_time},{data:Pe,error:Re}=await st.from("bookings").update(pe).eq("id",D).select();if(Re)throw Re;m(Ht=>{let $t=Ht;return V.length>1&&($t=Ht.filter(Ft=>!V.slice(1).includes(Ft.id))),$t.map(Ft=>Ft.id===D?{...Ft,...pe}:Ft)}),fe("Booking updated successfully.")}catch(D){console.error("Error updating booking:",D),fe("Failed to update booking: "+D.message,"error")}},Q=async(V,S)=>{try{const{error:D}=await st.from("tools").update({status:S}).eq("id",V);if(D)throw D;d(c.map(G=>G.id===V?{...G,status:S}:G)),fe(`Tool status updated to ${S}`)}catch(D){console.error("Error updating status:",D),fe("Failed to update status.","error")}},ae=V=>{const S=c.find(D=>D.id===V.tool_id);S?(E(S),T(V.date)):fe("Tool details not found.","error")};if(_)return p.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."});const be=V=>{i(V),M(!1)};return p.jsxs("div",{className:"flex h-screen bg-gray-100",children:[N&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>M(!1)}),p.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 shadow-lg flex flex-col transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-auto ${N?"translate-x-0":"-translate-x-full"}`,children:[p.jsx("div",{className:"h-16 flex items-center justify-center border-b border-blue-900 bg-blue-900 dark:bg-blue-950 text-white transition-colors",children:p.jsxs("div",{className:"font-bold text-xl tracking-wider flex items-center",children:[p.jsx("img",{src:Ig,alt:"Logo",className:"h-8 mr-2 brightness-0 invert"}),"MMI-LIMS"]})}),p.jsxs("div",{className:"p-4 border-b dark:border-gray-700",children:[p.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Logged in as"}),p.jsx("div",{className:"font-bold text-gray-800 dark:text-gray-200 truncate",children:g?`${g.first_name} ${g.last_name}`:l.email}),p.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-semibold uppercase mt-1",children:[g?.job_title||"Researcher",g?.access_level==="admin"&&p.jsx("span",{className:"ml-2 bg-red-600 text-white px-1 rounded text-[10px]",children:"ADMIN"})]})]}),p.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[p.jsxs("button",{onClick:()=>be("dashboard"),className:`w-full flex items-center p-3 rounded transition ${s==="dashboard"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-bold":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[p.jsx("i",{className:"fas fa-home w-8"})," Dashboard"]}),p.jsxs("button",{onClick:()=>be("tools"),className:`w-full flex items-center p-3 rounded transition ${s==="tools"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-bold":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[p.jsx("i",{className:"fas fa-tools w-8"})," Tool List"]}),g?.access_level==="admin"&&p.jsxs("button",{onClick:()=>be("users"),className:`w-full flex items-center p-3 rounded transition ${s==="users"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-bold":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[p.jsx("i",{className:"fas fa-users w-8"})," Users"]}),g?.access_level==="admin"&&p.jsxs("button",{onClick:()=>be("all_bookings"),className:`w-full flex items-center p-3 rounded transition ${s==="all_bookings"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-bold":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[p.jsx("i",{className:"fas fa-calendar-check w-8"})," All Bookings"]})]}),p.jsxs("div",{className:"p-4 border-t dark:border-gray-700 space-y-2",children:[p.jsxs("button",{onClick:yt,className:"w-full flex items-center p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 rounded transition",children:[p.jsx("i",{className:`fas ${je==="dark"?"fa-sun":"fa-moon"} w-8`})," ",je==="dark"?"Light Mode":"Dark Mode"]}),p.jsxs("button",{onClick:a,className:"w-full flex items-center p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition",children:[p.jsx("i",{className:"fas fa-sign-out-alt w-8"})," Logout"]})]})]}),p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-gray-100 dark:bg-gray-900 transition-colors",children:[p.jsx("header",{className:"h-16 bg-white dark:bg-gray-800 shadow-sm flex items-center justify-between px-6 transition-colors",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:()=>M(!0),className:"lg:hidden text-gray-600 dark:text-gray-300 hover:text-blue-900 dark:hover:text-blue-400",children:p.jsx("i",{className:"fas fa-bars text-xl"})}),p.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white capitalize",children:s.replace("-"," ")})]})}),p.jsxs("main",{className:"flex-1 overflow-y-auto p-6 custom-scroll",children:[s==="dashboard"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"lg:col-span-2",children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4",children:"Bookings This Week"}),p.jsx(v_,{bookings:f,currentWeekStart:te})]}),p.jsx("div",{className:"lg:col-span-1",children:ke.length>0?p.jsxs("div",{className:"h-full flex flex-col",children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4",children:"Quick Book"}),p.jsx("div",{className:"grid grid-cols-1 gap-4",children:ke.map(V=>p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border dark:border-gray-700 hover:shadow-md transition cursor-pointer flex justify-between items-center group",onClick:()=>E(V),children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-gray-800 dark:text-gray-200 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:V.name}),p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:V.category})]}),p.jsx("div",{className:"h-8 w-8 bg-blue-50 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 group-hover:bg-blue-100 dark:group-hover:bg-blue-800/50 transition-colors",children:p.jsx("i",{className:"fas fa-plus"})})]},V.id))})]}):p.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 italic",children:"No recent tools found."})})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4",children:"My Bookings Calendar"}),p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 p-4 transition-colors",children:p.jsx(m_,{bookings:Te,allBookings:f,onUpdate:z,currentWeekStart:te,onWeekChange:J,onBookingClick:ae})})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4",children:"Upcoming Bookings"}),p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 p-4 transition-colors mb-6",children:p.jsx(Qu,{bookings:Te.filter(V=>new Date(`${V.date}T${V.end_time||V.endTime}`)>=new Date),allBookings:f,onCancel:Je,onUpdate:z,onEdit:ae})}),p.jsx("h3",{className:"font-bold text-gray-600 dark:text-gray-400 mb-4",children:"Past Bookings"}),p.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg shadow-sm border dark:border-gray-700 p-4 transition-colors",children:p.jsx(Qu,{bookings:Te.filter(V=>new Date(`${V.date}T${V.end_time||V.endTime}`)<new Date),allBookings:f,onCancel:Je,onUpdate:z,onEdit:ae,readOnly:!0})})]})]}),s==="tools"&&p.jsx(g_,{tools:c,profile:g,onStatusChange:Q,onBook:E}),s==="all_bookings"&&g?.access_level==="admin"&&p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4",children:"All Bookings List"}),p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 p-4 transition-colors",children:p.jsx(Qu,{bookings:f,onCancel:Je,onUpdate:z,onEdit:ae,isAdminView:!0})})]}),s==="users"&&g?.access_level==="admin"&&p.jsx(y_,{tools:c,currentUser:l,onProfileUpdate:async()=>{const{data:V}=await st.from("profiles").select("*").eq("id",l.id).single();V&&y(V)}})]})]}),w&&p.jsx(f_,{tool:w,user:l,profile:g,existingBookings:f,initialDate:b,onClose:()=>{E(null),T(null)},onConfirm:Qe,onUpdate:z}),p.jsx(h_,{isOpen:K,title:"Cancel Booking",message:"Are you sure you want to cancel this booking? This action cannot be undone.",onConfirm:Ge,onCancel:()=>{q(!1),W(null)}})]})},Fg=()=>p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-900"})}),b_=({session:l,onLogout:a})=>{const[s,i]=P.useState(null),[c,d]=P.useState(!0);return P.useEffect(()=>{(async()=>{const{data:m,error:g}=await st.from("profiles").select("*").eq("id",l.user.id).single();g?console.error("Error fetching profile:",g):i(m),d(!1)})()},[l]),c?p.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:p.jsx(Fg,{})}):s&&!s.is_approved?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-md text-center border-t-4 border-yellow-500",children:[p.jsx("div",{className:"mb-4",children:p.jsx("i",{className:"fas fa-clock text-5xl text-yellow-500"})}),p.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Account Pending Approval"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been created but requires administrator approval before you can access the system. Please check back later or contact the lab manager."}),p.jsx("button",{onClick:a,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition",children:"Sign Out"})]})}):p.jsx(p_,{user:l.user,profile:s,onLogout:a})};function __(){const[l,a]=P.useState(null),[s,i]=P.useState(!0);return P.useEffect(()=>{st.auth.getSession().then(({data:{session:d}})=>{a(d),i(!1)});const{data:{subscription:c}}=st.auth.onAuthStateChange((d,f)=>{a(f),i(!1)});return()=>c.unsubscribe()},[]),s?p.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:p.jsx(Fg,{})}):p.jsx(l_,{children:p.jsx(i_,{children:l?p.jsx(b_,{session:l,onLogout:()=>st.auth.signOut()}):p.jsx(u_,{})})})}Nv.createRoot(document.getElementById("root")).render(p.jsx(P.StrictMode,{children:p.jsx(__,{})}));
