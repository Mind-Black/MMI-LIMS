function vv(l,a){for(var s=0;s<a.length;s++){const i=a[s];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in l)){const d=Object.getOwnPropertyDescriptor(i,c);d&&Object.defineProperty(l,c,d.get?d:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function pv(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function bv(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var a=l.default;if(typeof a=="function"){var s=function i(){var c=!1;try{c=this instanceof i}catch{}return c?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};s.prototype=a.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(l).forEach(function(i){var c=Object.getOwnPropertyDescriptor(l,i);Object.defineProperty(s,i,c.get?c:{enumerable:!0,get:function(){return l[i]}})}),s}var zu={exports:{}},ks={};var p0;function _v(){if(p0)return ks;p0=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(i,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:l,type:i,key:f,ref:c!==void 0?c:null,props:d}}return ks.Fragment=a,ks.jsx=s,ks.jsxs=s,ks}var b0;function wv(){return b0||(b0=1,zu.exports=_v()),zu.exports}var p=wv(),Mu={exports:{}},ye={};var _0;function Sv(){if(_0)return ye;_0=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=b&&x[b]||x["@@iterator"],typeof x=="function"?x:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,R={};function z(x,A,G){this.props=x,this.context=A,this.refs=R,this.updater=G||j}z.prototype.isReactComponent={},z.prototype.setState=function(x,A){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,A,"setState")},z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function K(){}K.prototype=z.prototype;function U(x,A,G){this.props=x,this.context=A,this.refs=R,this.updater=G||j}var X=U.prototype=new K;X.constructor=U,N(X,z.prototype),X.isPureReactComponent=!0;var ie=Array.isArray;function ee(){}var J={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function me(x,A,G){var V=G.ref;return{$$typeof:l,type:x,key:A,ref:V!==void 0?V:null,props:G}}function Ae(x,A){return me(x.type,A,x.props)}function We(x){return typeof x=="object"&&x!==null&&x.$$typeof===l}function De(x){var A={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(G){return A[G]})}var Me=/\/+/g;function tt(x,A){return typeof x=="object"&&x!==null&&x.key!=null?De(""+x.key):A.toString(36)}function Qe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ee,ee):(x.status="pending",x.then(function(A){x.status==="pending"&&(x.status="fulfilled",x.value=A)},function(A){x.status==="pending"&&(x.status="rejected",x.reason=A)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function B(x,A,G,V,I){var F=typeof x;(F==="undefined"||F==="boolean")&&(x=null);var ce=!1;if(x===null)ce=!0;else switch(F){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(x.$$typeof){case l:case a:ce=!0;break;case _:return ce=x._init,B(ce(x._payload),A,G,V,I)}}if(ce)return I=I(x),ce=V===""?"."+tt(x,0):V,ie(I)?(G="",ce!=null&&(G=ce.replace(Me,"$&/")+"/"),B(I,A,G,"",function($e){return $e})):I!=null&&(We(I)&&(I=Ae(I,G+(I.key==null||x&&x.key===I.key?"":(""+I.key).replace(Me,"$&/")+"/")+ce)),A.push(I)),1;ce=0;var Te=V===""?".":V+":";if(ie(x))for(var Ce=0;Ce<x.length;Ce++)V=x[Ce],F=Te+tt(V,Ce),ce+=B(V,A,G,F,I);else if(Ce=S(x),typeof Ce=="function")for(x=Ce.call(x),Ce=0;!(V=x.next()).done;)V=V.value,F=Te+tt(V,Ce++),ce+=B(V,A,G,F,I);else if(F==="object"){if(typeof x.then=="function")return B(Qe(x),A,G,V,I);throw A=String(x),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.")}return ce}function Y(x,A,G){if(x==null)return x;var V=[],I=0;return B(x,V,"","",function(F){return A.call(G,F,I++)}),V}function ae(x){if(x._status===-1){var A=x._result;A=A(),A.then(function(G){(x._status===0||x._status===-1)&&(x._status=1,x._result=G)},function(G){(x._status===0||x._status===-1)&&(x._status=2,x._result=G)}),x._status===-1&&(x._status=0,x._result=A)}if(x._status===1)return x._result.default;throw x._result}var we=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},_e={map:Y,forEach:function(x,A,G){Y(x,function(){A.apply(this,arguments)},G)},count:function(x){var A=0;return Y(x,function(){A++}),A},toArray:function(x){return Y(x,function(A){return A})||[]},only:function(x){if(!We(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return ye.Activity=T,ye.Children=_e,ye.Component=z,ye.Fragment=s,ye.Profiler=c,ye.PureComponent=U,ye.StrictMode=i,ye.Suspense=g,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ye.__COMPILER_RUNTIME={__proto__:null,c:function(x){return J.H.useMemoCache(x)}},ye.cache=function(x){return function(){return x.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(x,A,G){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var V=N({},x.props),I=x.key;if(A!=null)for(F in A.key!==void 0&&(I=""+A.key),A)!P.call(A,F)||F==="key"||F==="__self"||F==="__source"||F==="ref"&&A.ref===void 0||(V[F]=A[F]);var F=arguments.length-2;if(F===1)V.children=G;else if(1<F){for(var ce=Array(F),Te=0;Te<F;Te++)ce[Te]=arguments[Te+2];V.children=ce}return me(x.type,I,V)},ye.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:d,_context:x},x},ye.createElement=function(x,A,G){var V,I={},F=null;if(A!=null)for(V in A.key!==void 0&&(F=""+A.key),A)P.call(A,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(I[V]=A[V]);var ce=arguments.length-2;if(ce===1)I.children=G;else if(1<ce){for(var Te=Array(ce),Ce=0;Ce<ce;Ce++)Te[Ce]=arguments[Ce+2];I.children=Te}if(x&&x.defaultProps)for(V in ce=x.defaultProps,ce)I[V]===void 0&&(I[V]=ce[V]);return me(x,F,I)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(x){return{$$typeof:m,render:x}},ye.isValidElement=We,ye.lazy=function(x){return{$$typeof:_,_payload:{_status:-1,_result:x},_init:ae}},ye.memo=function(x,A){return{$$typeof:y,type:x,compare:A===void 0?null:A}},ye.startTransition=function(x){var A=J.T,G={};J.T=G;try{var V=x(),I=J.S;I!==null&&I(G,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(ee,we)}catch(F){we(F)}finally{A!==null&&G.types!==null&&(A.types=G.types),J.T=A}},ye.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ye.use=function(x){return J.H.use(x)},ye.useActionState=function(x,A,G){return J.H.useActionState(x,A,G)},ye.useCallback=function(x,A){return J.H.useCallback(x,A)},ye.useContext=function(x){return J.H.useContext(x)},ye.useDebugValue=function(){},ye.useDeferredValue=function(x,A){return J.H.useDeferredValue(x,A)},ye.useEffect=function(x,A){return J.H.useEffect(x,A)},ye.useEffectEvent=function(x){return J.H.useEffectEvent(x)},ye.useId=function(){return J.H.useId()},ye.useImperativeHandle=function(x,A,G){return J.H.useImperativeHandle(x,A,G)},ye.useInsertionEffect=function(x,A){return J.H.useInsertionEffect(x,A)},ye.useLayoutEffect=function(x,A){return J.H.useLayoutEffect(x,A)},ye.useMemo=function(x,A){return J.H.useMemo(x,A)},ye.useOptimistic=function(x,A){return J.H.useOptimistic(x,A)},ye.useReducer=function(x,A,G){return J.H.useReducer(x,A,G)},ye.useRef=function(x){return J.H.useRef(x)},ye.useState=function(x){return J.H.useState(x)},ye.useSyncExternalStore=function(x,A,G){return J.H.useSyncExternalStore(x,A,G)},ye.useTransition=function(){return J.H.useTransition()},ye.version="19.2.0",ye}var w0;function fc(){return w0||(w0=1,Mu.exports=Sv()),Mu.exports}var Z=fc(),Bu={exports:{}},Cs={},qu={exports:{}},Lu={};var S0;function xv(){return S0||(S0=1,(function(l){function a(B,Y){var ae=B.length;B.push(Y);e:for(;0<ae;){var we=ae-1>>>1,_e=B[we];if(0<c(_e,Y))B[we]=Y,B[ae]=_e,ae=we;else break e}}function s(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var Y=B[0],ae=B.pop();if(ae!==Y){B[0]=ae;e:for(var we=0,_e=B.length,x=_e>>>1;we<x;){var A=2*(we+1)-1,G=B[A],V=A+1,I=B[V];if(0>c(G,ae))V<_e&&0>c(I,G)?(B[we]=I,B[V]=ae,we=V):(B[we]=G,B[A]=ae,we=A);else if(V<_e&&0>c(I,ae))B[we]=I,B[V]=ae,we=V;else break e}}return Y}function c(B,Y){var ae=B.sortIndex-Y.sortIndex;return ae!==0?ae:B.id-Y.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();l.unstable_now=function(){return f.now()-m}}var g=[],y=[],_=1,T=null,b=3,S=!1,j=!1,N=!1,R=!1,z=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function X(B){for(var Y=s(y);Y!==null;){if(Y.callback===null)i(y);else if(Y.startTime<=B)i(y),Y.sortIndex=Y.expirationTime,a(g,Y);else break;Y=s(y)}}function ie(B){if(N=!1,X(B),!j)if(s(g)!==null)j=!0,ee||(ee=!0,De());else{var Y=s(y);Y!==null&&Qe(ie,Y.startTime-B)}}var ee=!1,J=-1,P=5,me=-1;function Ae(){return R?!0:!(l.unstable_now()-me<P)}function We(){if(R=!1,ee){var B=l.unstable_now();me=B;var Y=!0;try{e:{j=!1,N&&(N=!1,K(J),J=-1),S=!0;var ae=b;try{t:{for(X(B),T=s(g);T!==null&&!(T.expirationTime>B&&Ae());){var we=T.callback;if(typeof we=="function"){T.callback=null,b=T.priorityLevel;var _e=we(T.expirationTime<=B);if(B=l.unstable_now(),typeof _e=="function"){T.callback=_e,X(B),Y=!0;break t}T===s(g)&&i(g),X(B)}else i(g);T=s(g)}if(T!==null)Y=!0;else{var x=s(y);x!==null&&Qe(ie,x.startTime-B),Y=!1}}break e}finally{T=null,b=ae,S=!1}Y=void 0}}finally{Y?De():ee=!1}}}var De;if(typeof U=="function")De=function(){U(We)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,tt=Me.port2;Me.port1.onmessage=We,De=function(){tt.postMessage(null)}}else De=function(){z(We,0)};function Qe(B,Y){J=z(function(){B(l.unstable_now())},Y)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(B){B.callback=null},l.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<B?Math.floor(1e3/B):5},l.unstable_getCurrentPriorityLevel=function(){return b},l.unstable_next=function(B){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var ae=b;b=Y;try{return B()}finally{b=ae}},l.unstable_requestPaint=function(){R=!0},l.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ae=b;b=B;try{return Y()}finally{b=ae}},l.unstable_scheduleCallback=function(B,Y,ae){var we=l.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?we+ae:we):ae=we,B){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=ae+_e,B={id:_++,callback:Y,priorityLevel:B,startTime:ae,expirationTime:_e,sortIndex:-1},ae>we?(B.sortIndex=ae,a(y,B),s(g)===null&&B===s(y)&&(N?(K(J),J=-1):N=!0,Qe(ie,ae-we))):(B.sortIndex=_e,a(g,B),j||S||(j=!0,ee||(ee=!0,De()))),B},l.unstable_shouldYield=Ae,l.unstable_wrapCallback=function(B){var Y=b;return function(){var ae=b;b=Y;try{return B.apply(this,arguments)}finally{b=ae}}}})(Lu)),Lu}var x0;function Tv(){return x0||(x0=1,qu.exports=xv()),qu.exports}var Hu={exports:{}},bt={};var T0;function Ev(){if(T0)return bt;T0=1;var l=fc();function a(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,y,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:T==null?null:""+T,children:g,containerInfo:y,implementation:_}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,bt.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(a(299));return d(g,y,null,_)},bt.flushSync=function(g){var y=f.T,_=i.p;try{if(f.T=null,i.p=2,g)return g()}finally{f.T=y,i.p=_,i.d.f()}},bt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},bt.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},bt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,T=m(_,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,S=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:S}):_==="script"&&i.d.X(g,{crossOrigin:T,integrity:b,fetchPriority:S,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},bt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=m(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},bt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,T=m(_,y.crossOrigin);i.d.L(g,_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},bt.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=m(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},bt.requestFormReset=function(g){i.d.r(g)},bt.unstable_batchedUpdates=function(g,y){return g(y)},bt.useFormState=function(g,y,_){return f.H.useFormState(g,y,_)},bt.useFormStatus=function(){return f.H.useHostTransitionStatus()},bt.version="19.2.0",bt}var E0;function jv(){if(E0)return Hu.exports;E0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Hu.exports=Ev(),Hu.exports}var j0;function Ov(){if(j0)return Cs;j0=1;var l=Tv(),a=fc(),s=jv();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(i(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return g(o),e;if(u===r)return g(o),t;u=u.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=u;else{for(var h=!1,v=o.child;v;){if(v===n){h=!0,n=o,r=u;break}if(v===r){h=!0,r=o,n=u;break}v=v.sibling}if(!h){for(v=u.child;v;){if(v===n){h=!0,n=u,r=o;break}if(v===r){h=!0,r=u,n=o;break}v=v.sibling}if(!h)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),U=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),me=Symbol.for("react.activity"),Ae=Symbol.for("react.memo_cache_sentinel"),We=Symbol.iterator;function De(e){return e===null||typeof e!="object"?null:(e=We&&e[We]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Symbol.for("react.client.reference");function tt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Me?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case z:return"Profiler";case R:return"StrictMode";case ie:return"Suspense";case ee:return"SuspenseList";case me:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case U:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return t=e.displayName||null,t!==null?t:tt(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return tt(e(t))}catch{}}return null}var Qe=Array.isArray,B=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},we=[],_e=-1;function x(e){return{current:e}}function A(e){0>_e||(e.current=we[_e],we[_e]=null,_e--)}function G(e,t){_e++,we[_e]=e.current,e.current=t}var V=x(null),I=x(null),F=x(null),ce=x(null);function Te(e,t){switch(G(F,t),G(I,e),G(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?$h(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=$h(t),e=Gh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}A(V),G(V,e)}function Ce(){A(V),A(I),A(F)}function $e(e){e.memoizedState!==null&&G(ce,e);var t=V.current,n=Gh(t,e.type);t!==n&&(G(I,e),G(V,n))}function ln(e){I.current===e&&(A(V),A(I)),ce.current===e&&(A(ce),Os._currentValue=ae)}var Un,hn;function wt(e){if(Un===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Un=t&&t[1]||"",hn=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Un+e+hn}var Wt=!1;function Ur(e,t){if(!e||Wt)return"";Wt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(M){var D=M}Reflect.construct(e,[],H)}else{try{H.call()}catch(M){D=M}e.call(H.prototype)}}else{try{throw Error()}catch(M){D=M}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(M){if(M&&D&&typeof M.stack=="string")return[M.stack,D.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),h=u[0],v=u[1];if(h&&v){var w=h.split(`
`),C=v.split(`
`);for(o=r=0;r<w.length&&!w[r].includes("DetermineComponentFrameRoot");)r++;for(;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;if(r===w.length||o===C.length)for(r=w.length-1,o=C.length-1;1<=r&&0<=o&&w[r]!==C[o];)o--;for(;1<=r&&0<=o;r--,o--)if(w[r]!==C[o]){if(r!==1||o!==1)do if(r--,o--,0>o||w[r]!==C[o]){var q=`
`+w[r].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=r&&0<=o);break}}}finally{Wt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?wt(n):""}function wl(e,t){switch(e.tag){case 26:case 27:case 5:return wt(e.type);case 16:return wt("Lazy");case 13:return e.child!==t&&t!==null?wt("Suspense Fallback"):wt("Suspense");case 19:return wt("SuspenseList");case 0:case 15:return Ur(e.type,!1);case 11:return Ur(e.type.render,!1);case 1:return Ur(e.type,!0);case 31:return wt("Activity");default:return""}}function zn(e){try{var t="",n=null;do t+=wl(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var zr=Object.prototype.hasOwnProperty,Mr=l.unstable_scheduleCallback,Br=l.unstable_cancelCallback,gn=l.unstable_shouldYield,qr=l.unstable_requestPaint,ft=l.unstable_now,Lr=l.unstable_getCurrentPriorityLevel,$s=l.unstable_ImmediatePriority,Gs=l.unstable_UserBlockingPriority,za=l.unstable_NormalPriority,$=l.unstable_LowPriority,Q=l.unstable_IdlePriority,re=l.log,fe=l.unstable_setDisableYieldValue,he=null,ve=null;function le(e){if(typeof re=="function"&&fe(e),ve&&typeof ve.setStrictMode=="function")try{ve.setStrictMode(he,e)}catch{}}var W=Math.clz32?Math.clz32:Mn,Ie=Math.log,St=Math.LN2;function Mn(e){return e>>>=0,e===0?32:31-(Ie(e)/St|0)|0}var Ft=256,Hr=262144,Bn=4194304;function on(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ma(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var o=0,u=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var v=r&134217727;return v!==0?(r=v&~u,r!==0?o=on(r):(h&=v,h!==0?o=on(h):n||(n=v&~e,n!==0&&(o=on(n))))):(v=r&~u,v!==0?o=on(v):h!==0?o=on(h):n||(n=r&~e,n!==0&&(o=on(n)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:o}function Ve(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function rm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(){var e=Bn;return Bn<<=1,(Bn&62914560)===0&&(Bn=4194304),e}function Sl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $r(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sm(e,t,n,r,o,u){var h=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,w=e.expirationTimes,C=e.hiddenUpdates;for(n=h&~n;0<n;){var q=31-W(n),H=1<<q;v[q]=0,w[q]=-1;var D=C[q];if(D!==null)for(C[q]=null,q=0;q<D.length;q++){var M=D[q];M!==null&&(M.lane&=-536870913)}n&=~H}r!==0&&Sc(e,r,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(h&~t))}function Sc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-W(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function xc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-W(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Tc(e,t){var n=t&-t;return n=(n&42)!==0?1:xl(n),(n&(e.suspendedLanes|t))!==0?0:n}function xl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ec(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:d0(e.type))}function jc(e,t){var n=Y.p;try{return Y.p=e,t()}finally{Y.p=n}}var qn=Math.random().toString(36).slice(2),ht="__reactFiber$"+qn,Tt="__reactProps$"+qn,Ba="__reactContainer$"+qn,El="__reactEvents$"+qn,im="__reactListeners$"+qn,lm="__reactHandles$"+qn,Oc="__reactResources$"+qn,Gr="__reactMarker$"+qn;function jl(e){delete e[ht],delete e[Tt],delete e[El],delete e[im],delete e[lm]}function qa(e){var t=e[ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ba]||n[ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ih(e);e!==null;){if(n=e[ht])return n;e=Ih(e)}return t}e=n,n=e.parentNode}return null}function La(e){if(e=e[ht]||e[Ba]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Vr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Ha(e){var t=e[Oc];return t||(t=e[Oc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ct(e){e[Gr]=!0}var Ac=new Set,Nc={};function da(e,t){$a(e,t),$a(e+"Capture",t)}function $a(e,t){for(Nc[e]=t,e=0;e<t.length;e++)Ac.add(t[e])}var om=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rc={},kc={};function um(e){return zr.call(kc,e)?!0:zr.call(Rc,e)?!1:om.test(e)?kc[e]=!0:(Rc[e]=!0,!1)}function Vs(e,t,n){if(um(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ys(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function mn(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function $t(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cm(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){n=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(h){n=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ol(e){if(!e._valueTracker){var t=Cc(e)?"checked":"value";e._valueTracker=cm(e,t,""+e[t])}}function Dc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Cc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ks(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dm=/[\n"\\]/g;function Gt(e){return e.replace(dm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Al(e,t,n,r,o,u,h,v){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+$t(t)):e.value!==""+$t(t)&&(e.value=""+$t(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?Nl(e,h,$t(t)):n!=null?Nl(e,h,$t(n)):r!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+$t(v):e.removeAttribute("name")}function Uc(e,t,n,r,o,u,h,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Ol(e);return}n=n!=null?""+$t(n):"",t=t!=null?""+$t(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=v?e.checked:!!r,e.defaultChecked=!!r,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),Ol(e)}function Nl(e,t,n){t==="number"&&Ks(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ga(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$t(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function zc(e,t,n){if(t!=null&&(t=""+$t(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+$t(n):""}function Mc(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(Qe(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=$t(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),Ol(e)}function Va(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bc(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||fm.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function qc(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Bc(e,o,r)}else for(var u in t)t.hasOwnProperty(u)&&Bc(e,u,t[u])}function Rl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(e){return gm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function yn(){}var kl=null;function Cl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ya=null,Ka=null;function Lc(e){var t=La(e);if(t&&(e=t.stateNode)){var n=e[Tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Al(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[Tt]||null;if(!o)throw Error(i(90));Al(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Dc(r)}break e;case"textarea":zc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ga(e,!!n.multiple,t,!1)}}}var Dl=!1;function Hc(e,t,n){if(Dl)return e(t,n);Dl=!0;try{var r=e(t);return r}finally{if(Dl=!1,(Ya!==null||Ka!==null)&&(Di(),Ya&&(t=Ya,e=Ka,Ka=Ya=null,Lc(t),e)))for(t=0;t<e.length;t++)Lc(e[t])}}function Yr(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Tt]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ul=!1;if(vn)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{Ul=!1}var Ln=null,zl=null,Qs=null;function $c(){if(Qs)return Qs;var e,t=zl,n=t.length,r,o="value"in Ln?Ln.value:Ln.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var h=n-e;for(r=1;r<=h&&t[n-r]===o[u-r];r++);return Qs=o.slice(e,1<r?1-r:void 0)}function Js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Is(){return!0}function Gc(){return!1}function Et(e){function t(n,r,o,u,h){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Is:Gc,this.isPropagationStopped=Gc,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),t}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=Et(fa),Xr=T({},fa,{view:0,detail:0}),mm=Et(Xr),Ml,Bl,Qr,Ps=T({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ll,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qr&&(Qr&&e.type==="mousemove"?(Ml=e.screenX-Qr.screenX,Bl=e.screenY-Qr.screenY):Bl=Ml=0,Qr=e),Ml)},movementY:function(e){return"movementY"in e?e.movementY:Bl}}),Vc=Et(Ps),ym=T({},Ps,{dataTransfer:0}),vm=Et(ym),pm=T({},Xr,{relatedTarget:0}),ql=Et(pm),bm=T({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),_m=Et(bm),wm=T({},fa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sm=Et(wm),xm=T({},fa,{data:0}),Yc=Et(xm),Tm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Em={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Om(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jm[e])?!!t[e]:!1}function Ll(){return Om}var Am=T({},Xr,{key:function(e){if(e.key){var t=Tm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Em[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ll,charCode:function(e){return e.type==="keypress"?Js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nm=Et(Am),Rm=T({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kc=Et(Rm),km=T({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ll}),Cm=Et(km),Dm=T({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Um=Et(Dm),zm=T({},Ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mm=Et(zm),Bm=T({},fa,{newState:0,oldState:0}),qm=Et(Bm),Lm=[9,13,27,32],Hl=vn&&"CompositionEvent"in window,Jr=null;vn&&"documentMode"in document&&(Jr=document.documentMode);var Hm=vn&&"TextEvent"in window&&!Jr,Xc=vn&&(!Hl||Jr&&8<Jr&&11>=Jr),Qc=" ",Jc=!1;function Ic(e,t){switch(e){case"keyup":return Lm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xa=!1;function $m(e,t){switch(e){case"compositionend":return Zc(t);case"keypress":return t.which!==32?null:(Jc=!0,Qc);case"textInput":return e=t.data,e===Qc&&Jc?null:e;default:return null}}function Gm(e,t){if(Xa)return e==="compositionend"||!Hl&&Ic(e,t)?(e=$c(),Qs=zl=Ln=null,Xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xc&&t.locale!=="ko"?null:t.data;default:return null}}var Vm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vm[e.type]:t==="textarea"}function Wc(e,t,n,r){Ya?Ka?Ka.push(r):Ka=[r]:Ya=r,t=Hi(t,"onChange"),0<t.length&&(n=new Zs("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ir=null,Zr=null;function Ym(e){zh(e,0)}function Ws(e){var t=Vr(e);if(Dc(t))return e}function Fc(e,t){if(e==="change")return t}var ed=!1;if(vn){var $l;if(vn){var Gl="oninput"in document;if(!Gl){var td=document.createElement("div");td.setAttribute("oninput","return;"),Gl=typeof td.oninput=="function"}$l=Gl}else $l=!1;ed=$l&&(!document.documentMode||9<document.documentMode)}function nd(){Ir&&(Ir.detachEvent("onpropertychange",ad),Zr=Ir=null)}function ad(e){if(e.propertyName==="value"&&Ws(Zr)){var t=[];Wc(t,Zr,e,Cl(e)),Hc(Ym,t)}}function Km(e,t,n){e==="focusin"?(nd(),Ir=t,Zr=n,Ir.attachEvent("onpropertychange",ad)):e==="focusout"&&nd()}function Xm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ws(Zr)}function Qm(e,t){if(e==="click")return Ws(t)}function Jm(e,t){if(e==="input"||e==="change")return Ws(t)}function Im(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Im;function Pr(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!zr.call(t,o)||!kt(e[o],t[o]))return!1}return!0}function rd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sd(e,t){var n=rd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rd(n)}}function id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ld(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ks(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ks(e.document)}return t}function Vl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Zm=vn&&"documentMode"in document&&11>=document.documentMode,Qa=null,Yl=null,Wr=null,Kl=!1;function od(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kl||Qa==null||Qa!==Ks(r)||(r=Qa,"selectionStart"in r&&Vl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wr&&Pr(Wr,r)||(Wr=r,r=Hi(Yl,"onSelect"),0<r.length&&(t=new Zs("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qa)))}function ha(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ja={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},Xl={},ud={};vn&&(ud=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ga(e){if(Xl[e])return Xl[e];if(!Ja[e])return e;var t=Ja[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ud)return Xl[e]=t[n];return e}var cd=ga("animationend"),dd=ga("animationiteration"),fd=ga("animationstart"),Pm=ga("transitionrun"),Wm=ga("transitionstart"),Fm=ga("transitioncancel"),hd=ga("transitionend"),gd=new Map,Ql="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ql.push("scrollEnd");function en(e,t){gd.set(e,t),da(t,[e])}var Fs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vt=[],Ia=0,Jl=0;function ei(){for(var e=Ia,t=Jl=Ia=0;t<e;){var n=Vt[t];Vt[t++]=null;var r=Vt[t];Vt[t++]=null;var o=Vt[t];Vt[t++]=null;var u=Vt[t];if(Vt[t++]=null,r!==null&&o!==null){var h=r.pending;h===null?o.next=o:(o.next=h.next,h.next=o),r.pending=o}u!==0&&md(n,o,u)}}function ti(e,t,n,r){Vt[Ia++]=e,Vt[Ia++]=t,Vt[Ia++]=n,Vt[Ia++]=r,Jl|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Il(e,t,n,r){return ti(e,t,n,r),ni(e)}function ma(e,t){return ti(e,null,null,t),ni(e)}function md(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var o=!1,u=e.return;u!==null;)u.childLanes|=n,r=u.alternate,r!==null&&(r.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-W(n),e=u.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=n|536870912),u):null}function ni(e){if(50<_s)throw _s=0,su=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Za={};function ey(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,r){return new ey(e,t,n,r)}function Zl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pn(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function yd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ai(e,t,n,r,o,u){var h=0;if(r=e,typeof e=="function")Zl(e)&&(h=1);else if(typeof e=="string")h=sv(e,n,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case me:return e=Ct(31,n,t,o),e.elementType=me,e.lanes=u,e;case N:return ya(n.children,o,u,t);case R:h=8,o|=24;break;case z:return e=Ct(12,n,t,o|2),e.elementType=z,e.lanes=u,e;case ie:return e=Ct(13,n,t,o),e.elementType=ie,e.lanes=u,e;case ee:return e=Ct(19,n,t,o),e.elementType=ee,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:h=10;break e;case K:h=9;break e;case X:h=11;break e;case J:h=14;break e;case P:h=16,r=null;break e}h=29,n=Error(i(130,e===null?"null":typeof e,"")),r=null}return t=Ct(h,n,t,o),t.elementType=e,t.type=r,t.lanes=u,t}function ya(e,t,n,r){return e=Ct(7,e,r,t),e.lanes=n,e}function Pl(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function vd(e){var t=Ct(18,null,null,0);return t.stateNode=e,t}function Wl(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var pd=new WeakMap;function Yt(e,t){if(typeof e=="object"&&e!==null){var n=pd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:zn(t)},pd.set(e,t),t)}return{value:e,source:t,stack:zn(t)}}var Pa=[],Wa=0,ri=null,Fr=0,Kt=[],Xt=0,Hn=null,un=1,cn="";function bn(e,t){Pa[Wa++]=Fr,Pa[Wa++]=ri,ri=e,Fr=t}function bd(e,t,n){Kt[Xt++]=un,Kt[Xt++]=cn,Kt[Xt++]=Hn,Hn=e;var r=un;e=cn;var o=32-W(r)-1;r&=~(1<<o),n+=1;var u=32-W(t)+o;if(30<u){var h=o-o%5;u=(r&(1<<h)-1).toString(32),r>>=h,o-=h,un=1<<32-W(t)+o|n<<o|r,cn=u+e}else un=1<<u|n<<o|r,cn=e}function Fl(e){e.return!==null&&(bn(e,1),bd(e,1,0))}function eo(e){for(;e===ri;)ri=Pa[--Wa],Pa[Wa]=null,Fr=Pa[--Wa],Pa[Wa]=null;for(;e===Hn;)Hn=Kt[--Xt],Kt[Xt]=null,cn=Kt[--Xt],Kt[Xt]=null,un=Kt[--Xt],Kt[Xt]=null}function _d(e,t){Kt[Xt++]=un,Kt[Xt++]=cn,Kt[Xt++]=Hn,un=t.id,cn=t.overflow,Hn=e}var gt=null,Ye=null,Oe=!1,$n=null,Qt=!1,to=Error(i(519));function Gn(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw es(Yt(t,e)),to}function wd(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ht]=e,t[Tt]=r,n){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(n=0;n<Ss.length;n++)xe(Ss[n],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),Uc(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),Mc(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||Lh(t.textContent,n)?(r.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),r.onScroll!=null&&xe("scroll",t),r.onScrollEnd!=null&&xe("scrollend",t),r.onClick!=null&&(t.onclick=yn),t=!0):t=!1,t||Gn(e,!0)}function Sd(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:gt=gt.return}}function Fa(e){if(e!==gt)return!1;if(!Oe)return Sd(e),Oe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||_u(e.type,e.memoizedProps)),n=!n),n&&Ye&&Gn(e),Sd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ye=Jh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ye=Jh(e)}else t===27?(t=Ye,na(e.type)?(e=Eu,Eu=null,Ye=e):Ye=t):Ye=gt?It(e.stateNode.nextSibling):null;return!0}function va(){Ye=gt=null,Oe=!1}function no(){var e=$n;return e!==null&&(Nt===null?Nt=e:Nt.push.apply(Nt,e),$n=null),e}function es(e){$n===null?$n=[e]:$n.push(e)}var ao=x(null),pa=null,_n=null;function Vn(e,t,n){G(ao,t._currentValue),t._currentValue=n}function wn(e){e._currentValue=ao.current,A(ao)}function ro(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function so(e,t,n,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var h=o.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=o;for(var w=0;w<t.length;w++)if(v.context===t[w]){u.lanes|=n,v=u.alternate,v!==null&&(v.lanes|=n),ro(u.return,n,e),r||(h=null);break e}u=v.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(i(341));h.lanes|=n,u=h.alternate,u!==null&&(u.lanes|=n),ro(h,n,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function er(e,t,n,r){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(i(387));if(h=h.memoizedProps,h!==null){var v=o.type;kt(o.pendingProps.value,h.value)||(e!==null?e.push(v):e=[v])}}else if(o===ce.current){if(h=o.alternate,h===null)throw Error(i(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Os):e=[Os])}o=o.return}e!==null&&so(t,e,n,r),t.flags|=262144}function si(e){for(e=e.firstContext;e!==null;){if(!kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ba(e){pa=e,_n=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mt(e){return xd(pa,e)}function ii(e,t){return pa===null&&ba(e),xd(e,t)}function xd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},_n===null){if(e===null)throw Error(i(308));_n=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _n=_n.next=t;return n}var ty=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},ny=l.unstable_scheduleCallback,ay=l.unstable_NormalPriority,nt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function io(){return{controller:new ty,data:new Map,refCount:0}}function ts(e){e.refCount--,e.refCount===0&&ny(ay,function(){e.controller.abort()})}var ns=null,lo=0,tr=0,nr=null;function ry(e,t){if(ns===null){var n=ns=[];lo=0,tr=du(),nr={status:"pending",value:void 0,then:function(r){n.push(r)}}}return lo++,t.then(Td,Td),t}function Td(){if(--lo===0&&ns!==null){nr!==null&&(nr.status="fulfilled");var e=ns;ns=null,tr=0,nr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function sy(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),r}var Ed=B.S;B.S=function(e,t){uh=ft(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ry(e,t),Ed!==null&&Ed(e,t)};var _a=x(null);function oo(){var e=_a.current;return e!==null?e:He.pooledCache}function li(e,t){t===null?G(_a,_a.current):G(_a,t.pool)}function jd(){var e=oo();return e===null?null:{parent:nt._currentValue,pool:e}}var ar=Error(i(460)),uo=Error(i(474)),oi=Error(i(542)),ui={then:function(){}};function Od(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ad(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(yn,yn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rd(e),e;default:if(typeof t.status=="string")t.then(yn,yn);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rd(e),e}throw Sa=t,ar}}function wa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Sa=n,ar):n}}var Sa=null;function Nd(){if(Sa===null)throw Error(i(459));var e=Sa;return Sa=null,e}function Rd(e){if(e===ar||e===oi)throw Error(i(483))}var rr=null,as=0;function ci(e){var t=as;return as+=1,rr===null&&(rr=[]),Ad(rr,e,t)}function rs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function di(e,t){throw t.$$typeof===b?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function kd(e){function t(O,E){if(e){var k=O.deletions;k===null?(O.deletions=[E],O.flags|=16):k.push(E)}}function n(O,E){if(!e)return null;for(;E!==null;)t(O,E),E=E.sibling;return null}function r(O){for(var E=new Map;O!==null;)O.key!==null?E.set(O.key,O):E.set(O.index,O),O=O.sibling;return E}function o(O,E){return O=pn(O,E),O.index=0,O.sibling=null,O}function u(O,E,k){return O.index=k,e?(k=O.alternate,k!==null?(k=k.index,k<E?(O.flags|=67108866,E):k):(O.flags|=67108866,E)):(O.flags|=1048576,E)}function h(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function v(O,E,k,L){return E===null||E.tag!==6?(E=Pl(k,O.mode,L),E.return=O,E):(E=o(E,k),E.return=O,E)}function w(O,E,k,L){var ue=k.type;return ue===N?q(O,E,k.props.children,L,k.key):E!==null&&(E.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===P&&wa(ue)===E.type)?(E=o(E,k.props),rs(E,k),E.return=O,E):(E=ai(k.type,k.key,k.props,null,O.mode,L),rs(E,k),E.return=O,E)}function C(O,E,k,L){return E===null||E.tag!==4||E.stateNode.containerInfo!==k.containerInfo||E.stateNode.implementation!==k.implementation?(E=Wl(k,O.mode,L),E.return=O,E):(E=o(E,k.children||[]),E.return=O,E)}function q(O,E,k,L,ue){return E===null||E.tag!==7?(E=ya(k,O.mode,L,ue),E.return=O,E):(E=o(E,k),E.return=O,E)}function H(O,E,k){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Pl(""+E,O.mode,k),E.return=O,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case S:return k=ai(E.type,E.key,E.props,null,O.mode,k),rs(k,E),k.return=O,k;case j:return E=Wl(E,O.mode,k),E.return=O,E;case P:return E=wa(E),H(O,E,k)}if(Qe(E)||De(E))return E=ya(E,O.mode,k,null),E.return=O,E;if(typeof E.then=="function")return H(O,ci(E),k);if(E.$$typeof===U)return H(O,ii(O,E),k);di(O,E)}return null}function D(O,E,k,L){var ue=E!==null?E.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ue!==null?null:v(O,E,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return k.key===ue?w(O,E,k,L):null;case j:return k.key===ue?C(O,E,k,L):null;case P:return k=wa(k),D(O,E,k,L)}if(Qe(k)||De(k))return ue!==null?null:q(O,E,k,L,null);if(typeof k.then=="function")return D(O,E,ci(k),L);if(k.$$typeof===U)return D(O,E,ii(O,k),L);di(O,k)}return null}function M(O,E,k,L,ue){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return O=O.get(k)||null,v(E,O,""+L,ue);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return O=O.get(L.key===null?k:L.key)||null,w(E,O,L,ue);case j:return O=O.get(L.key===null?k:L.key)||null,C(E,O,L,ue);case P:return L=wa(L),M(O,E,k,L,ue)}if(Qe(L)||De(L))return O=O.get(k)||null,q(E,O,L,ue,null);if(typeof L.then=="function")return M(O,E,k,ci(L),ue);if(L.$$typeof===U)return M(O,E,k,ii(E,L),ue);di(E,L)}return null}function te(O,E,k,L){for(var ue=null,Ne=null,se=E,be=E=0,je=null;se!==null&&be<k.length;be++){se.index>be?(je=se,se=null):je=se.sibling;var Re=D(O,se,k[be],L);if(Re===null){se===null&&(se=je);break}e&&se&&Re.alternate===null&&t(O,se),E=u(Re,E,be),Ne===null?ue=Re:Ne.sibling=Re,Ne=Re,se=je}if(be===k.length)return n(O,se),Oe&&bn(O,be),ue;if(se===null){for(;be<k.length;be++)se=H(O,k[be],L),se!==null&&(E=u(se,E,be),Ne===null?ue=se:Ne.sibling=se,Ne=se);return Oe&&bn(O,be),ue}for(se=r(se);be<k.length;be++)je=M(se,O,be,k[be],L),je!==null&&(e&&je.alternate!==null&&se.delete(je.key===null?be:je.key),E=u(je,E,be),Ne===null?ue=je:Ne.sibling=je,Ne=je);return e&&se.forEach(function(la){return t(O,la)}),Oe&&bn(O,be),ue}function de(O,E,k,L){if(k==null)throw Error(i(151));for(var ue=null,Ne=null,se=E,be=E=0,je=null,Re=k.next();se!==null&&!Re.done;be++,Re=k.next()){se.index>be?(je=se,se=null):je=se.sibling;var la=D(O,se,Re.value,L);if(la===null){se===null&&(se=je);break}e&&se&&la.alternate===null&&t(O,se),E=u(la,E,be),Ne===null?ue=la:Ne.sibling=la,Ne=la,se=je}if(Re.done)return n(O,se),Oe&&bn(O,be),ue;if(se===null){for(;!Re.done;be++,Re=k.next())Re=H(O,Re.value,L),Re!==null&&(E=u(Re,E,be),Ne===null?ue=Re:Ne.sibling=Re,Ne=Re);return Oe&&bn(O,be),ue}for(se=r(se);!Re.done;be++,Re=k.next())Re=M(se,O,be,Re.value,L),Re!==null&&(e&&Re.alternate!==null&&se.delete(Re.key===null?be:Re.key),E=u(Re,E,be),Ne===null?ue=Re:Ne.sibling=Re,Ne=Re);return e&&se.forEach(function(yv){return t(O,yv)}),Oe&&bn(O,be),ue}function Le(O,E,k,L){if(typeof k=="object"&&k!==null&&k.type===N&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case S:e:{for(var ue=k.key;E!==null;){if(E.key===ue){if(ue=k.type,ue===N){if(E.tag===7){n(O,E.sibling),L=o(E,k.props.children),L.return=O,O=L;break e}}else if(E.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===P&&wa(ue)===E.type){n(O,E.sibling),L=o(E,k.props),rs(L,k),L.return=O,O=L;break e}n(O,E);break}else t(O,E);E=E.sibling}k.type===N?(L=ya(k.props.children,O.mode,L,k.key),L.return=O,O=L):(L=ai(k.type,k.key,k.props,null,O.mode,L),rs(L,k),L.return=O,O=L)}return h(O);case j:e:{for(ue=k.key;E!==null;){if(E.key===ue)if(E.tag===4&&E.stateNode.containerInfo===k.containerInfo&&E.stateNode.implementation===k.implementation){n(O,E.sibling),L=o(E,k.children||[]),L.return=O,O=L;break e}else{n(O,E);break}else t(O,E);E=E.sibling}L=Wl(k,O.mode,L),L.return=O,O=L}return h(O);case P:return k=wa(k),Le(O,E,k,L)}if(Qe(k))return te(O,E,k,L);if(De(k)){if(ue=De(k),typeof ue!="function")throw Error(i(150));return k=ue.call(k),de(O,E,k,L)}if(typeof k.then=="function")return Le(O,E,ci(k),L);if(k.$$typeof===U)return Le(O,E,ii(O,k),L);di(O,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,E!==null&&E.tag===6?(n(O,E.sibling),L=o(E,k),L.return=O,O=L):(n(O,E),L=Pl(k,O.mode,L),L.return=O,O=L),h(O)):n(O,E)}return function(O,E,k,L){try{as=0;var ue=Le(O,E,k,L);return rr=null,ue}catch(se){if(se===ar||se===oi)throw se;var Ne=Ct(29,se,null,O.mode);return Ne.lanes=L,Ne.return=O,Ne}finally{}}}var xa=kd(!0),Cd=kd(!1),Yn=!1;function co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Kn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ke&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=ni(e),md(e,null,n),t}return ti(e,r,t,n),ni(e)}function ss(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xc(e,n)}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var h={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?o=u=h:u=u.next=h,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var go=!1;function is(){if(go){var e=nr;if(e!==null)throw e}}function ls(e,t,n,r){go=!1;var o=e.updateQueue;Yn=!1;var u=o.firstBaseUpdate,h=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var w=v,C=w.next;w.next=null,h===null?u=C:h.next=C,h=w;var q=e.alternate;q!==null&&(q=q.updateQueue,v=q.lastBaseUpdate,v!==h&&(v===null?q.firstBaseUpdate=C:v.next=C,q.lastBaseUpdate=w))}if(u!==null){var H=o.baseState;h=0,q=C=w=null,v=u;do{var D=v.lane&-536870913,M=D!==v.lane;if(M?(Ee&D)===D:(r&D)===D){D!==0&&D===tr&&(go=!0),q!==null&&(q=q.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var te=e,de=v;D=t;var Le=n;switch(de.tag){case 1:if(te=de.payload,typeof te=="function"){H=te.call(Le,H,D);break e}H=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=de.payload,D=typeof te=="function"?te.call(Le,H,D):te,D==null)break e;H=T({},H,D);break e;case 2:Yn=!0}}D=v.callback,D!==null&&(e.flags|=64,M&&(e.flags|=8192),M=o.callbacks,M===null?o.callbacks=[D]:M.push(D))}else M={lane:D,tag:v.tag,payload:v.payload,callback:v.callback,next:null},q===null?(C=q=M,w=H):q=q.next=M,h|=D;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;M=v,v=M.next,M.next=null,o.lastBaseUpdate=M,o.shared.pending=null}}while(!0);q===null&&(w=H),o.baseState=w,o.firstBaseUpdate=C,o.lastBaseUpdate=q,u===null&&(o.shared.lanes=0),Pn|=h,e.lanes=h,e.memoizedState=H}}function Dd(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Ud(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Dd(n[e],t)}var sr=x(null),fi=x(0);function zd(e,t){e=Rn,G(fi,e),G(sr,t),Rn=e|t.baseLanes}function mo(){G(fi,Rn),G(sr,sr.current)}function yo(){Rn=fi.current,A(sr),A(fi)}var Dt=x(null),Jt=null;function Qn(e){var t=e.alternate;G(Fe,Fe.current&1),G(Dt,e),Jt===null&&(t===null||sr.current!==null||t.memoizedState!==null)&&(Jt=e)}function vo(e){G(Fe,Fe.current),G(Dt,e),Jt===null&&(Jt=e)}function Md(e){e.tag===22?(G(Fe,Fe.current),G(Dt,e),Jt===null&&(Jt=e)):Jn()}function Jn(){G(Fe,Fe.current),G(Dt,Dt.current)}function Ut(e){A(Dt),Jt===e&&(Jt=null),A(Fe)}var Fe=x(0);function hi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||xu(n)||Tu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sn=0,pe=null,Be=null,at=null,gi=!1,ir=!1,Ta=!1,mi=0,os=0,lr=null,iy=0;function Ze(){throw Error(i(321))}function po(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function bo(e,t,n,r,o,u){return Sn=u,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?_f:Uo,Ta=!1,u=n(r,o),Ta=!1,ir&&(u=qd(t,n,r,o)),Bd(e),u}function Bd(e){B.H=ds;var t=Be!==null&&Be.next!==null;if(Sn=0,at=Be=pe=null,gi=!1,os=0,lr=null,t)throw Error(i(300));e===null||rt||(e=e.dependencies,e!==null&&si(e)&&(rt=!0))}function qd(e,t,n,r){pe=e;var o=0;do{if(ir&&(lr=null),os=0,ir=!1,25<=o)throw Error(i(301));if(o+=1,at=Be=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}B.H=wf,u=t(n,r)}while(ir);return u}function ly(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?us(t):t,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(pe.flags|=1024),t}function _o(){var e=mi!==0;return mi=0,e}function wo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function So(e){if(gi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}gi=!1}Sn=0,at=Be=pe=null,ir=!1,os=mi=0,lr=null}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?pe.memoizedState=at=e:at=at.next=e,at}function et(){if(Be===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=at===null?pe.memoizedState:at.next;if(t!==null)at=t,Be=e;else{if(e===null)throw pe.alternate===null?Error(i(467)):Error(i(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},at===null?pe.memoizedState=at=e:at=at.next=e}return at}function yi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function us(e){var t=os;return os+=1,lr===null&&(lr=[]),e=Ad(lr,e,t),t=pe,(at===null?t.memoizedState:at.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?_f:Uo),e}function vi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return us(e);if(e.$$typeof===U)return mt(e)}throw Error(i(438,String(e)))}function xo(e){var t=null,n=pe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=pe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=yi(),pe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=Ae;return t.index++,n}function xn(e,t){return typeof t=="function"?t(e):t}function pi(e){var t=et();return To(t,Be,e)}function To(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var o=e.baseQueue,u=r.pending;if(u!==null){if(o!==null){var h=o.next;o.next=u.next,u.next=h}t.baseQueue=o=u,r.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var v=h=null,w=null,C=t,q=!1;do{var H=C.lane&-536870913;if(H!==C.lane?(Ee&H)===H:(Sn&H)===H){var D=C.revertLane;if(D===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),H===tr&&(q=!0);else if((Sn&D)===D){C=C.next,D===tr&&(q=!0);continue}else H={lane:0,revertLane:C.revertLane,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},w===null?(v=w=H,h=u):w=w.next=H,pe.lanes|=D,Pn|=D;H=C.action,Ta&&n(u,H),u=C.hasEagerState?C.eagerState:n(u,H)}else D={lane:H,revertLane:C.revertLane,gesture:C.gesture,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},w===null?(v=w=D,h=u):w=w.next=D,pe.lanes|=H,Pn|=H;C=C.next}while(C!==null&&C!==t);if(w===null?h=u:w.next=v,!kt(u,e.memoizedState)&&(rt=!0,q&&(n=nr,n!==null)))throw n;e.memoizedState=u,e.baseState=h,e.baseQueue=w,r.lastRenderedState=u}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Eo(e){var t=et(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var h=o=o.next;do u=e(u,h.action),h=h.next;while(h!==o);kt(u,t.memoizedState)||(rt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,r]}function Ld(e,t,n){var r=pe,o=et(),u=Oe;if(u){if(n===void 0)throw Error(i(407));n=n()}else n=t();var h=!kt((Be||o).memoizedState,n);if(h&&(o.memoizedState=n,rt=!0),o=o.queue,Ao(Gd.bind(null,r,o,e),[e]),o.getSnapshot!==t||h||at!==null&&at.memoizedState.tag&1){if(r.flags|=2048,or(9,{destroy:void 0},$d.bind(null,r,o,n,t),null),He===null)throw Error(i(349));u||(Sn&127)!==0||Hd(r,t,n)}return n}function Hd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pe.updateQueue,t===null?(t=yi(),pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $d(e,t,n,r){t.value=n,t.getSnapshot=r,Vd(t)&&Yd(e)}function Gd(e,t,n){return n(function(){Vd(t)&&Yd(e)})}function Vd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function Yd(e){var t=ma(e,2);t!==null&&Rt(t,e,2)}function jo(e){var t=xt();if(typeof e=="function"){var n=e;if(e=n(),Ta){le(!0);try{n()}finally{le(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:e},t}function Kd(e,t,n,r){return e.baseState=n,To(e,Be,typeof r=="function"?r:xn)}function oy(e,t,n,r,o){if(wi(e))throw Error(i(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){u.listeners.push(h)}};B.T!==null?n(!0):u.isTransition=!1,r(u),n=t.pending,n===null?(u.next=t.pending=u,Xd(t,u)):(u.next=n.next,t.pending=n.next=u)}}function Xd(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var u=B.T,h={};B.T=h;try{var v=n(o,r),w=B.S;w!==null&&w(h,v),Qd(e,t,v)}catch(C){Oo(e,t,C)}finally{u!==null&&h.types!==null&&(u.types=h.types),B.T=u}}else try{u=n(o,r),Qd(e,t,u)}catch(C){Oo(e,t,C)}}function Qd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Jd(e,t,r)},function(r){return Oo(e,t,r)}):Jd(e,t,n)}function Jd(e,t,n){t.status="fulfilled",t.value=n,Id(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Xd(e,n)))}function Oo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,Id(t),t=t.next;while(t!==r)}e.action=null}function Id(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Zd(e,t){return t}function Pd(e,t){if(Oe){var n=He.formState;if(n!==null){e:{var r=pe;if(Oe){if(Ye){t:{for(var o=Ye,u=Qt;o.nodeType!==8;){if(!u){o=null;break t}if(o=It(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Ye=It(o.nextSibling),r=o.data==="F!";break e}}Gn(r)}r=!1}r&&(t=n[0])}}return n=xt(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zd,lastRenderedState:t},n.queue=r,n=vf.bind(null,pe,r),r.dispatch=n,r=jo(!1),u=Do.bind(null,pe,!1,r.queue),r=xt(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,n=oy.bind(null,pe,o,u,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Wd(e){var t=et();return Fd(t,Be,e)}function Fd(e,t,n){if(t=To(e,t,Zd)[0],e=pi(xn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=us(t)}catch(h){throw h===ar?oi:h}else r=t;t=et();var o=t.queue,u=o.dispatch;return n!==t.memoizedState&&(pe.flags|=2048,or(9,{destroy:void 0},uy.bind(null,o,n),null)),[r,u,e]}function uy(e,t){e.action=t}function ef(e){var t=et(),n=Be;if(n!==null)return Fd(t,n,e);et(),t=t.memoizedState,n=et();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function or(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=pe.updateQueue,t===null&&(t=yi(),pe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function tf(){return et().memoizedState}function bi(e,t,n,r){var o=xt();pe.flags|=e,o.memoizedState=or(1|t,{destroy:void 0},n,r===void 0?null:r)}function _i(e,t,n,r){var o=et();r=r===void 0?null:r;var u=o.memoizedState.inst;Be!==null&&r!==null&&po(r,Be.memoizedState.deps)?o.memoizedState=or(t,u,n,r):(pe.flags|=e,o.memoizedState=or(1|t,u,n,r))}function nf(e,t){bi(8390656,8,e,t)}function Ao(e,t){_i(2048,8,e,t)}function cy(e){pe.flags|=4;var t=pe.updateQueue;if(t===null)t=yi(),pe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function af(e){var t=et().memoizedState;return cy({ref:t,nextImpl:e}),function(){if((ke&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function rf(e,t){return _i(4,2,e,t)}function sf(e,t){return _i(4,4,e,t)}function lf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function of(e,t,n){n=n!=null?n.concat([e]):null,_i(4,4,lf.bind(null,t,e),n)}function No(){}function uf(e,t){var n=et();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&po(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function cf(e,t){var n=et();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&po(t,r[1]))return r[0];if(r=e(),Ta){le(!0);try{e()}finally{le(!1)}}return n.memoizedState=[r,t],r}function Ro(e,t,n){return n===void 0||(Sn&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=dh(),pe.lanes|=e,Pn|=e,n)}function df(e,t,n,r){return kt(n,t)?n:sr.current!==null?(e=Ro(e,n,r),kt(e,t)||(rt=!0),e):(Sn&42)===0||(Sn&1073741824)!==0&&(Ee&261930)===0?(rt=!0,e.memoizedState=n):(e=dh(),pe.lanes|=e,Pn|=e,t)}function ff(e,t,n,r,o){var u=Y.p;Y.p=u!==0&&8>u?u:8;var h=B.T,v={};B.T=v,Do(e,!1,t,n);try{var w=o(),C=B.S;if(C!==null&&C(v,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var q=sy(w,r);cs(e,t,q,Bt(e))}else cs(e,t,r,Bt(e))}catch(H){cs(e,t,{then:function(){},status:"rejected",reason:H},Bt())}finally{Y.p=u,h!==null&&v.types!==null&&(h.types=v.types),B.T=h}}function dy(){}function ko(e,t,n,r){if(e.tag!==5)throw Error(i(476));var o=hf(e).queue;ff(e,o,t,ae,n===null?dy:function(){return gf(e),n(r)})}function hf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:ae},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function gf(e){var t=hf(e);t.next===null&&(t=e.alternate.memoizedState),cs(e,t.next.queue,{},Bt())}function Co(){return mt(Os)}function mf(){return et().memoizedState}function yf(){return et().memoizedState}function fy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Bt();e=Kn(n);var r=Xn(t,e,n);r!==null&&(Rt(r,t,n),ss(r,t,n)),t={cache:io()},e.payload=t;return}t=t.return}}function hy(e,t,n){var r=Bt();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},wi(e)?pf(t,n):(n=Il(e,t,n,r),n!==null&&(Rt(n,e,r),bf(n,t,r)))}function vf(e,t,n){var r=Bt();cs(e,t,n,r)}function cs(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(wi(e))pf(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,v=u(h,n);if(o.hasEagerState=!0,o.eagerState=v,kt(v,h))return ti(e,t,o,0),He===null&&ei(),!1}catch{}finally{}if(n=Il(e,t,o,r),n!==null)return Rt(n,e,r),bf(n,t,r),!0}return!1}function Do(e,t,n,r){if(r={lane:2,revertLane:du(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},wi(e)){if(t)throw Error(i(479))}else t=Il(e,n,r,2),t!==null&&Rt(t,e,2)}function wi(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function pf(e,t){ir=gi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bf(e,t,n){if((n&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xc(e,n)}}var ds={readContext:mt,use:vi,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};ds.useEffectEvent=Ze;var _f={readContext:mt,use:vi,useCallback:function(e,t){return xt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:nf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,bi(4194308,4,lf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bi(4194308,4,e,t)},useInsertionEffect:function(e,t){bi(4,2,e,t)},useMemo:function(e,t){var n=xt();t=t===void 0?null:t;var r=e();if(Ta){le(!0);try{e()}finally{le(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=xt();if(n!==void 0){var o=n(t);if(Ta){le(!0);try{n(t)}finally{le(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=hy.bind(null,pe,e),[r.memoizedState,e]},useRef:function(e){var t=xt();return e={current:e},t.memoizedState=e},useState:function(e){e=jo(e);var t=e.queue,n=vf.bind(null,pe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:No,useDeferredValue:function(e,t){var n=xt();return Ro(n,e,t)},useTransition:function(){var e=jo(!1);return e=ff.bind(null,pe,e.queue,!0,!1),xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=pe,o=xt();if(Oe){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),He===null)throw Error(i(349));(Ee&127)!==0||Hd(r,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,nf(Gd.bind(null,r,u,e),[e]),r.flags|=2048,or(9,{destroy:void 0},$d.bind(null,r,u,n,t),null),n},useId:function(){var e=xt(),t=He.identifierPrefix;if(Oe){var n=cn,r=un;n=(r&~(1<<32-W(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=mi++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=iy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Co,useFormState:Pd,useActionState:Pd,useOptimistic:function(e){var t=xt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Do.bind(null,pe,!0,n),n.dispatch=t,[e,t]},useMemoCache:xo,useCacheRefresh:function(){return xt().memoizedState=fy.bind(null,pe)},useEffectEvent:function(e){var t=xt(),n={impl:e};return t.memoizedState=n,function(){if((ke&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Uo={readContext:mt,use:vi,useCallback:uf,useContext:mt,useEffect:Ao,useImperativeHandle:of,useInsertionEffect:rf,useLayoutEffect:sf,useMemo:cf,useReducer:pi,useRef:tf,useState:function(){return pi(xn)},useDebugValue:No,useDeferredValue:function(e,t){var n=et();return df(n,Be.memoizedState,e,t)},useTransition:function(){var e=pi(xn)[0],t=et().memoizedState;return[typeof e=="boolean"?e:us(e),t]},useSyncExternalStore:Ld,useId:mf,useHostTransitionStatus:Co,useFormState:Wd,useActionState:Wd,useOptimistic:function(e,t){var n=et();return Kd(n,Be,e,t)},useMemoCache:xo,useCacheRefresh:yf};Uo.useEffectEvent=af;var wf={readContext:mt,use:vi,useCallback:uf,useContext:mt,useEffect:Ao,useImperativeHandle:of,useInsertionEffect:rf,useLayoutEffect:sf,useMemo:cf,useReducer:Eo,useRef:tf,useState:function(){return Eo(xn)},useDebugValue:No,useDeferredValue:function(e,t){var n=et();return Be===null?Ro(n,e,t):df(n,Be.memoizedState,e,t)},useTransition:function(){var e=Eo(xn)[0],t=et().memoizedState;return[typeof e=="boolean"?e:us(e),t]},useSyncExternalStore:Ld,useId:mf,useHostTransitionStatus:Co,useFormState:ef,useActionState:ef,useOptimistic:function(e,t){var n=et();return Be!==null?Kd(n,Be,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:xo,useCacheRefresh:yf};wf.useEffectEvent=af;function zo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:T({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Mo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bt(),o=Kn(r);o.payload=t,n!=null&&(o.callback=n),t=Xn(e,o,r),t!==null&&(Rt(t,e,r),ss(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bt(),o=Kn(r);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Xn(e,o,r),t!==null&&(Rt(t,e,r),ss(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bt(),r=Kn(n);r.tag=2,t!=null&&(r.callback=t),t=Xn(e,r,n),t!==null&&(Rt(t,e,n),ss(t,e,n))}};function Sf(e,t,n,r,o,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,h):t.prototype&&t.prototype.isPureReactComponent?!Pr(n,r)||!Pr(o,u):!0}function xf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mo.enqueueReplaceState(t,t.state,null)}function Ea(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=T({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function Tf(e){Fs(e)}function Ef(e){console.error(e)}function jf(e){Fs(e)}function Si(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Of(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Bo(e,t,n){return n=Kn(n),n.tag=3,n.payload={element:null},n.callback=function(){Si(e,t)},n}function Af(e){return e=Kn(e),e.tag=3,e}function Nf(e,t,n,r){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var u=r.value;e.payload=function(){return o(u)},e.callback=function(){Of(t,n,r)}}var h=n.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){Of(t,n,r),typeof o!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})})}function gy(e,t,n,r,o){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&er(t,n,o,!0),n=Dt.current,n!==null){switch(n.tag){case 31:case 13:return Jt===null?Ui():n.alternate===null&&Pe===0&&(Pe=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===ui?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),ou(e,r,o)),!1;case 22:return n.flags|=65536,r===ui?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),ou(e,r,o)),!1}throw Error(i(435,n.tag))}return ou(e,r,o),Ui(),!1}if(Oe)return t=Dt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==to&&(e=Error(i(422),{cause:r}),es(Yt(e,n)))):(r!==to&&(t=Error(i(423),{cause:r}),es(Yt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=Yt(r,n),o=Bo(e.stateNode,r,o),ho(e,o),Pe!==4&&(Pe=2)),!1;var u=Error(i(520),{cause:r});if(u=Yt(u,n),bs===null?bs=[u]:bs.push(u),Pe!==4&&(Pe=2),t===null)return!0;r=Yt(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=Bo(n.stateNode,r,e),ho(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Wn===null||!Wn.has(u))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Af(o),Nf(o,e,n,r),ho(n,o),!1}n=n.return}while(n!==null);return!1}var qo=Error(i(461)),rt=!1;function yt(e,t,n,r){t.child=e===null?Cd(t,null,n,r):xa(t,e.child,n,r)}function Rf(e,t,n,r,o){n=n.render;var u=t.ref;if("ref"in r){var h={};for(var v in r)v!=="ref"&&(h[v]=r[v])}else h=r;return ba(t),r=bo(e,t,n,h,u,o),v=_o(),e!==null&&!rt?(wo(e,t,o),Tn(e,t,o)):(Oe&&v&&Fl(t),t.flags|=1,yt(e,t,r,o),t.child)}function kf(e,t,n,r,o){if(e===null){var u=n.type;return typeof u=="function"&&!Zl(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,Cf(e,t,u,r,o)):(e=ai(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Xo(e,o)){var h=u.memoizedProps;if(n=n.compare,n=n!==null?n:Pr,n(h,r)&&e.ref===t.ref)return Tn(e,t,o)}return t.flags|=1,e=pn(u,r),e.ref=t.ref,e.return=t,t.child=e}function Cf(e,t,n,r,o){if(e!==null){var u=e.memoizedProps;if(Pr(u,r)&&e.ref===t.ref)if(rt=!1,t.pendingProps=r=u,Xo(e,o))(e.flags&131072)!==0&&(rt=!0);else return t.lanes=e.lanes,Tn(e,t,o)}return Lo(e,t,n,r,o)}function Df(e,t,n,r){var o=r.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~u}else r=0,t.child=null;return Uf(e,t,u,n,r)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&li(t,u!==null?u.cachePool:null),u!==null?zd(t,u):mo(),Md(t);else return r=t.lanes=536870912,Uf(e,t,u!==null?u.baseLanes|n:n,n,r)}else u!==null?(li(t,u.cachePool),zd(t,u),Jn(),t.memoizedState=null):(e!==null&&li(t,null),mo(),Jn());return yt(e,t,o,n),t.child}function fs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Uf(e,t,n,r,o){var u=oo();return u=u===null?null:{parent:nt._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&li(t,null),mo(),Md(t),e!==null&&er(e,t,r,!0),t.childLanes=o,null}function xi(e,t){return t=Ei({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function zf(e,t,n){return xa(t,e.child,null,n),e=xi(t,t.pendingProps),e.flags|=2,Ut(t),t.memoizedState=null,e}function my(e,t,n){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Oe){if(r.mode==="hidden")return e=xi(t,r),t.lanes=536870912,fs(null,e);if(vo(t),(e=Ye)?(e=Qh(e,Qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:un,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},n=vd(e),n.return=t,t.child=n,gt=t,Ye=null)):e=null,e===null)throw Gn(t);return t.lanes=536870912,null}return xi(t,r)}var u=e.memoizedState;if(u!==null){var h=u.dehydrated;if(vo(t),o)if(t.flags&256)t.flags&=-257,t=zf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(rt||er(e,t,n,!1),o=(n&e.childLanes)!==0,rt||o){if(r=He,r!==null&&(h=Tc(r,n),h!==0&&h!==u.retryLane))throw u.retryLane=h,ma(e,h),Rt(r,e,h),qo;Ui(),t=zf(e,t,n)}else e=u.treeContext,Ye=It(h.nextSibling),gt=t,Oe=!0,$n=null,Qt=!1,e!==null&&_d(t,e),t=xi(t,r),t.flags|=4096;return t}return e=pn(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ti(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Lo(e,t,n,r,o){return ba(t),n=bo(e,t,n,r,void 0,o),r=_o(),e!==null&&!rt?(wo(e,t,o),Tn(e,t,o)):(Oe&&r&&Fl(t),t.flags|=1,yt(e,t,n,o),t.child)}function Mf(e,t,n,r,o,u){return ba(t),t.updateQueue=null,n=qd(t,r,n,o),Bd(e),r=_o(),e!==null&&!rt?(wo(e,t,u),Tn(e,t,u)):(Oe&&r&&Fl(t),t.flags|=1,yt(e,t,n,u),t.child)}function Bf(e,t,n,r,o){if(ba(t),t.stateNode===null){var u=Za,h=n.contextType;typeof h=="object"&&h!==null&&(u=mt(h)),u=new n(r,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Mo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=r,u.state=t.memoizedState,u.refs={},co(t),h=n.contextType,u.context=typeof h=="object"&&h!==null?mt(h):Za,u.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(zo(t,n,h,r),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(h=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),h!==u.state&&Mo.enqueueReplaceState(u,u.state,null),ls(t,r,u,o),is(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,w=Ea(n,v);u.props=w;var C=u.context,q=n.contextType;h=Za,typeof q=="object"&&q!==null&&(h=mt(q));var H=n.getDerivedStateFromProps;q=typeof H=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,q||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||C!==h)&&xf(t,u,r,h),Yn=!1;var D=t.memoizedState;u.state=D,ls(t,r,u,o),is(),C=t.memoizedState,v||D!==C||Yn?(typeof H=="function"&&(zo(t,n,H,r),C=t.memoizedState),(w=Yn||Sf(t,n,w,r,D,C,h))?(q||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=C),u.props=r,u.state=C,u.context=h,r=w):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,fo(e,t),h=t.memoizedProps,q=Ea(n,h),u.props=q,H=t.pendingProps,D=u.context,C=n.contextType,w=Za,typeof C=="object"&&C!==null&&(w=mt(C)),v=n.getDerivedStateFromProps,(C=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==H||D!==w)&&xf(t,u,r,w),Yn=!1,D=t.memoizedState,u.state=D,ls(t,r,u,o),is();var M=t.memoizedState;h!==H||D!==M||Yn||e!==null&&e.dependencies!==null&&si(e.dependencies)?(typeof v=="function"&&(zo(t,n,v,r),M=t.memoizedState),(q=Yn||Sf(t,n,q,r,D,M,w)||e!==null&&e.dependencies!==null&&si(e.dependencies))?(C||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,M,w),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,M,w)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=M),u.props=r,u.state=M,u.context=w,r=q):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),r=!1)}return u=r,Ti(e,t),r=(t.flags&128)!==0,u||r?(u=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&r?(t.child=xa(t,e.child,null,o),t.child=xa(t,null,n,o)):yt(e,t,n,o),t.memoizedState=u.state,e=t.child):e=Tn(e,t,o),e}function qf(e,t,n,r){return va(),t.flags|=256,yt(e,t,n,r),t.child}var Ho={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $o(e){return{baseLanes:e,cachePool:jd()}}function Go(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Mt),e}function Lf(e,t,n){var r=t.pendingProps,o=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(o?Qn(t):Jn(),(e=Ye)?(e=Qh(e,Qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:un,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},n=vd(e),n.return=t,t.child=n,gt=t,Ye=null)):e=null,e===null)throw Gn(t);return Tu(e)?t.lanes=32:t.lanes=536870912,null}var v=r.children;return r=r.fallback,o?(Jn(),o=t.mode,v=Ei({mode:"hidden",children:v},o),r=ya(r,o,n,null),v.return=t,r.return=t,v.sibling=r,t.child=v,r=t.child,r.memoizedState=$o(n),r.childLanes=Go(e,h,n),t.memoizedState=Ho,fs(null,r)):(Qn(t),Vo(t,v))}var w=e.memoizedState;if(w!==null&&(v=w.dehydrated,v!==null)){if(u)t.flags&256?(Qn(t),t.flags&=-257,t=Yo(e,t,n)):t.memoizedState!==null?(Jn(),t.child=e.child,t.flags|=128,t=null):(Jn(),v=r.fallback,o=t.mode,r=Ei({mode:"visible",children:r.children},o),v=ya(v,o,n,null),v.flags|=2,r.return=t,v.return=t,r.sibling=v,t.child=r,xa(t,e.child,null,n),r=t.child,r.memoizedState=$o(n),r.childLanes=Go(e,h,n),t.memoizedState=Ho,t=fs(null,r));else if(Qn(t),Tu(v)){if(h=v.nextSibling&&v.nextSibling.dataset,h)var C=h.dgst;h=C,r=Error(i(419)),r.stack="",r.digest=h,es({value:r,source:null,stack:null}),t=Yo(e,t,n)}else if(rt||er(e,t,n,!1),h=(n&e.childLanes)!==0,rt||h){if(h=He,h!==null&&(r=Tc(h,n),r!==0&&r!==w.retryLane))throw w.retryLane=r,ma(e,r),Rt(h,e,r),qo;xu(v)||Ui(),t=Yo(e,t,n)}else xu(v)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Ye=It(v.nextSibling),gt=t,Oe=!0,$n=null,Qt=!1,e!==null&&_d(t,e),t=Vo(t,r.children),t.flags|=4096);return t}return o?(Jn(),v=r.fallback,o=t.mode,w=e.child,C=w.sibling,r=pn(w,{mode:"hidden",children:r.children}),r.subtreeFlags=w.subtreeFlags&65011712,C!==null?v=pn(C,v):(v=ya(v,o,n,null),v.flags|=2),v.return=t,r.return=t,r.sibling=v,t.child=r,fs(null,r),r=t.child,v=e.child.memoizedState,v===null?v=$o(n):(o=v.cachePool,o!==null?(w=nt._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=jd(),v={baseLanes:v.baseLanes|n,cachePool:o}),r.memoizedState=v,r.childLanes=Go(e,h,n),t.memoizedState=Ho,fs(e.child,r)):(Qn(t),n=e.child,e=n.sibling,n=pn(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=n,t.memoizedState=null,n)}function Vo(e,t){return t=Ei({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ei(e,t){return e=Ct(22,e,null,t),e.lanes=0,e}function Yo(e,t,n){return xa(t,e.child,null,n),e=Vo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ro(e.return,t,n)}function Ko(e,t,n,r,o,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:u}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=n,h.tailMode=o,h.treeForkCount=u)}function $f(e,t,n){var r=t.pendingProps,o=r.revealOrder,u=r.tail;r=r.children;var h=Fe.current,v=(h&2)!==0;if(v?(h=h&1|2,t.flags|=128):h&=1,G(Fe,h),yt(e,t,r,n),r=Oe?Fr:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hf(e,n,t);else if(e.tag===19)Hf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&hi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ko(t,!1,o,n,u,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&hi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ko(t,!0,n,null,u,r);break;case"together":Ko(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Tn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(er(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&si(e)))}function yy(e,t,n){switch(t.tag){case 3:Te(t,t.stateNode.containerInfo),Vn(t,nt,e.memoizedState.cache),va();break;case 27:case 5:$e(t);break;case 4:Te(t,t.stateNode.containerInfo);break;case 10:Vn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,vo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Qn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Lf(e,t,n):(Qn(t),e=Tn(e,t,n),e!==null?e.sibling:null);Qn(t);break;case 19:var o=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(er(e,t,n,!1),r=(n&t.childLanes)!==0),o){if(r)return $f(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),G(Fe,Fe.current),r)break;return null;case 22:return t.lanes=0,Df(e,t,n,t.pendingProps);case 24:Vn(t,nt,e.memoizedState.cache)}return Tn(e,t,n)}function Gf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)rt=!0;else{if(!Xo(e,n)&&(t.flags&128)===0)return rt=!1,yy(e,t,n);rt=(e.flags&131072)!==0}else rt=!1,Oe&&(t.flags&1048576)!==0&&bd(t,Fr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=wa(t.elementType),t.type=e,typeof e=="function")Zl(e)?(r=Ea(e,r),t.tag=1,t=Bf(null,t,e,r,n)):(t.tag=0,t=Lo(null,t,e,r,n));else{if(e!=null){var o=e.$$typeof;if(o===X){t.tag=11,t=Rf(null,t,e,r,n);break e}else if(o===J){t.tag=14,t=kf(null,t,e,r,n);break e}}throw t=tt(e)||e,Error(i(306,t,""))}}return t;case 0:return Lo(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,o=Ea(r,t.pendingProps),Bf(e,t,r,o,n);case 3:e:{if(Te(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var u=t.memoizedState;o=u.element,fo(e,t),ls(t,r,null,n);var h=t.memoizedState;if(r=h.cache,Vn(t,nt,r),r!==u.cache&&so(t,[nt],n,!0),is(),r=h.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=qf(e,t,r,n);break e}else if(r!==o){o=Yt(Error(i(424)),t),es(o),t=qf(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ye=It(e.firstChild),gt=t,Oe=!0,$n=null,Qt=!0,n=Cd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(va(),r===o){t=Tn(e,t,n);break e}yt(e,t,r,n)}t=t.child}return t;case 26:return Ti(e,t),e===null?(n=Fh(t.type,null,t.pendingProps,null))?t.memoizedState=n:Oe||(n=t.type,e=t.pendingProps,r=$i(F.current).createElement(n),r[ht]=t,r[Tt]=e,vt(r,n,e),ct(r),t.stateNode=r):t.memoizedState=Fh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $e(t),e===null&&Oe&&(r=t.stateNode=Zh(t.type,t.pendingProps,F.current),gt=t,Qt=!0,o=Ye,na(t.type)?(Eu=o,Ye=It(r.firstChild)):Ye=o),yt(e,t,t.pendingProps.children,n),Ti(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((o=r=Ye)&&(r=Xy(r,t.type,t.pendingProps,Qt),r!==null?(t.stateNode=r,gt=t,Ye=It(r.firstChild),Qt=!1,o=!0):o=!1),o||Gn(t)),$e(t),o=t.type,u=t.pendingProps,h=e!==null?e.memoizedProps:null,r=u.children,_u(o,u)?r=null:h!==null&&_u(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=bo(e,t,ly,null,null,n),Os._currentValue=o),Ti(e,t),yt(e,t,r,n),t.child;case 6:return e===null&&Oe&&((e=n=Ye)&&(n=Qy(n,t.pendingProps,Qt),n!==null?(t.stateNode=n,gt=t,Ye=null,e=!0):e=!1),e||Gn(t)),null;case 13:return Lf(e,t,n);case 4:return Te(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xa(t,null,r,n):yt(e,t,r,n),t.child;case 11:return Rf(e,t,t.type,t.pendingProps,n);case 7:return yt(e,t,t.pendingProps,n),t.child;case 8:return yt(e,t,t.pendingProps.children,n),t.child;case 12:return yt(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Vn(t,t.type,r.value),yt(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,ba(t),o=mt(o),r=r(o),t.flags|=1,yt(e,t,r,n),t.child;case 14:return kf(e,t,t.type,t.pendingProps,n);case 15:return Cf(e,t,t.type,t.pendingProps,n);case 19:return $f(e,t,n);case 31:return my(e,t,n);case 22:return Df(e,t,n,t.pendingProps);case 24:return ba(t),r=mt(nt),e===null?(o=oo(),o===null&&(o=He,u=io(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=n),o=u),t.memoizedState={parent:r,cache:o},co(t),Vn(t,nt,o)):((e.lanes&n)!==0&&(fo(e,t),ls(t,null,null,n),is()),o=e.memoizedState,u=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Vn(t,nt,r)):(r=u.cache,Vn(t,nt,r),r!==o.cache&&so(t,[nt],n,!0))),yt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function En(e){e.flags|=4}function Qo(e,t,n,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(mh())e.flags|=8192;else throw Sa=ui,uo}else e.flags&=-16777217}function Vf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!r0(t))if(mh())e.flags|=8192;else throw Sa=ui,uo}function ji(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?wc():536870912,e.lanes|=t,fr|=t)}function hs(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vy(e,t,n){var r=t.pendingProps;switch(eo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return Ke(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wn(nt),Ce(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Fa(t)?En(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,no())),Ke(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(En(t),u!==null?(Ke(t),Vf(t,u)):(Ke(t),Qo(t,o,null,r,n))):u?u!==e.memoizedState?(En(t),Ke(t),Vf(t,u)):(Ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&En(t),Ke(t),Qo(t,o,e,r,n)),null;case 27:if(ln(t),n=F.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&En(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Ke(t),null}e=V.current,Fa(t)?wd(t):(e=Zh(o,r,n),t.stateNode=e,En(t))}return Ke(t),null;case 5:if(ln(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&En(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Ke(t),null}if(u=V.current,Fa(t))wd(t);else{var h=$i(F.current);switch(u){case 1:u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=h.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?h.createElement("select",{is:r.is}):h.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?h.createElement(o,{is:r.is}):h.createElement(o)}}u[ht]=t,u[Tt]=r;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)u.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=u;e:switch(vt(u,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&En(t)}}return Ke(t),Qo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&En(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(i(166));if(e=F.current,Fa(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,o=gt,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[ht]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Lh(e.nodeValue,n)),e||Gn(t,!0)}else e=$i(e).createTextNode(r),e[ht]=t,t.stateNode=e}return Ke(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Fa(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[ht]=t}else va(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),e=!1}else n=no(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ut(t),t):(Ut(t),null);if((t.flags&128)!==0)throw Error(i(558))}return Ke(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Fa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(i(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));o[ht]=t}else va(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),o=!1}else o=no(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ut(t),t):(Ut(t),null)}return Ut(t),(t.flags&128)!==0?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ji(t,t.updateQueue),Ke(t),null);case 4:return Ce(),e===null&&mu(t.stateNode.containerInfo),Ke(t),null;case 10:return wn(t.type),Ke(t),null;case 19:if(A(Fe),r=t.memoizedState,r===null)return Ke(t),null;if(o=(t.flags&128)!==0,u=r.rendering,u===null)if(o)hs(r,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=hi(e),u!==null){for(t.flags|=128,hs(r,!1),e=u.updateQueue,t.updateQueue=e,ji(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)yd(n,e),n=n.sibling;return G(Fe,Fe.current&1|2),Oe&&bn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&ft()>ki&&(t.flags|=128,o=!0,hs(r,!1),t.lanes=4194304)}else{if(!o)if(e=hi(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,ji(t,e),hs(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!Oe)return Ke(t),null}else 2*ft()-r.renderingStartTime>ki&&n!==536870912&&(t.flags|=128,o=!0,hs(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ft(),e.sibling=null,n=Fe.current,G(Fe,o?n&1|2:n&1),Oe&&bn(t,r.treeForkCount),e):(Ke(t),null);case 22:case 23:return Ut(t),yo(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(n&536870912)!==0&&(t.flags&128)===0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),n=t.updateQueue,n!==null&&ji(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&A(_a),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wn(nt),Ke(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function py(e,t){switch(eo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wn(nt),Ce(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ln(t),null;case 31:if(t.memoizedState!==null){if(Ut(t),t.alternate===null)throw Error(i(340));va()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ut(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));va()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return A(Fe),null;case 4:return Ce(),null;case 10:return wn(t.type),null;case 22:case 23:return Ut(t),yo(),e!==null&&A(_a),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return wn(nt),null;case 25:return null;default:return null}}function Yf(e,t){switch(eo(t),t.tag){case 3:wn(nt),Ce();break;case 26:case 27:case 5:ln(t);break;case 4:Ce();break;case 31:t.memoizedState!==null&&Ut(t);break;case 13:Ut(t);break;case 19:A(Fe);break;case 10:wn(t.type);break;case 22:case 23:Ut(t),yo(),e!==null&&A(_a);break;case 24:wn(nt)}}function gs(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var u=n.create,h=n.inst;r=u(),h.destroy=r}n=n.next}while(n!==o)}}catch(v){ze(t,t.return,v)}}function In(e,t,n){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&e)===e){var h=r.inst,v=h.destroy;if(v!==void 0){h.destroy=void 0,o=t;var w=n,C=v;try{C()}catch(q){ze(o,w,q)}}}r=r.next}while(r!==u)}}catch(q){ze(t,t.return,q)}}function Kf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ud(t,n)}catch(r){ze(e,e.return,r)}}}function Xf(e,t,n){n.props=Ea(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ze(e,t,r)}}function ms(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(o){ze(e,t,o)}}function dn(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(o){ze(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){ze(e,t,o)}else n.current=null}function Qf(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){ze(e,e.return,o)}}function Jo(e,t,n){try{var r=e.stateNode;Hy(r,e.type,n,t),r[Tt]=t}catch(o){ze(e,e.return,o)}}function Jf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&na(e.type)||e.tag===4}function Io(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&na(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yn));else if(r!==4&&(r===27&&na(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Zo(e,t,n),e=e.sibling;e!==null;)Zo(e,t,n),e=e.sibling}function Oi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&na(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Oi(e,t,n),e=e.sibling;e!==null;)Oi(e,t,n),e=e.sibling}function If(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);vt(t,r,n),t[ht]=e,t[Tt]=n}catch(u){ze(e,e.return,u)}}var jn=!1,st=!1,Po=!1,Zf=typeof WeakSet=="function"?WeakSet:Set,dt=null;function by(e,t){if(e=e.containerInfo,pu=Ji,e=ld(e),Vl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var h=0,v=-1,w=-1,C=0,q=0,H=e,D=null;t:for(;;){for(var M;H!==n||o!==0&&H.nodeType!==3||(v=h+o),H!==u||r!==0&&H.nodeType!==3||(w=h+r),H.nodeType===3&&(h+=H.nodeValue.length),(M=H.firstChild)!==null;)D=H,H=M;for(;;){if(H===e)break t;if(D===n&&++C===o&&(v=h),D===u&&++q===r&&(w=h),(M=H.nextSibling)!==null)break;H=D,D=H.parentNode}H=M}n=v===-1||w===-1?null:{start:v,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(bu={focusedElem:e,selectionRange:n},Ji=!1,dt=t;dt!==null;)if(t=dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,dt=e;else for(;dt!==null;){switch(t=dt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,o=u.memoizedProps,u=u.memoizedState,r=n.stateNode;try{var te=Ea(n.type,o);e=r.getSnapshotBeforeUpdate(te,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(de){ze(n,n.return,de)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Su(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Su(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,dt=e;break}dt=t.return}}function Pf(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:An(e,n),r&4&&gs(5,n);break;case 1:if(An(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(h){ze(n,n.return,h)}else{var o=Ea(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){ze(n,n.return,h)}}r&64&&Kf(n),r&512&&ms(n,n.return);break;case 3:if(An(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ud(e,t)}catch(h){ze(n,n.return,h)}}break;case 27:t===null&&r&4&&If(n);case 26:case 5:An(e,n),t===null&&r&4&&Qf(n),r&512&&ms(n,n.return);break;case 12:An(e,n);break;case 31:An(e,n),r&4&&eh(e,n);break;case 13:An(e,n),r&4&&th(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ay.bind(null,n),Jy(e,n))));break;case 22:if(r=n.memoizedState!==null||jn,!r){t=t!==null&&t.memoizedState!==null||st,o=jn;var u=st;jn=r,(st=t)&&!u?Nn(e,n,(n.subtreeFlags&8772)!==0):An(e,n),jn=o,st=u}break;case 30:break;default:An(e,n)}}function Wf(e){var t=e.alternate;t!==null&&(e.alternate=null,Wf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&jl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,jt=!1;function On(e,t,n){for(n=n.child;n!==null;)Ff(e,t,n),n=n.sibling}function Ff(e,t,n){if(ve&&typeof ve.onCommitFiberUnmount=="function")try{ve.onCommitFiberUnmount(he,n)}catch{}switch(n.tag){case 26:st||dn(n,t),On(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:st||dn(n,t);var r=Xe,o=jt;na(n.type)&&(Xe=n.stateNode,jt=!1),On(e,t,n),Ts(n.stateNode),Xe=r,jt=o;break;case 5:st||dn(n,t);case 6:if(r=Xe,o=jt,Xe=null,On(e,t,n),Xe=r,jt=o,Xe!==null)if(jt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(n.stateNode)}catch(u){ze(n,t,u)}else try{Xe.removeChild(n.stateNode)}catch(u){ze(n,t,u)}break;case 18:Xe!==null&&(jt?(e=Xe,Kh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),_r(e)):Kh(Xe,n.stateNode));break;case 4:r=Xe,o=jt,Xe=n.stateNode.containerInfo,jt=!0,On(e,t,n),Xe=r,jt=o;break;case 0:case 11:case 14:case 15:In(2,n,t),st||In(4,n,t),On(e,t,n);break;case 1:st||(dn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&Xf(n,t,r)),On(e,t,n);break;case 21:On(e,t,n);break;case 22:st=(r=st)||n.memoizedState!==null,On(e,t,n),st=r;break;default:On(e,t,n)}}function eh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{_r(e)}catch(n){ze(t,t.return,n)}}}function th(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_r(e)}catch(n){ze(t,t.return,n)}}function _y(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Zf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Zf),t;default:throw Error(i(435,e.tag))}}function Ai(e,t){var n=_y(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var o=Ny.bind(null,e,r);r.then(o,o)}})}function Ot(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r],u=e,h=t,v=h;e:for(;v!==null;){switch(v.tag){case 27:if(na(v.type)){Xe=v.stateNode,jt=!1;break e}break;case 5:Xe=v.stateNode,jt=!1;break e;case 3:case 4:Xe=v.stateNode.containerInfo,jt=!0;break e}v=v.return}if(Xe===null)throw Error(i(160));Ff(u,h,o),Xe=null,jt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)nh(t,e),t=t.sibling}var tn=null;function nh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(t,e),At(e),r&4&&(In(3,e,e.return),gs(3,e),In(5,e,e.return));break;case 1:Ot(t,e),At(e),r&512&&(st||n===null||dn(n,n.return)),r&64&&jn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var o=tn;if(Ot(t,e),At(e),r&512&&(st||n===null||dn(n,n.return)),r&4){var u=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Gr]||u[ht]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(r),o.head.insertBefore(u,o.querySelector("head > title"))),vt(u,r,n),u[ht]=e,ct(u),r=u;break e;case"link":var h=n0("link","href",o).get(r+(n.href||""));if(h){for(var v=0;v<h.length;v++)if(u=h[v],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){h.splice(v,1);break t}}u=o.createElement(r),vt(u,r,n),o.head.appendChild(u);break;case"meta":if(h=n0("meta","content",o).get(r+(n.content||""))){for(v=0;v<h.length;v++)if(u=h[v],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){h.splice(v,1);break t}}u=o.createElement(r),vt(u,r,n),o.head.appendChild(u);break;default:throw Error(i(468,r))}u[ht]=e,ct(u),r=u}e.stateNode=r}else a0(o,e.type,e.stateNode);else e.stateNode=t0(o,r,e.memoizedProps);else u!==r?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,r===null?a0(o,e.type,e.stateNode):t0(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Jo(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ot(t,e),At(e),r&512&&(st||n===null||dn(n,n.return)),n!==null&&r&4&&Jo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ot(t,e),At(e),r&512&&(st||n===null||dn(n,n.return)),e.flags&32){o=e.stateNode;try{Va(o,"")}catch(te){ze(e,e.return,te)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,Jo(e,o,n!==null?n.memoizedProps:o)),r&1024&&(Po=!0);break;case 6:if(Ot(t,e),At(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(te){ze(e,e.return,te)}}break;case 3:if(Yi=null,o=tn,tn=Gi(t.containerInfo),Ot(t,e),tn=o,At(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_r(t.containerInfo)}catch(te){ze(e,e.return,te)}Po&&(Po=!1,ah(e));break;case 4:r=tn,tn=Gi(e.stateNode.containerInfo),Ot(t,e),At(e),tn=r;break;case 12:Ot(t,e),At(e);break;case 31:Ot(t,e),At(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ai(e,r)));break;case 13:Ot(t,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ri=ft()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ai(e,r)));break;case 22:o=e.memoizedState!==null;var w=n!==null&&n.memoizedState!==null,C=jn,q=st;if(jn=C||o,st=q||w,Ot(t,e),st=q,jn=C,At(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||w||jn||st||ja(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){w=n=t;try{if(u=w.stateNode,o)h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{v=w.stateNode;var H=w.memoizedProps.style,D=H!=null&&H.hasOwnProperty("display")?H.display:null;v.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(te){ze(w,w.return,te)}}}else if(t.tag===6){if(n===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(te){ze(w,w.return,te)}}}else if(t.tag===18){if(n===null){w=t;try{var M=w.stateNode;o?Xh(M,!0):Xh(w.stateNode,!1)}catch(te){ze(w,w.return,te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Ai(e,n))));break;case 19:Ot(t,e),At(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ai(e,r)));break;case 30:break;case 21:break;default:Ot(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Jf(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var o=n.stateNode,u=Io(e);Oi(e,u,o);break;case 5:var h=n.stateNode;n.flags&32&&(Va(h,""),n.flags&=-33);var v=Io(e);Oi(e,v,h);break;case 3:case 4:var w=n.stateNode.containerInfo,C=Io(e);Zo(e,C,w);break;default:throw Error(i(161))}}catch(q){ze(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ah(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ah(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function An(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Pf(e,t.alternate,t),t=t.sibling}function ja(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:In(4,t,t.return),ja(t);break;case 1:dn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Xf(t,t.return,n),ja(t);break;case 27:Ts(t.stateNode);case 26:case 5:dn(t,t.return),ja(t);break;case 22:t.memoizedState===null&&ja(t);break;case 30:ja(t);break;default:ja(t)}e=e.sibling}}function Nn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,u=t,h=u.flags;switch(u.tag){case 0:case 11:case 15:Nn(o,u,n),gs(4,u);break;case 1:if(Nn(o,u,n),r=u,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(C){ze(r,r.return,C)}if(r=u,o=r.updateQueue,o!==null){var v=r.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)Dd(w[o],v)}catch(C){ze(r,r.return,C)}}n&&h&64&&Kf(u),ms(u,u.return);break;case 27:If(u);case 26:case 5:Nn(o,u,n),n&&r===null&&h&4&&Qf(u),ms(u,u.return);break;case 12:Nn(o,u,n);break;case 31:Nn(o,u,n),n&&h&4&&eh(o,u);break;case 13:Nn(o,u,n),n&&h&4&&th(o,u);break;case 22:u.memoizedState===null&&Nn(o,u,n),ms(u,u.return);break;case 30:break;default:Nn(o,u,n)}t=t.sibling}}function Wo(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ts(n))}function Fo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ts(e))}function nn(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rh(e,t,n,r),t=t.sibling}function rh(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:nn(e,t,n,r),o&2048&&gs(9,t);break;case 1:nn(e,t,n,r);break;case 3:nn(e,t,n,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ts(e)));break;case 12:if(o&2048){nn(e,t,n,r),e=t.stateNode;try{var u=t.memoizedProps,h=u.id,v=u.onPostCommit;typeof v=="function"&&v(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){ze(t,t.return,w)}}else nn(e,t,n,r);break;case 31:nn(e,t,n,r);break;case 13:nn(e,t,n,r);break;case 23:break;case 22:u=t.stateNode,h=t.alternate,t.memoizedState!==null?u._visibility&2?nn(e,t,n,r):ys(e,t):u._visibility&2?nn(e,t,n,r):(u._visibility|=2,ur(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Wo(h,t);break;case 24:nn(e,t,n,r),o&2048&&Fo(t.alternate,t);break;default:nn(e,t,n,r)}}function ur(e,t,n,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,h=t,v=n,w=r,C=h.flags;switch(h.tag){case 0:case 11:case 15:ur(u,h,v,w,o),gs(8,h);break;case 23:break;case 22:var q=h.stateNode;h.memoizedState!==null?q._visibility&2?ur(u,h,v,w,o):ys(u,h):(q._visibility|=2,ur(u,h,v,w,o)),o&&C&2048&&Wo(h.alternate,h);break;case 24:ur(u,h,v,w,o),o&&C&2048&&Fo(h.alternate,h);break;default:ur(u,h,v,w,o)}t=t.sibling}}function ys(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:ys(n,r),o&2048&&Wo(r.alternate,r);break;case 24:ys(n,r),o&2048&&Fo(r.alternate,r);break;default:ys(n,r)}t=t.sibling}}var vs=8192;function cr(e,t,n){if(e.subtreeFlags&vs)for(e=e.child;e!==null;)sh(e,t,n),e=e.sibling}function sh(e,t,n){switch(e.tag){case 26:cr(e,t,n),e.flags&vs&&e.memoizedState!==null&&iv(n,tn,e.memoizedState,e.memoizedProps);break;case 5:cr(e,t,n);break;case 3:case 4:var r=tn;tn=Gi(e.stateNode.containerInfo),cr(e,t,n),tn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=vs,vs=16777216,cr(e,t,n),vs=r):cr(e,t,n));break;default:cr(e,t,n)}}function ih(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ps(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];dt=r,oh(r,e)}ih(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lh(e),e=e.sibling}function lh(e){switch(e.tag){case 0:case 11:case 15:ps(e),e.flags&2048&&In(9,e,e.return);break;case 3:ps(e);break;case 12:ps(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ni(e)):ps(e);break;default:ps(e)}}function Ni(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];dt=r,oh(r,e)}ih(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:In(8,t,t.return),Ni(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ni(t));break;default:Ni(t)}e=e.sibling}}function oh(e,t){for(;dt!==null;){var n=dt;switch(n.tag){case 0:case 11:case 15:In(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ts(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,dt=r;else e:for(n=e;dt!==null;){r=dt;var o=r.sibling,u=r.return;if(Wf(r),r===n){dt=null;break e}if(o!==null){o.return=u,dt=o;break e}dt=u}}}var wy={getCacheForType:function(e){var t=mt(nt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return mt(nt).controller.signal}},Sy=typeof WeakMap=="function"?WeakMap:Map,ke=0,He=null,Se=null,Ee=0,Ue=0,zt=null,Zn=!1,dr=!1,eu=!1,Rn=0,Pe=0,Pn=0,Oa=0,tu=0,Mt=0,fr=0,bs=null,Nt=null,nu=!1,Ri=0,uh=0,ki=1/0,Ci=null,Wn=null,ot=0,Fn=null,hr=null,kn=0,au=0,ru=null,ch=null,_s=0,su=null;function Bt(){return(ke&2)!==0&&Ee!==0?Ee&-Ee:B.T!==null?du():Ec()}function dh(){if(Mt===0)if((Ee&536870912)===0||Oe){var e=Hr;Hr<<=1,(Hr&3932160)===0&&(Hr=262144),Mt=e}else Mt=536870912;return e=Dt.current,e!==null&&(e.flags|=32),Mt}function Rt(e,t,n){(e===He&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(gr(e,0),ea(e,Ee,Mt,!1)),$r(e,n),((ke&2)===0||e!==He)&&(e===He&&((ke&2)===0&&(Oa|=n),Pe===4&&ea(e,Ee,Mt,!1)),fn(e))}function fh(e,t,n){if((ke&6)!==0)throw Error(i(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ve(e,t),o=r?Ey(e,t):lu(e,t,!0),u=r;do{if(o===0){dr&&!r&&ea(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!xy(n)){o=lu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var v=e;o=bs;var w=v.current.memoizedState.isDehydrated;if(w&&(gr(v,h).flags|=256),h=lu(v,h,!1),h!==2){if(eu&&!w){v.errorRecoveryDisabledLanes|=u,Oa|=u,o=4;break e}u=Nt,Nt=o,u!==null&&(Nt===null?Nt=u:Nt.push.apply(Nt,u))}o=h}if(u=!1,o!==2)continue}}if(o===1){gr(e,0),ea(e,t,0,!0);break}e:{switch(r=e,u=o,u){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:ea(r,t,Mt,!Zn);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(o=Ri+300-ft(),10<o)){if(ea(r,t,Mt,!Zn),Ma(r,0,!0)!==0)break e;kn=t,r.timeoutHandle=Vh(hh.bind(null,r,n,Nt,Ci,nu,t,Mt,Oa,fr,Zn,u,"Throttled",-0,0),o);break e}hh(r,n,Nt,Ci,nu,t,Mt,Oa,fr,Zn,u,null,-0,0)}}break}while(!0);fn(e)}function hh(e,t,n,r,o,u,h,v,w,C,q,H,D,M){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yn},sh(t,u,H);var te=(u&62914560)===u?Ri-ft():(u&4194048)===u?uh-ft():0;if(te=lv(H,te),te!==null){kn=u,e.cancelPendingCommit=te(wh.bind(null,e,t,u,n,r,o,h,v,w,q,H,null,D,M)),ea(e,u,h,!C);return}}wh(e,t,u,n,r,o,h,v,w)}function xy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var o=n[r],u=o.getSnapshot;o=o.value;try{if(!kt(u(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ea(e,t,n,r){t&=~tu,t&=~Oa,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var u=31-W(o),h=1<<u;r[u]=-1,o&=~h}n!==0&&Sc(e,n,t)}function Di(){return(ke&6)===0?(ws(0),!1):!0}function iu(){if(Se!==null){if(Ue===0)var e=Se.return;else e=Se,_n=pa=null,So(e),rr=null,as=0,e=Se;for(;e!==null;)Yf(e.alternate,e),e=e.return;Se=null}}function gr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Vy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),kn=0,iu(),He=e,Se=n=pn(e.current,null),Ee=t,Ue=0,zt=null,Zn=!1,dr=Ve(e,t),eu=!1,fr=Mt=tu=Oa=Pn=Pe=0,Nt=bs=null,nu=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-W(r),u=1<<o;t|=e[o],r&=~u}return Rn=t,ei(),n}function gh(e,t){pe=null,B.H=ds,t===ar||t===oi?(t=Nd(),Ue=3):t===uo?(t=Nd(),Ue=4):Ue=t===qo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,zt=t,Se===null&&(Pe=1,Si(e,Yt(t,e.current)))}function mh(){var e=Dt.current;return e===null?!0:(Ee&4194048)===Ee?Jt===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===Jt:!1}function yh(){var e=B.H;return B.H=ds,e===null?ds:e}function vh(){var e=B.A;return B.A=wy,e}function Ui(){Pe=4,Zn||(Ee&4194048)!==Ee&&Dt.current!==null||(dr=!0),(Pn&134217727)===0&&(Oa&134217727)===0||He===null||ea(He,Ee,Mt,!1)}function lu(e,t,n){var r=ke;ke|=2;var o=yh(),u=vh();(He!==e||Ee!==t)&&(Ci=null,gr(e,t)),t=!1;var h=Pe;e:do try{if(Ue!==0&&Se!==null){var v=Se,w=zt;switch(Ue){case 8:iu(),h=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(t=!0);var C=Ue;if(Ue=0,zt=null,mr(e,v,w,C),n&&dr){h=0;break e}break;default:C=Ue,Ue=0,zt=null,mr(e,v,w,C)}}Ty(),h=Pe;break}catch(q){gh(e,q)}while(!0);return t&&e.shellSuspendCounter++,_n=pa=null,ke=r,B.H=o,B.A=u,Se===null&&(He=null,Ee=0,ei()),h}function Ty(){for(;Se!==null;)ph(Se)}function Ey(e,t){var n=ke;ke|=2;var r=yh(),o=vh();He!==e||Ee!==t?(Ci=null,ki=ft()+500,gr(e,t)):dr=Ve(e,t);e:do try{if(Ue!==0&&Se!==null){t=Se;var u=zt;t:switch(Ue){case 1:Ue=0,zt=null,mr(e,t,u,1);break;case 2:case 9:if(Od(u)){Ue=0,zt=null,bh(t);break}t=function(){Ue!==2&&Ue!==9||He!==e||(Ue=7),fn(e)},u.then(t,t);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:Od(u)?(Ue=0,zt=null,bh(t)):(Ue=0,zt=null,mr(e,t,u,7));break;case 5:var h=null;switch(Se.tag){case 26:h=Se.memoizedState;case 5:case 27:var v=Se;if(h?r0(h):v.stateNode.complete){Ue=0,zt=null;var w=v.sibling;if(w!==null)Se=w;else{var C=v.return;C!==null?(Se=C,zi(C)):Se=null}break t}}Ue=0,zt=null,mr(e,t,u,5);break;case 6:Ue=0,zt=null,mr(e,t,u,6);break;case 8:iu(),Pe=6;break e;default:throw Error(i(462))}}jy();break}catch(q){gh(e,q)}while(!0);return _n=pa=null,B.H=r,B.A=o,ke=n,Se!==null?0:(He=null,Ee=0,ei(),Pe)}function jy(){for(;Se!==null&&!gn();)ph(Se)}function ph(e){var t=Gf(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,t===null?zi(e):Se=t}function bh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Mf(n,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=Mf(n,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:So(t);default:Yf(n,t),t=Se=yd(t,Rn),t=Gf(n,t,Rn)}e.memoizedProps=e.pendingProps,t===null?zi(e):Se=t}function mr(e,t,n,r){_n=pa=null,So(t),rr=null,as=0;var o=t.return;try{if(gy(e,o,t,n,Ee)){Pe=1,Si(e,Yt(n,e.current)),Se=null;return}}catch(u){if(o!==null)throw Se=o,u;Pe=1,Si(e,Yt(n,e.current)),Se=null;return}t.flags&32768?(Oe||r===1?e=!0:dr||(Ee&536870912)!==0?e=!1:(Zn=e=!0,(r===2||r===9||r===3||r===6)&&(r=Dt.current,r!==null&&r.tag===13&&(r.flags|=16384))),_h(t,e)):zi(t)}function zi(e){var t=e;do{if((t.flags&32768)!==0){_h(t,Zn);return}e=t.return;var n=vy(t.alternate,t,Rn);if(n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Pe===0&&(Pe=5)}function _h(e,t){do{var n=py(e.alternate,e);if(n!==null){n.flags&=32767,Se=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Se=e;return}Se=e=n}while(e!==null);Pe=6,Se=null}function wh(e,t,n,r,o,u,h,v,w){e.cancelPendingCommit=null;do Mi();while(ot!==0);if((ke&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(u=t.lanes|t.childLanes,u|=Jl,sm(e,n,u,h,v,w),e===He&&(Se=He=null,Ee=0),hr=t,Fn=e,kn=n,au=u,ru=o,ch=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ry(za,function(){return jh(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=B.T,B.T=null,o=Y.p,Y.p=2,h=ke,ke|=4;try{by(e,t,n)}finally{ke=h,Y.p=o,B.T=r}}ot=1,Sh(),xh(),Th()}}function Sh(){if(ot===1){ot=0;var e=Fn,t=hr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=B.T,B.T=null;var r=Y.p;Y.p=2;var o=ke;ke|=4;try{nh(t,e);var u=bu,h=ld(e.containerInfo),v=u.focusedElem,w=u.selectionRange;if(h!==v&&v&&v.ownerDocument&&id(v.ownerDocument.documentElement,v)){if(w!==null&&Vl(v)){var C=w.start,q=w.end;if(q===void 0&&(q=C),"selectionStart"in v)v.selectionStart=C,v.selectionEnd=Math.min(q,v.value.length);else{var H=v.ownerDocument||document,D=H&&H.defaultView||window;if(D.getSelection){var M=D.getSelection(),te=v.textContent.length,de=Math.min(w.start,te),Le=w.end===void 0?de:Math.min(w.end,te);!M.extend&&de>Le&&(h=Le,Le=de,de=h);var O=sd(v,de),E=sd(v,Le);if(O&&E&&(M.rangeCount!==1||M.anchorNode!==O.node||M.anchorOffset!==O.offset||M.focusNode!==E.node||M.focusOffset!==E.offset)){var k=H.createRange();k.setStart(O.node,O.offset),M.removeAllRanges(),de>Le?(M.addRange(k),M.extend(E.node,E.offset)):(k.setEnd(E.node,E.offset),M.addRange(k))}}}}for(H=[],M=v;M=M.parentNode;)M.nodeType===1&&H.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<H.length;v++){var L=H[v];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Ji=!!pu,bu=pu=null}finally{ke=o,Y.p=r,B.T=n}}e.current=t,ot=2}}function xh(){if(ot===2){ot=0;var e=Fn,t=hr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=B.T,B.T=null;var r=Y.p;Y.p=2;var o=ke;ke|=4;try{Pf(e,t.alternate,t)}finally{ke=o,Y.p=r,B.T=n}}ot=3}}function Th(){if(ot===4||ot===3){ot=0,qr();var e=Fn,t=hr,n=kn,r=ch;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ot=5:(ot=0,hr=Fn=null,Eh(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Wn=null),Tl(n),t=t.stateNode,ve&&typeof ve.onCommitFiberRoot=="function")try{ve.onCommitFiberRoot(he,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=B.T,o=Y.p,Y.p=2,B.T=null;try{for(var u=e.onRecoverableError,h=0;h<r.length;h++){var v=r[h];u(v.value,{componentStack:v.stack})}}finally{B.T=t,Y.p=o}}(kn&3)!==0&&Mi(),fn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===su?_s++:(_s=0,su=e):_s=0,ws(0)}}function Eh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ts(t)))}function Mi(){return Sh(),xh(),Th(),jh()}function jh(){if(ot!==5)return!1;var e=Fn,t=au;au=0;var n=Tl(kn),r=B.T,o=Y.p;try{Y.p=32>n?32:n,B.T=null,n=ru,ru=null;var u=Fn,h=kn;if(ot=0,hr=Fn=null,kn=0,(ke&6)!==0)throw Error(i(331));var v=ke;if(ke|=4,lh(u.current),rh(u,u.current,h,n),ke=v,ws(0,!1),ve&&typeof ve.onPostCommitFiberRoot=="function")try{ve.onPostCommitFiberRoot(he,u)}catch{}return!0}finally{Y.p=o,B.T=r,Eh(e,t)}}function Oh(e,t,n){t=Yt(n,t),t=Bo(e.stateNode,t,2),e=Xn(e,t,2),e!==null&&($r(e,2),fn(e))}function ze(e,t,n){if(e.tag===3)Oh(e,e,n);else for(;t!==null;){if(t.tag===3){Oh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wn===null||!Wn.has(r))){e=Yt(n,e),n=Af(2),r=Xn(t,n,2),r!==null&&(Nf(n,r,t,e),$r(r,2),fn(r));break}}t=t.return}}function ou(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Sy;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(eu=!0,o.add(n),e=Oy.bind(null,e,t,n),t.then(e,e))}function Oy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,He===e&&(Ee&n)===n&&(Pe===4||Pe===3&&(Ee&62914560)===Ee&&300>ft()-Ri?(ke&2)===0&&gr(e,0):tu|=n,fr===Ee&&(fr=0)),fn(e)}function Ah(e,t){t===0&&(t=wc()),e=ma(e,t),e!==null&&($r(e,t),fn(e))}function Ay(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ah(e,n)}function Ny(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Ah(e,n)}function Ry(e,t){return Mr(e,t)}var Bi=null,yr=null,uu=!1,qi=!1,cu=!1,ta=0;function fn(e){e!==yr&&e.next===null&&(yr===null?Bi=yr=e:yr=yr.next=e),qi=!0,uu||(uu=!0,Cy())}function ws(e,t){if(!cu&&qi){cu=!0;do for(var n=!1,r=Bi;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var u=0;else{var h=r.suspendedLanes,v=r.pingedLanes;u=(1<<31-W(42|e)+1)-1,u&=o&~(h&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,Ch(r,u))}else u=Ee,u=Ma(r,r===He?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||Ve(r,u)||(n=!0,Ch(r,u));r=r.next}while(n);cu=!1}}function ky(){Nh()}function Nh(){qi=uu=!1;var e=0;ta!==0&&Gy()&&(e=ta);for(var t=ft(),n=null,r=Bi;r!==null;){var o=r.next,u=Rh(r,t);u===0?(r.next=null,n===null?Bi=o:n.next=o,o===null&&(yr=n)):(n=r,(e!==0||(u&3)!==0)&&(qi=!0)),r=o}ot!==0&&ot!==5||ws(e),ta!==0&&(ta=0)}function Rh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var h=31-W(u),v=1<<h,w=o[h];w===-1?((v&n)===0||(v&r)!==0)&&(o[h]=rm(v,t)):w<=t&&(e.expiredLanes|=v),u&=~v}if(t=He,n=Ee,n=Ma(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Br(r),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ve(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Br(r),Tl(n)){case 2:case 8:n=Gs;break;case 32:n=za;break;case 268435456:n=Q;break;default:n=za}return r=kh.bind(null,e),n=Mr(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Br(r),e.callbackPriority=2,e.callbackNode=null,2}function kh(e,t){if(ot!==0&&ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Mi()&&e.callbackNode!==n)return null;var r=Ee;return r=Ma(e,e===He?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(fh(e,r,t),Rh(e,ft()),e.callbackNode!=null&&e.callbackNode===n?kh.bind(null,e):null)}function Ch(e,t){if(Mi())return null;fh(e,t,!0)}function Cy(){Yy(function(){(ke&6)!==0?Mr($s,ky):Nh()})}function du(){if(ta===0){var e=tr;e===0&&(e=Ft,Ft<<=1,(Ft&261888)===0&&(Ft=256)),ta=e}return ta}function Dh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xs(""+e)}function Uh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Dy(e,t,n,r,o){if(t==="submit"&&n&&n.stateNode===o){var u=Dh((o[Tt]||null).action),h=r.submitter;h&&(t=(t=h[Tt]||null)?Dh(t.formAction):h.getAttribute("formAction"),t!==null&&(u=t,h=null));var v=new Zs("action","action",null,r,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ta!==0){var w=h?Uh(o,h):new FormData(o);ko(n,{pending:!0,data:w,method:o.method,action:u},null,w)}}else typeof u=="function"&&(v.preventDefault(),w=h?Uh(o,h):new FormData(o),ko(n,{pending:!0,data:w,method:o.method,action:u},u,w))},currentTarget:o}]})}}for(var fu=0;fu<Ql.length;fu++){var hu=Ql[fu],Uy=hu.toLowerCase(),zy=hu[0].toUpperCase()+hu.slice(1);en(Uy,"on"+zy)}en(cd,"onAnimationEnd"),en(dd,"onAnimationIteration"),en(fd,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(Pm,"onTransitionRun"),en(Wm,"onTransitionStart"),en(Fm,"onTransitionCancel"),en(hd,"onTransitionEnd"),$a("onMouseEnter",["mouseout","mouseover"]),$a("onMouseLeave",["mouseout","mouseover"]),$a("onPointerEnter",["pointerout","pointerover"]),$a("onPointerLeave",["pointerout","pointerover"]),da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),da("onBeforeInput",["compositionend","keypress","textInput","paste"]),da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),My=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ss));function zh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var h=r.length-1;0<=h;h--){var v=r[h],w=v.instance,C=v.currentTarget;if(v=v.listener,w!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=C;try{u(o)}catch(q){Fs(q)}o.currentTarget=null,u=w}else for(h=0;h<r.length;h++){if(v=r[h],w=v.instance,C=v.currentTarget,v=v.listener,w!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=C;try{u(o)}catch(q){Fs(q)}o.currentTarget=null,u=w}}}}function xe(e,t){var n=t[El];n===void 0&&(n=t[El]=new Set);var r=e+"__bubble";n.has(r)||(Mh(t,e,2,!1),n.add(r))}function gu(e,t,n){var r=0;t&&(r|=4),Mh(n,e,r,t)}var Li="_reactListening"+Math.random().toString(36).slice(2);function mu(e){if(!e[Li]){e[Li]=!0,Ac.forEach(function(n){n!=="selectionchange"&&(My.has(n)||gu(n,!1,e),gu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Li]||(t[Li]=!0,gu("selectionchange",!1,t))}}function Mh(e,t,n,r){switch(d0(t)){case 2:var o=cv;break;case 8:o=dv;break;default:o=Ru}n=o.bind(null,t,n,e),o=void 0,!Ul||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function yu(e,t,n,r,o){var u=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var v=r.stateNode.containerInfo;if(v===o)break;if(h===4)for(h=r.return;h!==null;){var w=h.tag;if((w===3||w===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;v!==null;){if(h=qa(v),h===null)return;if(w=h.tag,w===5||w===6||w===26||w===27){r=u=h;continue e}v=v.parentNode}}r=r.return}Hc(function(){var C=u,q=Cl(n),H=[];e:{var D=gd.get(e);if(D!==void 0){var M=Zs,te=e;switch(e){case"keypress":if(Js(n)===0)break e;case"keydown":case"keyup":M=Nm;break;case"focusin":te="focus",M=ql;break;case"focusout":te="blur",M=ql;break;case"beforeblur":case"afterblur":M=ql;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=Cm;break;case cd:case dd:case fd:M=_m;break;case hd:M=Um;break;case"scroll":case"scrollend":M=mm;break;case"wheel":M=Mm;break;case"copy":case"cut":case"paste":M=Sm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Kc;break;case"toggle":case"beforetoggle":M=qm}var de=(t&4)!==0,Le=!de&&(e==="scroll"||e==="scrollend"),O=de?D!==null?D+"Capture":null:D;de=[];for(var E=C,k;E!==null;){var L=E;if(k=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||k===null||O===null||(L=Yr(E,O),L!=null&&de.push(xs(E,L,k))),Le)break;E=E.return}0<de.length&&(D=new M(D,te,null,n,q),H.push({event:D,listeners:de}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",D&&n!==kl&&(te=n.relatedTarget||n.fromElement)&&(qa(te)||te[Ba]))break e;if((M||D)&&(D=q.window===q?q:(D=q.ownerDocument)?D.defaultView||D.parentWindow:window,M?(te=n.relatedTarget||n.toElement,M=C,te=te?qa(te):null,te!==null&&(Le=d(te),de=te.tag,te!==Le||de!==5&&de!==27&&de!==6)&&(te=null)):(M=null,te=C),M!==te)){if(de=Vc,L="onMouseLeave",O="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(de=Kc,L="onPointerLeave",O="onPointerEnter",E="pointer"),Le=M==null?D:Vr(M),k=te==null?D:Vr(te),D=new de(L,E+"leave",M,n,q),D.target=Le,D.relatedTarget=k,L=null,qa(q)===C&&(de=new de(O,E+"enter",te,n,q),de.target=k,de.relatedTarget=Le,L=de),Le=L,M&&te)t:{for(de=By,O=M,E=te,k=0,L=O;L;L=de(L))k++;L=0;for(var ue=E;ue;ue=de(ue))L++;for(;0<k-L;)O=de(O),k--;for(;0<L-k;)E=de(E),L--;for(;k--;){if(O===E||E!==null&&O===E.alternate){de=O;break t}O=de(O),E=de(E)}de=null}else de=null;M!==null&&Bh(H,D,M,de,!1),te!==null&&Le!==null&&Bh(H,Le,te,de,!0)}}e:{if(D=C?Vr(C):window,M=D.nodeName&&D.nodeName.toLowerCase(),M==="select"||M==="input"&&D.type==="file")var Ne=Fc;else if(Pc(D))if(ed)Ne=Jm;else{Ne=Xm;var se=Km}else M=D.nodeName,!M||M.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?C&&Rl(C.elementType)&&(Ne=Fc):Ne=Qm;if(Ne&&(Ne=Ne(e,C))){Wc(H,Ne,n,q);break e}se&&se(e,D,C),e==="focusout"&&C&&D.type==="number"&&C.memoizedProps.value!=null&&Nl(D,"number",D.value)}switch(se=C?Vr(C):window,e){case"focusin":(Pc(se)||se.contentEditable==="true")&&(Qa=se,Yl=C,Wr=null);break;case"focusout":Wr=Yl=Qa=null;break;case"mousedown":Kl=!0;break;case"contextmenu":case"mouseup":case"dragend":Kl=!1,od(H,n,q);break;case"selectionchange":if(Zm)break;case"keydown":case"keyup":od(H,n,q)}var be;if(Hl)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Xa?Ic(e,n)&&(je="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(je="onCompositionStart");je&&(Xc&&n.locale!=="ko"&&(Xa||je!=="onCompositionStart"?je==="onCompositionEnd"&&Xa&&(be=$c()):(Ln=q,zl="value"in Ln?Ln.value:Ln.textContent,Xa=!0)),se=Hi(C,je),0<se.length&&(je=new Yc(je,e,null,n,q),H.push({event:je,listeners:se}),be?je.data=be:(be=Zc(n),be!==null&&(je.data=be)))),(be=Hm?$m(e,n):Gm(e,n))&&(je=Hi(C,"onBeforeInput"),0<je.length&&(se=new Yc("onBeforeInput","beforeinput",null,n,q),H.push({event:se,listeners:je}),se.data=be)),Dy(H,e,C,n,q)}zh(H,t)})}function xs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Yr(e,n),o!=null&&r.unshift(xs(e,o,u)),o=Yr(e,t),o!=null&&r.push(xs(e,o,u))),e.tag===3)return r;e=e.return}return[]}function By(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bh(e,t,n,r,o){for(var u=t._reactName,h=[];n!==null&&n!==r;){var v=n,w=v.alternate,C=v.stateNode;if(v=v.tag,w!==null&&w===r)break;v!==5&&v!==26&&v!==27||C===null||(w=C,o?(C=Yr(n,u),C!=null&&h.unshift(xs(n,C,w))):o||(C=Yr(n,u),C!=null&&h.push(xs(n,C,w)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var qy=/\r\n?/g,Ly=/\u0000|\uFFFD/g;function qh(e){return(typeof e=="string"?e:""+e).replace(qy,`
`).replace(Ly,"")}function Lh(e,t){return t=qh(t),qh(e)===t}function qe(e,t,n,r,o,u){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Va(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Va(e,""+r);break;case"className":Ys(e,"class",r);break;case"tabIndex":Ys(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Ys(e,n,r);break;case"style":qc(e,r,u);break;case"data":if(t!=="object"){Ys(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Xs(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&qe(e,t,"name",o.name,o,null),qe(e,t,"formEncType",o.formEncType,o,null),qe(e,t,"formMethod",o.formMethod,o,null),qe(e,t,"formTarget",o.formTarget,o,null)):(qe(e,t,"encType",o.encType,o,null),qe(e,t,"method",o.method,o,null),qe(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Xs(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=yn);break;case"onScroll":r!=null&&xe("scroll",e);break;case"onScrollEnd":r!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(n=r.__html,n!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Xs(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":xe("beforetoggle",e),xe("toggle",e),Vs(e,"popover",r);break;case"xlinkActuate":mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":mn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":mn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":mn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":mn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Vs(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=hm.get(n)||n,Vs(e,n,r))}}function vu(e,t,n,r,o,u){switch(n){case"style":qc(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(n=r.__html,n!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Va(e,r):(typeof r=="number"||typeof r=="bigint")&&Va(e,""+r);break;case"onScroll":r!=null&&xe("scroll",e);break;case"onScrollEnd":r!=null&&xe("scrollend",e);break;case"onClick":r!=null&&(e.onclick=yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),u=e[Tt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof r=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Vs(e,n,r)}}}function vt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var r=!1,o=!1,u;for(u in n)if(n.hasOwnProperty(u)){var h=n[u];if(h!=null)switch(u){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:qe(e,t,u,h,n,null)}}o&&qe(e,t,"srcSet",n.srcSet,n,null),r&&qe(e,t,"src",n.src,n,null);return;case"input":xe("invalid",e);var v=u=h=o=null,w=null,C=null;for(r in n)if(n.hasOwnProperty(r)){var q=n[r];if(q!=null)switch(r){case"name":o=q;break;case"type":h=q;break;case"checked":w=q;break;case"defaultChecked":C=q;break;case"value":u=q;break;case"defaultValue":v=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,t));break;default:qe(e,t,r,q,n,null)}}Uc(e,u,v,w,C,h,o,!1);return;case"select":xe("invalid",e),r=h=u=null;for(o in n)if(n.hasOwnProperty(o)&&(v=n[o],v!=null))switch(o){case"value":u=v;break;case"defaultValue":h=v;break;case"multiple":r=v;default:qe(e,t,o,v,n,null)}t=u,n=h,e.multiple=!!r,t!=null?Ga(e,!!r,t,!1):n!=null&&Ga(e,!!r,n,!0);return;case"textarea":xe("invalid",e),u=o=r=null;for(h in n)if(n.hasOwnProperty(h)&&(v=n[h],v!=null))switch(h){case"value":r=v;break;case"defaultValue":o=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:qe(e,t,h,v,n,null)}Mc(e,r,o,u);return;case"option":for(w in n)if(n.hasOwnProperty(w)&&(r=n[w],r!=null))switch(w){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:qe(e,t,w,r,n,null)}return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(r=0;r<Ss.length;r++)xe(Ss[r],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in n)if(n.hasOwnProperty(C)&&(r=n[C],r!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:qe(e,t,C,r,n,null)}return;default:if(Rl(t)){for(q in n)n.hasOwnProperty(q)&&(r=n[q],r!==void 0&&vu(e,t,q,r,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(r=n[v],r!=null&&qe(e,t,v,r,n,null))}function Hy(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,h=null,v=null,w=null,C=null,q=null;for(M in n){var H=n[M];if(n.hasOwnProperty(M)&&H!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":w=H;default:r.hasOwnProperty(M)||qe(e,t,M,null,r,H)}}for(var D in r){var M=r[D];if(H=n[D],r.hasOwnProperty(D)&&(M!=null||H!=null))switch(D){case"type":u=M;break;case"name":o=M;break;case"checked":C=M;break;case"defaultChecked":q=M;break;case"value":h=M;break;case"defaultValue":v=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(137,t));break;default:M!==H&&qe(e,t,D,M,r,H)}}Al(e,h,v,w,C,q,u,o);return;case"select":M=h=v=D=null;for(u in n)if(w=n[u],n.hasOwnProperty(u)&&w!=null)switch(u){case"value":break;case"multiple":M=w;default:r.hasOwnProperty(u)||qe(e,t,u,null,r,w)}for(o in r)if(u=r[o],w=n[o],r.hasOwnProperty(o)&&(u!=null||w!=null))switch(o){case"value":D=u;break;case"defaultValue":v=u;break;case"multiple":h=u;default:u!==w&&qe(e,t,o,u,r,w)}t=v,n=h,r=M,D!=null?Ga(e,!!n,D,!1):!!r!=!!n&&(t!=null?Ga(e,!!n,t,!0):Ga(e,!!n,n?[]:"",!1));return;case"textarea":M=D=null;for(v in n)if(o=n[v],n.hasOwnProperty(v)&&o!=null&&!r.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:qe(e,t,v,null,r,o)}for(h in r)if(o=r[h],u=n[h],r.hasOwnProperty(h)&&(o!=null||u!=null))switch(h){case"value":D=o;break;case"defaultValue":M=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(i(91));break;default:o!==u&&qe(e,t,h,o,r,u)}zc(e,D,M);return;case"option":for(var te in n)if(D=n[te],n.hasOwnProperty(te)&&D!=null&&!r.hasOwnProperty(te))switch(te){case"selected":e.selected=!1;break;default:qe(e,t,te,null,r,D)}for(w in r)if(D=r[w],M=n[w],r.hasOwnProperty(w)&&D!==M&&(D!=null||M!=null))switch(w){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:qe(e,t,w,D,r,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in n)D=n[de],n.hasOwnProperty(de)&&D!=null&&!r.hasOwnProperty(de)&&qe(e,t,de,null,r,D);for(C in r)if(D=r[C],M=n[C],r.hasOwnProperty(C)&&D!==M&&(D!=null||M!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(137,t));break;default:qe(e,t,C,D,r,M)}return;default:if(Rl(t)){for(var Le in n)D=n[Le],n.hasOwnProperty(Le)&&D!==void 0&&!r.hasOwnProperty(Le)&&vu(e,t,Le,void 0,r,D);for(q in r)D=r[q],M=n[q],!r.hasOwnProperty(q)||D===M||D===void 0&&M===void 0||vu(e,t,q,D,r,M);return}}for(var O in n)D=n[O],n.hasOwnProperty(O)&&D!=null&&!r.hasOwnProperty(O)&&qe(e,t,O,null,r,D);for(H in r)D=r[H],M=n[H],!r.hasOwnProperty(H)||D===M||D==null&&M==null||qe(e,t,H,D,r,M)}function Hh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $y(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],u=o.transferSize,h=o.initiatorType,v=o.duration;if(u&&v&&Hh(h)){for(h=0,v=o.responseEnd,r+=1;r<n.length;r++){var w=n[r],C=w.startTime;if(C>v)break;var q=w.transferSize,H=w.initiatorType;q&&Hh(H)&&(w=w.responseEnd,h+=q*(w<v?1:(v-C)/(w-C)))}if(--r,t+=8*(u+h)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pu=null,bu=null;function $i(e){return e.nodeType===9?e:e.ownerDocument}function $h(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function _u(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wu=null;function Gy(){var e=window.event;return e&&e.type==="popstate"?e===wu?!1:(wu=e,!0):(wu=null,!1)}var Vh=typeof setTimeout=="function"?setTimeout:void 0,Vy=typeof clearTimeout=="function"?clearTimeout:void 0,Yh=typeof Promise=="function"?Promise:void 0,Yy=typeof queueMicrotask=="function"?queueMicrotask:typeof Yh<"u"?function(e){return Yh.resolve(null).then(e).catch(Ky)}:Vh;function Ky(e){setTimeout(function(){throw e})}function na(e){return e==="head"}function Kh(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(o),_r(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Ts(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ts(n);for(var u=n.firstChild;u;){var h=u.nextSibling,v=u.nodeName;u[Gr]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=h}}else n==="body"&&Ts(e.ownerDocument.body);n=o}while(n);_r(t)}function Xh(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function Su(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Su(n),jl(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Xy(e,t,n,r){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Gr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=It(e.nextSibling),e===null)break}return null}function Qy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=It(e.nextSibling),e===null))return null;return e}function Qh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=It(e.nextSibling),e===null))return null;return e}function xu(e){return e.data==="$?"||e.data==="$~"}function Tu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Jy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function It(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Eu=null;function Jh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return It(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Ih(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Zh(e,t,n){switch(t=$i(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Ts(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);jl(e)}var Zt=new Map,Ph=new Set;function Gi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cn=Y.d;Y.d={f:Iy,r:Zy,D:Py,C:Wy,L:Fy,m:ev,X:nv,S:tv,M:av};function Iy(){var e=Cn.f(),t=Di();return e||t}function Zy(e){var t=La(e);t!==null&&t.tag===5&&t.type==="form"?gf(t):Cn.r(e)}var vr=typeof document>"u"?null:document;function Wh(e,t,n){var r=vr;if(r&&typeof t=="string"&&t){var o=Gt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Ph.has(o)||(Ph.add(o),e={rel:e,crossOrigin:n,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),vt(t,"link",e),ct(t),r.head.appendChild(t)))}}function Py(e){Cn.D(e),Wh("dns-prefetch",e,null)}function Wy(e,t){Cn.C(e,t),Wh("preconnect",e,t)}function Fy(e,t,n){Cn.L(e,t,n);var r=vr;if(r&&e&&t){var o='link[rel="preload"][as="'+Gt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Gt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Gt(n.imageSizes)+'"]')):o+='[href="'+Gt(e)+'"]';var u=o;switch(t){case"style":u=pr(e);break;case"script":u=br(e)}Zt.has(u)||(e=T({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Zt.set(u,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(Es(u))||t==="script"&&r.querySelector(js(u))||(t=r.createElement("link"),vt(t,"link",e),ct(t),r.head.appendChild(t)))}}function ev(e,t){Cn.m(e,t);var n=vr;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Gt(r)+'"][href="'+Gt(e)+'"]',u=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=br(e)}if(!Zt.has(u)&&(e=T({rel:"modulepreload",href:e},t),Zt.set(u,e),n.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(js(u)))return}r=n.createElement("link"),vt(r,"link",e),ct(r),n.head.appendChild(r)}}}function tv(e,t,n){Cn.S(e,t,n);var r=vr;if(r&&e){var o=Ha(r).hoistableStyles,u=pr(e);t=t||"default";var h=o.get(u);if(!h){var v={loading:0,preload:null};if(h=r.querySelector(Es(u)))v.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Zt.get(u))&&ju(e,n);var w=h=r.createElement("link");ct(w),vt(w,"link",e),w._p=new Promise(function(C,q){w.onload=C,w.onerror=q}),w.addEventListener("load",function(){v.loading|=1}),w.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Vi(h,t,r)}h={type:"stylesheet",instance:h,count:1,state:v},o.set(u,h)}}}function nv(e,t){Cn.X(e,t);var n=vr;if(n&&e){var r=Ha(n).hoistableScripts,o=br(e),u=r.get(o);u||(u=n.querySelector(js(o)),u||(e=T({src:e,async:!0},t),(t=Zt.get(o))&&Ou(e,t),u=n.createElement("script"),ct(u),vt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function av(e,t){Cn.M(e,t);var n=vr;if(n&&e){var r=Ha(n).hoistableScripts,o=br(e),u=r.get(o);u||(u=n.querySelector(js(o)),u||(e=T({src:e,async:!0,type:"module"},t),(t=Zt.get(o))&&Ou(e,t),u=n.createElement("script"),ct(u),vt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function Fh(e,t,n,r){var o=(o=F.current)?Gi(o):null;if(!o)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=pr(n.href),n=Ha(o).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=pr(n.href);var u=Ha(o).hoistableStyles,h=u.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=o.querySelector(Es(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Zt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Zt.set(e,n),u||rv(o,e,n,h.state))),t&&r===null)throw Error(i(528,""));return h}if(t&&r!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=br(n),n=Ha(o).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function pr(e){return'href="'+Gt(e)+'"'}function Es(e){return'link[rel="stylesheet"]['+e+"]"}function e0(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function rv(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),vt(t,"link",n),ct(t),e.head.appendChild(t))}function br(e){return'[src="'+Gt(e)+'"]'}function js(e){return"script[async]"+e}function t0(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Gt(n.href)+'"]');if(r)return t.instance=r,ct(r),r;var o=T({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),ct(r),vt(r,"style",o),Vi(r,n.precedence,e),t.instance=r;case"stylesheet":o=pr(n.href);var u=e.querySelector(Es(o));if(u)return t.state.loading|=4,t.instance=u,ct(u),u;r=e0(n),(o=Zt.get(o))&&ju(r,o),u=(e.ownerDocument||e).createElement("link"),ct(u);var h=u;return h._p=new Promise(function(v,w){h.onload=v,h.onerror=w}),vt(u,"link",r),t.state.loading|=4,Vi(u,n.precedence,e),t.instance=u;case"script":return u=br(n.src),(o=e.querySelector(js(u)))?(t.instance=o,ct(o),o):(r=n,(o=Zt.get(u))&&(r=T({},n),Ou(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),ct(o),vt(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Vi(r,n.precedence,e));return t.instance}function Vi(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,u=o,h=0;h<r.length;h++){var v=r[h];if(v.dataset.precedence===t)u=v;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ou(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yi=null;function n0(e,t,n){if(Yi===null){var r=new Map,o=Yi=new Map;o.set(n,r)}else o=Yi,r=o.get(n),r||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var u=n[o];if(!(u[Gr]||u[ht]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var h=u.getAttribute(t)||"";h=e+h;var v=r.get(h);v?v.push(u):r.set(h,[u])}}return r}function a0(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function sv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function r0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function iv(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=pr(r.href),u=t.querySelector(Es(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ki.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,ct(u);return}u=t.ownerDocument||t,r=e0(r),(o=Zt.get(o))&&ju(r,o),u=u.createElement("link"),ct(u);var h=u;h._p=new Promise(function(v,w){h.onload=v,h.onerror=w}),vt(u,"link",r),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Ki.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Au=0;function lv(e,t){return e.stylesheets&&e.count===0&&Qi(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Qi(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Au===0&&(Au=62500*$y());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Qi(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Au?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function Ki(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xi=null;function Qi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xi=new Map,t.forEach(ov,e),Xi=null,Ki.call(e))}function ov(e,t){if(!(t.state.loading&4)){var n=Xi.get(e);if(n)var r=n.get(null);else{n=new Map,Xi.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var h=o[u];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(n.set(h.dataset.precedence,h),r=h)}r&&n.set(null,r)}o=t.instance,h=o.getAttribute("data-precedence"),u=n.get(h)||r,u===r&&n.set(null,o),n.set(h,o),this.count++,r=Ki.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Os={$$typeof:U,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function uv(e,t,n,r,o,u,h,v,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sl(0),this.hiddenUpdates=Sl(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function s0(e,t,n,r,o,u,h,v,w,C,q,H){return e=new uv(e,t,n,h,w,C,q,H,v),t=1,u===!0&&(t|=24),u=Ct(3,null,null,t),e.current=u,u.stateNode=e,t=io(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:r,isDehydrated:n,cache:t},co(u),e}function i0(e){return e?(e=Za,e):Za}function l0(e,t,n,r,o,u){o=i0(o),r.context===null?r.context=o:r.pendingContext=o,r=Kn(t),r.payload={element:n},u=u===void 0?null:u,u!==null&&(r.callback=u),n=Xn(e,r,t),n!==null&&(Rt(n,e,t),ss(n,e,t))}function o0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Nu(e,t){o0(e,t),(e=e.alternate)&&o0(e,t)}function u0(e){if(e.tag===13||e.tag===31){var t=ma(e,67108864);t!==null&&Rt(t,e,67108864),Nu(e,67108864)}}function c0(e){if(e.tag===13||e.tag===31){var t=Bt();t=xl(t);var n=ma(e,t);n!==null&&Rt(n,e,t),Nu(e,t)}}var Ji=!0;function cv(e,t,n,r){var o=B.T;B.T=null;var u=Y.p;try{Y.p=2,Ru(e,t,n,r)}finally{Y.p=u,B.T=o}}function dv(e,t,n,r){var o=B.T;B.T=null;var u=Y.p;try{Y.p=8,Ru(e,t,n,r)}finally{Y.p=u,B.T=o}}function Ru(e,t,n,r){if(Ji){var o=ku(r);if(o===null)yu(e,t,r,Ii,n),f0(e,r);else if(hv(o,e,t,n,r))r.stopPropagation();else if(f0(e,r),t&4&&-1<fv.indexOf(e)){for(;o!==null;){var u=La(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=on(u.pendingLanes);if(h!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;h;){var w=1<<31-W(h);v.entanglements[1]|=w,h&=~w}fn(u),(ke&6)===0&&(ki=ft()+500,ws(0))}}break;case 31:case 13:v=ma(u,2),v!==null&&Rt(v,u,2),Di(),Nu(u,2)}if(u=ku(r),u===null&&yu(e,t,r,Ii,n),u===o)break;o=u}o!==null&&r.stopPropagation()}else yu(e,t,r,null,n)}}function ku(e){return e=Cl(e),Cu(e)}var Ii=null;function Cu(e){if(Ii=null,e=qa(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ii=e,null}function d0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lr()){case $s:return 2;case Gs:return 8;case za:case $:return 32;case Q:return 268435456;default:return 32}default:return 32}}var Du=!1,aa=null,ra=null,sa=null,As=new Map,Ns=new Map,ia=[],fv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f0(e,t){switch(e){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":As.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(t.pointerId)}}function Rs(e,t,n,r,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:u,targetContainers:[o]},t!==null&&(t=La(t),t!==null&&u0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function hv(e,t,n,r,o){switch(t){case"focusin":return aa=Rs(aa,e,t,n,r,o),!0;case"dragenter":return ra=Rs(ra,e,t,n,r,o),!0;case"mouseover":return sa=Rs(sa,e,t,n,r,o),!0;case"pointerover":var u=o.pointerId;return As.set(u,Rs(As.get(u)||null,e,t,n,r,o)),!0;case"gotpointercapture":return u=o.pointerId,Ns.set(u,Rs(Ns.get(u)||null,e,t,n,r,o)),!0}return!1}function h0(e){var t=qa(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,jc(e.priority,function(){c0(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,jc(e.priority,function(){c0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ku(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);kl=r,n.target.dispatchEvent(r),kl=null}else return t=La(n),t!==null&&u0(t),e.blockedOn=n,!1;t.shift()}return!0}function g0(e,t,n){Zi(e)&&n.delete(t)}function gv(){Du=!1,aa!==null&&Zi(aa)&&(aa=null),ra!==null&&Zi(ra)&&(ra=null),sa!==null&&Zi(sa)&&(sa=null),As.forEach(g0),Ns.forEach(g0)}function Pi(e,t){e.blockedOn===t&&(e.blockedOn=null,Du||(Du=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,gv)))}var Wi=null;function m0(e){Wi!==e&&(Wi=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Wi===e&&(Wi=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(Cu(r||n)===null)continue;break}var u=La(n);u!==null&&(e.splice(t,3),t-=3,ko(u,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function _r(e){function t(w){return Pi(w,e)}aa!==null&&Pi(aa,e),ra!==null&&Pi(ra,e),sa!==null&&Pi(sa,e),As.forEach(t),Ns.forEach(t);for(var n=0;n<ia.length;n++){var r=ia[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ia.length&&(n=ia[0],n.blockedOn===null);)h0(n),n.blockedOn===null&&ia.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var o=n[r],u=n[r+1],h=o[Tt]||null;if(typeof u=="function")h||m0(n);else if(h){var v=null;if(u&&u.hasAttribute("formAction")){if(o=u,h=u[Tt]||null)v=h.formAction;else if(Cu(o)!==null)continue}else v=h.action;typeof v=="function"?n[r+1]=v:(n.splice(r,3),r-=3),m0(n)}}}function y0(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(h){return o=h})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Uu(e){this._internalRoot=e}Fi.prototype.render=Uu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,r=Bt();l0(n,r,e,t,null,null)},Fi.prototype.unmount=Uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;l0(e.current,2,null,e,null,null),Di(),t[Ba]=null}};function Fi(e){this._internalRoot=e}Fi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ec();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ia.length&&t!==0&&t<ia[n].priority;n++);ia.splice(n,0,e),n===0&&h0(e)}};var v0=a.version;if(v0!=="19.2.0")throw Error(i(527,v0,"19.2.0"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=y(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var mv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{he=el.inject(mv),ve=el}catch{}}return Cs.createRoot=function(e,t){if(!c(e))throw Error(i(299));var n=!1,r="",o=Tf,u=Ef,h=jf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=s0(e,1,!1,null,null,n,r,null,o,u,h,y0),e[Ba]=t.current,mu(e),new Uu(t)},Cs.hydrateRoot=function(e,t,n){if(!c(e))throw Error(i(299));var r=!1,o="",u=Tf,h=Ef,v=jf,w=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(w=n.formState)),t=s0(e,1,!0,t,n??null,r,o,w,u,h,v,y0),t.context=i0(null),n=t.current,r=Bt(),r=xl(r),o=Kn(r),o.callback=null,Xn(n,o,r),n=r,t.current.lanes=n,$r(t,n),fn(t),e[Ba]=t.current,mu(e),new Fi(t)},Cs.version="19.2.0",Cs}var O0;function Av(){if(O0)return Bu.exports;O0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Bu.exports=Ov(),Bu.exports}var Nv=Av(),Wu=function(l,a){return Wu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(s[c]=i[c])},Wu(l,a)};function rg(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");Wu(l,a);function s(){this.constructor=l}l.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}var dl=function(){return dl=Object.assign||function(a){for(var s,i=1,c=arguments.length;i<c;i++){s=arguments[i];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(a[d]=s[d])}return a},dl.apply(this,arguments)};function Cr(l,a){var s={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&a.indexOf(i)<0&&(s[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(l);c<i.length;c++)a.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(l,i[c])&&(s[i[c]]=l[i[c]]);return s}function sg(l,a,s,i){var c=arguments.length,d=c<3?a:i===null?i=Object.getOwnPropertyDescriptor(a,s):i,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(l,a,s,i);else for(var m=l.length-1;m>=0;m--)(f=l[m])&&(d=(c<3?f(d):c>3?f(a,s,d):f(a,s))||d);return c>3&&d&&Object.defineProperty(a,s,d),d}function ig(l,a){return function(s,i){a(s,i,l)}}function lg(l,a,s,i,c,d){function f(z){if(z!==void 0&&typeof z!="function")throw new TypeError("Function expected");return z}for(var m=i.kind,g=m==="getter"?"get":m==="setter"?"set":"value",y=!a&&l?i.static?l:l.prototype:null,_=a||(y?Object.getOwnPropertyDescriptor(y,i.name):{}),T,b=!1,S=s.length-1;S>=0;S--){var j={};for(var N in i)j[N]=N==="access"?{}:i[N];for(var N in i.access)j.access[N]=i.access[N];j.addInitializer=function(z){if(b)throw new TypeError("Cannot add initializers after decoration has completed");d.push(f(z||null))};var R=(0,s[S])(m==="accessor"?{get:_.get,set:_.set}:_[g],j);if(m==="accessor"){if(R===void 0)continue;if(R===null||typeof R!="object")throw new TypeError("Object expected");(T=f(R.get))&&(_.get=T),(T=f(R.set))&&(_.set=T),(T=f(R.init))&&c.unshift(T)}else(T=f(R))&&(m==="field"?c.unshift(T):_[g]=T)}y&&Object.defineProperty(y,i.name,_),b=!0}function og(l,a,s){for(var i=arguments.length>2,c=0;c<a.length;c++)s=i?a[c].call(l,s):a[c].call(l);return i?s:void 0}function ug(l){return typeof l=="symbol"?l:"".concat(l)}function cg(l,a,s){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:s?"".concat(s," ",a):a})}function dg(l,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,a)}function ne(l,a,s,i){function c(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function m(_){try{y(i.next(_))}catch(T){f(T)}}function g(_){try{y(i.throw(_))}catch(T){f(T)}}function y(_){_.done?d(_.value):c(_.value).then(m,g)}y((i=i.apply(l,a||[])).next())})}function fg(l,a){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},i,c,d,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=m(0),f.throw=m(1),f.return=m(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(y){return function(_){return g([y,_])}}function g(y){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(s=0)),s;)try{if(i=1,c&&(d=y[0]&2?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return s.label++,{value:y[1],done:!1};case 5:s.label++,c=y[1],y=[0];continue;case 7:y=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){s=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){s.label=y[1];break}if(y[0]===6&&s.label<d[1]){s.label=d[1],d=y;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(y);break}d[2]&&s.ops.pop(),s.trys.pop();continue}y=a.call(l,s)}catch(_){y=[6,_],c=0}finally{i=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var yl=Object.create?(function(l,a,s,i){i===void 0&&(i=s);var c=Object.getOwnPropertyDescriptor(a,s);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(l,i,c)}):(function(l,a,s,i){i===void 0&&(i=s),l[i]=a[s]});function hg(l,a){for(var s in l)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&yl(a,l,s)}function fl(l){var a=typeof Symbol=="function"&&Symbol.iterator,s=a&&l[a],i=0;if(s)return s.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function hc(l,a){var s=typeof Symbol=="function"&&l[Symbol.iterator];if(!s)return l;var i=s.call(l),c,d=[],f;try{for(;(a===void 0||a-- >0)&&!(c=i.next()).done;)d.push(c.value)}catch(m){f={error:m}}finally{try{c&&!c.done&&(s=i.return)&&s.call(i)}finally{if(f)throw f.error}}return d}function gg(){for(var l=[],a=0;a<arguments.length;a++)l=l.concat(hc(arguments[a]));return l}function mg(){for(var l=0,a=0,s=arguments.length;a<s;a++)l+=arguments[a].length;for(var i=Array(l),c=0,a=0;a<s;a++)for(var d=arguments[a],f=0,m=d.length;f<m;f++,c++)i[c]=d[f];return i}function yg(l,a,s){if(s||arguments.length===2)for(var i=0,c=a.length,d;i<c;i++)(d||!(i in a))&&(d||(d=Array.prototype.slice.call(a,0,i)),d[i]=a[i]);return l.concat(d||Array.prototype.slice.call(a))}function kr(l){return this instanceof kr?(this.v=l,this):new kr(l)}function vg(l,a,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=s.apply(l,a||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",f),c[Symbol.asyncIterator]=function(){return this},c;function f(S){return function(j){return Promise.resolve(j).then(S,T)}}function m(S,j){i[S]&&(c[S]=function(N){return new Promise(function(R,z){d.push([S,N,R,z])>1||g(S,N)})},j&&(c[S]=j(c[S])))}function g(S,j){try{y(i[S](j))}catch(N){b(d[0][3],N)}}function y(S){S.value instanceof kr?Promise.resolve(S.value.v).then(_,T):b(d[0][2],S)}function _(S){g("next",S)}function T(S){g("throw",S)}function b(S,j){S(j),d.shift(),d.length&&g(d[0][0],d[0][1])}}function pg(l){var a,s;return a={},i("next"),i("throw",function(c){throw c}),i("return"),a[Symbol.iterator]=function(){return this},a;function i(c,d){a[c]=l[c]?function(f){return(s=!s)?{value:kr(l[c](f)),done:!1}:d?d(f):f}:d}}function bg(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l[Symbol.asyncIterator],s;return a?a.call(l):(l=typeof fl=="function"?fl(l):l[Symbol.iterator](),s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s);function i(d){s[d]=l[d]&&function(f){return new Promise(function(m,g){f=l[d](f),c(m,g,f.done,f.value)})}}function c(d,f,m,g){Promise.resolve(g).then(function(y){d({value:y,done:m})},f)}}function _g(l,a){return Object.defineProperty?Object.defineProperty(l,"raw",{value:a}):l.raw=a,l}var Rv=Object.create?(function(l,a){Object.defineProperty(l,"default",{enumerable:!0,value:a})}):function(l,a){l.default=a},Fu=function(l){return Fu=Object.getOwnPropertyNames||function(a){var s=[];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[s.length]=i);return s},Fu(l)};function wg(l){if(l&&l.__esModule)return l;var a={};if(l!=null)for(var s=Fu(l),i=0;i<s.length;i++)s[i]!=="default"&&yl(a,l,s[i]);return Rv(a,l),a}function Sg(l){return l&&l.__esModule?l:{default:l}}function xg(l,a,s,i){if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?l!==a||!i:!a.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?i:s==="a"?i.call(l):i?i.value:a.get(l)}function Tg(l,a,s,i,c){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?l!==a||!c:!a.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?c.call(l,s):c?c.value=s:a.set(l,s),s}function Eg(l,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?a===l:l.has(a)}function jg(l,a,s){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var i,c;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=a[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=a[Symbol.dispose],s&&(c=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");c&&(i=function(){try{c.call(this)}catch(d){return Promise.reject(d)}}),l.stack.push({value:a,dispose:i,async:s})}else s&&l.stack.push({async:!0});return a}var kv=typeof SuppressedError=="function"?SuppressedError:function(l,a,s){var i=new Error(s);return i.name="SuppressedError",i.error=l,i.suppressed=a,i};function Og(l){function a(d){l.error=l.hasError?new kv(d,l.error,"An error was suppressed during disposal."):d,l.hasError=!0}var s,i=0;function c(){for(;s=l.stack.pop();)try{if(!s.async&&i===1)return i=0,l.stack.push(s),Promise.resolve().then(c);if(s.dispose){var d=s.dispose.call(s.value);if(s.async)return i|=2,Promise.resolve(d).then(c,function(f){return a(f),c()})}else i|=1}catch(f){a(f)}if(i===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return c()}function Ag(l,a){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,i,c,d,f){return i?a?".jsx":".js":c&&(!d||!f)?s:c+d+"."+f.toLowerCase()+"js"}):l}const Cv={__extends:rg,__assign:dl,__rest:Cr,__decorate:sg,__param:ig,__esDecorate:lg,__runInitializers:og,__propKey:ug,__setFunctionName:cg,__metadata:dg,__awaiter:ne,__generator:fg,__createBinding:yl,__exportStar:hg,__values:fl,__read:hc,__spread:gg,__spreadArrays:mg,__spreadArray:yg,__await:kr,__asyncGenerator:vg,__asyncDelegator:pg,__asyncValues:bg,__makeTemplateObject:_g,__importStar:wg,__importDefault:Sg,__classPrivateFieldGet:xg,__classPrivateFieldSet:Tg,__classPrivateFieldIn:Eg,__addDisposableResource:jg,__disposeResources:Og,__rewriteRelativeImportExtension:Ag},Dv=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:jg,get __assign(){return dl},__asyncDelegator:pg,__asyncGenerator:vg,__asyncValues:bg,__await:kr,__awaiter:ne,__classPrivateFieldGet:xg,__classPrivateFieldIn:Eg,__classPrivateFieldSet:Tg,__createBinding:yl,__decorate:sg,__disposeResources:Og,__esDecorate:lg,__exportStar:hg,__extends:rg,__generator:fg,__importDefault:Sg,__importStar:wg,__makeTemplateObject:_g,__metadata:dg,__param:ig,__propKey:ug,__read:hc,__rest:Cr,__rewriteRelativeImportExtension:Ag,__runInitializers:og,__setFunctionName:cg,__spread:gg,__spreadArray:yg,__spreadArrays:mg,__values:fl,default:Cv},Symbol.toStringTag,{value:"Module"})),Uv=l=>l?(...a)=>l(...a):(...a)=>fetch(...a);class gc extends Error{constructor(a,s="FunctionsError",i){super(a),this.name=s,this.context=i}}class zv extends gc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class A0 extends gc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class N0 extends gc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var ec;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(ec||(ec={}));class Mv{constructor(a,{headers:s={},customFetch:i,region:c=ec.Any}={}){this.url=a,this.headers=s,this.region=c,this.fetch=Uv(i)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return ne(this,arguments,void 0,function*(s,i={}){var c;let d,f;try{const{headers:m,method:g,body:y,signal:_,timeout:T}=i;let b={},{region:S}=i;S||(S=this.region);const j=new URL(`${this.url}/${s}`);S&&S!=="any"&&(b["x-region"]=S,j.searchParams.set("forceFunctionRegion",S));let N;y&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",N=y):typeof y=="string"?(b["Content-Type"]="text/plain",N=y):typeof FormData<"u"&&y instanceof FormData?N=y:(b["Content-Type"]="application/json",N=JSON.stringify(y)):N=y;let R=_;T&&(f=new AbortController,d=setTimeout(()=>f.abort(),T),_?(R=f.signal,_.addEventListener("abort",()=>f.abort())):R=f.signal);const z=yield this.fetch(j.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),m),body:N,signal:R}).catch(ie=>{throw new zv(ie)}),K=z.headers.get("x-relay-error");if(K&&K==="true")throw new A0(z);if(!z.ok)throw new N0(z);let U=((c=z.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),X;return U==="application/json"?X=yield z.json():U==="application/octet-stream"||U==="application/pdf"?X=yield z.blob():U==="text/event-stream"?X=z:U==="multipart/form-data"?X=yield z.formData():X=yield z.text(),{data:X,error:null,response:z}}catch(m){return{data:null,error:m,response:m instanceof N0||m instanceof A0?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var _t={};const Dr=bv(Dv);var tl={},nl={},al={},rl={},sl={},il={},R0;function Ng(){if(R0)return il;R0=1,Object.defineProperty(il,"__esModule",{value:!0});class l extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return il.default=l,il}var k0;function Rg(){if(k0)return sl;k0=1,Object.defineProperty(sl,"__esModule",{value:!0});const a=Dr.__importDefault(Ng());class s{constructor(c){var d,f;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(d=c.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=c.signal,this.isMaybeSingle=(f=c.isMaybeSingle)!==null&&f!==void 0?f:!1,c.fetch?this.fetch=c.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=new Headers(this.headers),this.headers.set(c,d),this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let m=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,_,T,b;let S=null,j=null,N=null,R=g.status,z=g.statusText;if(g.ok){if(this.method!=="HEAD"){const ie=await g.text();ie===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?j=ie:j=JSON.parse(ie))}const U=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),X=(T=g.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");U&&X&&X.length>1&&(N=parseInt(X[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(S={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,N=null,R=406,z="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const U=await g.text();try{S=JSON.parse(U),Array.isArray(S)&&g.status===404&&(j=[],S=null,R=200,z="OK")}catch{g.status===404&&U===""?(R=204,z="No Content"):S={message:U}}if(S&&this.isMaybeSingle&&(!((b=S?.details)===null||b===void 0)&&b.includes("0 rows"))&&(S=null,R=200,z="OK"),S&&this.shouldThrowOnError)throw new a.default(S)}return{error:S,data:j,count:N,status:R,statusText:z}});return this.shouldThrowOnError||(m=m.catch(g=>{var y,_,T,b,S,j;let N="";const R=g?.cause;if(R){const z=(y=R?.message)!==null&&y!==void 0?y:"",K=(_=R?.code)!==null&&_!==void 0?_:"";N=`${(T=g?.name)!==null&&T!==void 0?T:"FetchError"}: ${g?.message}`,N+=`

Caused by: ${(b=R?.name)!==null&&b!==void 0?b:"Error"}: ${z}`,K&&(N+=` (${K})`),R?.stack&&(N+=`
${R.stack}`)}else N=(S=g?.stack)!==null&&S!==void 0?S:"";return{error:{message:`${(j=g?.name)!==null&&j!==void 0?j:"FetchError"}: ${g?.message}`,details:N,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(c,d)}returns(){return this}overrideTypes(){return this}}return sl.default=s,sl}var C0;function kg(){if(C0)return rl;C0=1,Object.defineProperty(rl,"__esModule",{value:!0});const a=Dr.__importDefault(Rg());class s extends a.default{select(c){let d=!1;const f=(c??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:d=!0,nullsFirst:f,foreignTable:m,referencedTable:g=m}={}){const y=g?`${g}.order`:"order",_=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${_?`${_},`:""}${c}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:f=d}={}){const m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,d,{foreignTable:f,referencedTable:m=f}={}){const g=typeof m>"u"?"offset":`${m}.offset`,y=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${c}`),this.url.searchParams.set(y,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:d=!1,settings:f=!1,buffers:m=!1,wal:g=!1,format:y="text"}={}){var _;const T=[c?"analyze":null,d?"verbose":null,f?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),b=(_=this.headers.get("Accept"))!==null&&_!==void 0?_:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${b}"; options=${T};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return rl.default=s,rl}var D0;function mc(){if(D0)return al;D0=1,Object.defineProperty(al,"__esModule",{value:!0});const a=Dr.__importDefault(kg()),s=new RegExp("[,()]");class i extends a.default{eq(d,f){return this.url.searchParams.append(d,`eq.${f}`),this}neq(d,f){return this.url.searchParams.append(d,`neq.${f}`),this}gt(d,f){return this.url.searchParams.append(d,`gt.${f}`),this}gte(d,f){return this.url.searchParams.append(d,`gte.${f}`),this}lt(d,f){return this.url.searchParams.append(d,`lt.${f}`),this}lte(d,f){return this.url.searchParams.append(d,`lte.${f}`),this}like(d,f){return this.url.searchParams.append(d,`like.${f}`),this}likeAllOf(d,f){return this.url.searchParams.append(d,`like(all).{${f.join(",")}}`),this}likeAnyOf(d,f){return this.url.searchParams.append(d,`like(any).{${f.join(",")}}`),this}ilike(d,f){return this.url.searchParams.append(d,`ilike.${f}`),this}ilikeAllOf(d,f){return this.url.searchParams.append(d,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(d,f){return this.url.searchParams.append(d,`ilike(any).{${f.join(",")}}`),this}regexMatch(d,f){return this.url.searchParams.append(d,`match.${f}`),this}regexIMatch(d,f){return this.url.searchParams.append(d,`imatch.${f}`),this}is(d,f){return this.url.searchParams.append(d,`is.${f}`),this}isDistinct(d,f){return this.url.searchParams.append(d,`isdistinct.${f}`),this}in(d,f){const m=Array.from(new Set(f)).map(g=>typeof g=="string"&&s.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(d,`in.(${m})`),this}contains(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cs.{${f.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(f)}`),this}containedBy(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cd.{${f.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(f)}`),this}rangeGt(d,f){return this.url.searchParams.append(d,`sr.${f}`),this}rangeGte(d,f){return this.url.searchParams.append(d,`nxl.${f}`),this}rangeLt(d,f){return this.url.searchParams.append(d,`sl.${f}`),this}rangeLte(d,f){return this.url.searchParams.append(d,`nxr.${f}`),this}rangeAdjacent(d,f){return this.url.searchParams.append(d,`adj.${f}`),this}overlaps(d,f){return typeof f=="string"?this.url.searchParams.append(d,`ov.${f}`):this.url.searchParams.append(d,`ov.{${f.join(",")}}`),this}textSearch(d,f,{config:m,type:g}={}){let y="";g==="plain"?y="pl":g==="phrase"?y="ph":g==="websearch"&&(y="w");const _=m===void 0?"":`(${m})`;return this.url.searchParams.append(d,`${y}fts${_}.${f}`),this}match(d){return Object.entries(d).forEach(([f,m])=>{this.url.searchParams.append(f,`eq.${m}`)}),this}not(d,f,m){return this.url.searchParams.append(d,`not.${f}.${m}`),this}or(d,{foreignTable:f,referencedTable:m=f}={}){const g=m?`${m}.or`:"or";return this.url.searchParams.append(g,`(${d})`),this}filter(d,f,m){return this.url.searchParams.append(d,`${f}.${m}`),this}}return al.default=i,al}var U0;function Cg(){if(U0)return nl;U0=1,Object.defineProperty(nl,"__esModule",{value:!0});const a=Dr.__importDefault(mc());class s{constructor(c,{headers:d={},schema:f,fetch:m}){this.url=c,this.headers=new Headers(d),this.schema=f,this.fetch=m}select(c,d){const{head:f=!1,count:m}=d??{},g=f?"HEAD":"GET";let y=!1;const _=(c??"*").split("").map(T=>/\s/.test(T)&&!y?"":(T==='"'&&(y=!y),T)).join("");return this.url.searchParams.set("select",_),m&&this.headers.append("Prefer",`count=${m}`),new a.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:d,defaultToNull:f=!0}={}){var m;const g="POST";if(d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const y=c.reduce((_,T)=>_.concat(Object.keys(T)),[]);if(y.length>0){const _=[...new Set(y)].map(T=>`"${T}"`);this.url.searchParams.set("columns",_.join(","))}}return new a.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(c,{onConflict:d,ignoreDuplicates:f=!1,count:m,defaultToNull:g=!0}={}){var y;const _="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const T=c.reduce((b,S)=>b.concat(Object.keys(S)),[]);if(T.length>0){const b=[...new Set(T)].map(S=>`"${S}"`);this.url.searchParams.set("columns",b.join(","))}}return new a.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(c,{count:d}={}){var f;const m="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:c}={}){var d;const f="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new a.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return nl.default=s,nl}var z0;function Bv(){if(z0)return tl;z0=1,Object.defineProperty(tl,"__esModule",{value:!0});const l=Dr,a=l.__importDefault(Cg()),s=l.__importDefault(mc());class i{constructor(d,{headers:f={},schema:m,fetch:g}={}){this.url=d,this.headers=new Headers(f),this.schemaName=m,this.fetch=g}from(d){if(!d||typeof d!="string"||d.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const f=new URL(`${this.url}/${d}`);return new a.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new i(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:m=!1,get:g=!1,count:y}={}){var _;let T;const b=new URL(`${this.url}/rpc/${d}`);let S;m||g?(T=m?"HEAD":"GET",Object.entries(f).filter(([N,R])=>R!==void 0).map(([N,R])=>[N,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([N,R])=>{b.searchParams.append(N,R)})):(T="POST",S=f);const j=new Headers(this.headers);return y&&j.set("Prefer",`count=${y}`),new s.default({method:T,url:b,headers:j,schema:this.schemaName,body:S,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}}return tl.default=i,tl}var M0;function qv(){if(M0)return _t;M0=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.PostgrestError=_t.PostgrestBuilder=_t.PostgrestTransformBuilder=_t.PostgrestFilterBuilder=_t.PostgrestQueryBuilder=_t.PostgrestClient=void 0;const l=Dr,a=l.__importDefault(Bv());_t.PostgrestClient=a.default;const s=l.__importDefault(Cg());_t.PostgrestQueryBuilder=s.default;const i=l.__importDefault(mc());_t.PostgrestFilterBuilder=i.default;const c=l.__importDefault(kg());_t.PostgrestTransformBuilder=c.default;const d=l.__importDefault(Rg());_t.PostgrestBuilder=d.default;const f=l.__importDefault(Ng());return _t.PostgrestError=f.default,_t.default={PostgrestClient:a.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:f.default},_t}var Dg=qv();const Ug=pv(Dg),Lv=vv({__proto__:null,default:Ug},[Dg]),{PostgrestClient:Hv,PostgrestQueryBuilder:__,PostgrestFilterBuilder:w_,PostgrestTransformBuilder:S_,PostgrestBuilder:x_,PostgrestError:T_}=Ug||Lv;class $v{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,c=parseInt(i.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let s=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(s+=`

Suggested solution: ${a.workaround}`),new Error(s)}static createWebSocket(a,s){const i=this.getWebSocketConstructor();return new i(a,s)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Gv="2.86.0",Vv=`realtime-js/${Gv}`,zg="1.0.0",Yv="2.0.0",B0=zg,tc=1e4,Kv=1e3,Xv=100;var ka;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(ka||(ka={}));var ut;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(ut||(ut={}));var sn;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(sn||(sn={}));var nc;(function(l){l.websocket="websocket"})(nc||(nc={}));var Ca;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(Ca||(Ca={}));class Qv{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,s){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(a));let i=[a.join_ref,a.ref,a.topic,a.event,a.payload];return s(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(a){var s;return this._isArrayBuffer((s=a.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var s,i;const c=(i=(s=a.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var s,i;const c=(i=(s=a.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,s,i){var c,d;const f=a.topic,m=(c=a.ref)!==null&&c!==void 0?c:"",g=(d=a.join_ref)!==null&&d!==void 0?d:"",y=a.payload.event,_=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},T=Object.keys(_).length===0?"":JSON.stringify(_);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(T.length>255)throw new Error(`metadata length ${T.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+f.length+y.length+T.length,S=new ArrayBuffer(this.HEADER_LENGTH+b);let j=new DataView(S),N=0;j.setUint8(N++,this.KINDS.userBroadcastPush),j.setUint8(N++,g.length),j.setUint8(N++,m.length),j.setUint8(N++,f.length),j.setUint8(N++,y.length),j.setUint8(N++,T.length),j.setUint8(N++,s),Array.from(g,z=>j.setUint8(N++,z.charCodeAt(0))),Array.from(m,z=>j.setUint8(N++,z.charCodeAt(0))),Array.from(f,z=>j.setUint8(N++,z.charCodeAt(0))),Array.from(y,z=>j.setUint8(N++,z.charCodeAt(0))),Array.from(T,z=>j.setUint8(N++,z.charCodeAt(0)));var R=new Uint8Array(S.byteLength+i.byteLength);return R.set(new Uint8Array(S),0),R.set(new Uint8Array(i),S.byteLength),R.buffer}decode(a,s){if(this._isArrayBuffer(a)){let i=this._binaryDecode(a);return s(i)}if(typeof a=="string"){const i=JSON.parse(a),[c,d,f,m,g]=i;return s({join_ref:c,ref:d,topic:f,event:m,payload:g})}return s({})}_binaryDecode(a){const s=new DataView(a),i=s.getUint8(0),c=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,s,c)}}_decodeUserBroadcast(a,s,i){const c=s.getUint8(1),d=s.getUint8(2),f=s.getUint8(3),m=s.getUint8(4);let g=this.HEADER_LENGTH+4;const y=i.decode(a.slice(g,g+c));g=g+c;const _=i.decode(a.slice(g,g+d));g=g+d;const T=i.decode(a.slice(g,g+f));g=g+f;const b=a.slice(g,a.byteLength),S=m===this.JSON_ENCODING?JSON.parse(i.decode(b)):b,j={type:this.BROADCAST_EVENT,event:_,payload:S};return f>0&&(j.meta=JSON.parse(T)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(a){var s;return a instanceof ArrayBuffer||((s=a?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(a,s){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([i])=>s.includes(i)))}}class Mg{constructor(a,s){this.callback=a,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Ge||(Ge={}));const q0=(l,a,s={})=>{var i;const c=(i=s.skipTypes)!==null&&i!==void 0?i:[];return a?Object.keys(a).reduce((d,f)=>(d[f]=Jv(f,l,a,c),d),{}):{}},Jv=(l,a,s,i)=>{const c=a.find(m=>m.name===l),d=c?.type,f=s[l];return d&&!i.includes(d)?Bg(d,f):ac(f)},Bg=(l,a)=>{if(l.charAt(0)==="_"){const s=l.slice(1,l.length);return Wv(a,s)}switch(l){case Ge.bool:return Iv(a);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return Zv(a);case Ge.json:case Ge.jsonb:return Pv(a);case Ge.timestamp:return Fv(a);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return ac(a);default:return ac(a)}},ac=l=>l,Iv=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},Zv=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},Pv=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(a){return console.log(`JSON parse error: ${a}`),l}return l},Wv=(l,a)=>{if(typeof l!="string")return l;const s=l.length-1,i=l[s];if(l[0]==="{"&&i==="}"){let d;const f=l.slice(1,s);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(m=>Bg(a,m))}return l},Fv=l=>typeof l=="string"?l.replace(" ","T"):l,qg=l=>{const a=new URL(l);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class $u{constructor(a,s,i={},c=tc){this.channel=a,this.event=s,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,s){var i;return this._hasReceived(a)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:a,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:s}){this.recHooks.filter(i=>i.status===a).forEach(i=>i.callback(s))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var L0;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(L0||(L0={}));class Us{constructor(a,s){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Us.syncState(this.state,c,d,f),this.pendingDiffs.forEach(g=>{this.state=Us.syncDiff(this.state,g,d,f)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Us.syncDiff(this.state,c,d,f),m())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,s,i,c){const d=this.cloneDeep(a),f=this.transformState(s),m={},g={};return this.map(d,(y,_)=>{f[y]||(g[y]=_)}),this.map(f,(y,_)=>{const T=d[y];if(T){const b=_.map(R=>R.presence_ref),S=T.map(R=>R.presence_ref),j=_.filter(R=>S.indexOf(R.presence_ref)<0),N=T.filter(R=>b.indexOf(R.presence_ref)<0);j.length>0&&(m[y]=j),N.length>0&&(g[y]=N)}else m[y]=_}),this.syncDiff(d,{joins:m,leaves:g},i,c)}static syncDiff(a,s,i,c){const{joins:d,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(d,(m,g)=>{var y;const _=(y=a[m])!==null&&y!==void 0?y:[];if(a[m]=this.cloneDeep(g),_.length>0){const T=a[m].map(S=>S.presence_ref),b=_.filter(S=>T.indexOf(S.presence_ref)<0);a[m].unshift(...b)}i(m,_,g)}),this.map(f,(m,g)=>{let y=a[m];if(!y)return;const _=g.map(T=>T.presence_ref);y=y.filter(T=>_.indexOf(T.presence_ref)<0),a[m]=y,c(m,y,g),y.length===0&&delete a[m]}),a}static map(a,s){return Object.getOwnPropertyNames(a).map(i=>s(i,a[i]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((s,i)=>{const c=a[i];return"metas"in c?s[i]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[i]=c,s},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var H0;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(H0||(H0={}));var zs;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(zs||(zs={}));var Dn;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Dn||(Dn={}));class yc{constructor(a,s={config:{}},i){var c,d;if(this.topic=a,this.params=s,this.socket=i,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new $u(this,sn.join,this.params,this.timeout),this.rejoinTimer=new Mg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sn.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new Us(this),this.broadcastEndpointURL=qg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,s=this.timeout){var i,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:f,presence:m,private:g}}=this.params,y=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&c!==void 0?c:[],_=!!this.bindings[zs.PRESENCE]&&this.bindings[zs.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,T={},b={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:_}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(T.access_token=this.socket.accessTokenValue),this._onError(S=>a?.(Dn.CHANNEL_ERROR,S)),this._onClose(()=>a?.(Dn.CLOSED)),this.updateJoinPayload(Object.assign({config:b},T)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:S})=>{var j;if(this.socket.setAuth(),S===void 0){a?.(Dn.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,R=(j=N?.length)!==null&&j!==void 0?j:0,z=[];for(let K=0;K<R;K++){const U=N[K],{filter:{event:X,schema:ie,table:ee,filter:J}}=U,P=S&&S[K];if(P&&P.event===X&&P.schema===ie&&P.table===ee&&P.filter===J)z.push(Object.assign(Object.assign({},U),{id:P.id}));else{this.unsubscribe(),this.state=ut.errored,a?.(Dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,a&&a(Dn.SUBSCRIBED);return}}).receive("error",S=>{this.state=ut.errored,a?.(Dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{a?.(Dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,s={}){return await this.send({type:"presence",event:"track",payload:a},s.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,s,i){return this.state===ut.joined&&a===zs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,s,i)}async httpSend(a,s,i={}){var c;const d=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:d,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=i.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const y=await m.json();g=y.error||y.message||g}catch{}return Promise.reject(new Error(g))}async send(a,s={}){var i,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=a,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,m,g;const y=this._push(a.type,a,s.timeout||this.timeout);a.type==="broadcast"&&!(!((g=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),y.receive("ok",()=>d("ok")),y.receive("error",()=>d("error")),y.receive("timeout",()=>d("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=ut.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new $u(this,sn.leave,{},a),i.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ut.closed,this.bindings={}}async _fetchWithTimeout(a,s,i){const c=new AbortController,d=setTimeout(()=>c.abort(),i),f=await this.socket.fetch(a,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(d),f}_push(a,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new $u(this,a,s,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Xv){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(a,s,i){return s}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,s,i){var c,d;const f=a.toLocaleLowerCase(),{close:m,error:g,leave:y,join:_}=sn;if(i&&[m,g,y,_].indexOf(f)>=0&&i!==this._joinRef())return;let b=this._onMessage(f,s,i);if(s&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(S=>{var j,N,R;return((j=S.filter)===null||j===void 0?void 0:j.event)==="*"||((R=(N=S.filter)===null||N===void 0?void 0:N.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===f}).map(S=>S.callback(b,i)):(d=this.bindings[f])===null||d===void 0||d.filter(S=>{var j,N,R,z,K,U;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in S){const X=S.id,ie=(j=S.filter)===null||j===void 0?void 0:j.event;return X&&((N=s.ids)===null||N===void 0?void 0:N.includes(X))&&(ie==="*"||ie?.toLocaleLowerCase()===((R=s.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const X=(K=(z=S?.filter)===null||z===void 0?void 0:z.event)===null||K===void 0?void 0:K.toLocaleLowerCase();return X==="*"||X===((U=s?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===f}).map(S=>{if(typeof b=="object"&&"ids"in b){const j=b.data,{schema:N,table:R,commit_timestamp:z,type:K,errors:U}=j;b=Object.assign(Object.assign({},{schema:N,table:R,commit_timestamp:z,eventType:K,new:{},old:{},errors:U}),this._getPayloadRecords(j))}S.callback(b,i)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,s,i){const c=a.toLocaleLowerCase(),d={type:c,filter:s,callback:i};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(a,s){const i=a.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===i&&yc.isEqual(c.filter,s))})),this}static isEqual(a,s){if(Object.keys(a).length!==Object.keys(s).length)return!1;for(const i in a)if(a[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(sn.close,{},a)}_onError(a){this._on(sn.error,{},s=>a(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const s={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(s.new=q0(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(s.old=q0(a.columns,a.old_record)),s}}const Gu=()=>{},ll={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ep=[1e3,2e3,5e3,1e4],tp=1e4,np=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ap{constructor(a,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=tc,this.transport=null,this.heartbeatIntervalMs=ll.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gu,this.ref=0,this.reconnectTimer=null,this.vsn=B0,this.logger=Gu,this.conn=null,this.sendBuffer=[],this.serializer=new Qv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${a}/${nc.websocket}`,this.httpEndpoint=qg(a),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$v.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const s=a.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const s=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const a=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,s,i){this.logger(a,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ka.connecting:return Ca.Connecting;case ka.open:return Ca.Open;case ka.closing:return Ca.Closing;default:return Ca.Closed}}isConnected(){return this.connectionState()===Ca.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,s={config:{}}){const i=`realtime:${a}`,c=this.getChannels().find(d=>d.topic===i);if(c)return c;{const d=new yc(`realtime:${a}`,s,this);return this.channels.push(d),d}}push(a){const{topic:s,event:i,payload:c,ref:d}=a,f=()=>{this.encode(a,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${s} ${i} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Kv,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ll.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let s=this.channels.find(i=>i.topic===a&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${a}"`),s.unsubscribe())}_remove(a){this.channels=this.channels.filter(s=>s.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:c,payload:d,ref:f}=s,m=f?`(${f})`:"",g=d.status||"";this.log("receive",`${g} ${i} ${c} ${m}`.trim(),d),this.channels.filter(y=>y._isMember(i)).forEach(y=>y._trigger(c,d,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(a){var s;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ka.open||this.conn.readyState===ka.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var s;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(sn.error))}_appendParams(a,s){if(Object.keys(s).length===0)return a;const i=a.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${a}${i}${c}`}_workerObjectUrl(a){let s;if(a)s=a;else{const i=new Blob([np],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(a,s=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(a=null){let s;a?s=a:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const c={access_token:s,version:Vv};s&&i.updateJoinPayload(c),i.joinedOnce&&i._isJoined()&&i._push(sn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${a}`,s)})}_triggerStateCallbacks(a,s){try{this.stateChangeCallbacks[a].forEach(i=>{try{i(s)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(i){this.log("error",`error triggering ${a} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Mg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ll.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var s,i,c,d,f,m,g,y,_,T,b,S;switch(this.transport=(s=a?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=a?.timeout)!==null&&i!==void 0?i:tc,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:ll.HEARTBEAT_INTERVAL,this.worker=(d=a?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=a?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:Gu,this.vsn=(g=a?.vsn)!==null&&g!==void 0?g:B0,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=a?.reconnectAfterMs)!==null&&y!==void 0?y:(j=>ep[j-1]||tp),this.vsn){case zg:this.encode=(_=a?.encode)!==null&&_!==void 0?_:((j,N)=>N(JSON.stringify(j))),this.decode=(T=a?.decode)!==null&&T!==void 0?T:((j,N)=>N(JSON.parse(j)));break;case Yv:this.encode=(b=a?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(S=a?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}class vl extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Je(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class rp extends vl{constructor(a,s,i){super(a),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rc extends vl{constructor(a,s){super(a),this.name="StorageUnknownError",this.originalError=s}}const vc=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),sp=()=>Response,sc=l=>{if(Array.isArray(l))return l.map(s=>sc(s));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([s,i])=>{const c=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));a[c]=sc(i)}),a},ip=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},lp=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l),Vu=l=>{var a;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(a=l.error)===null||a===void 0?void 0:a.message)||JSON.stringify(l)},op=(l,a,s)=>ne(void 0,void 0,void 0,function*(){const i=yield sp();l instanceof i&&!s?.noResolveJson?l.json().then(c=>{const d=l.status||500,f=c?.statusCode||d+"";a(new rp(Vu(c),d,f))}).catch(c=>{a(new rc(Vu(c),c))}):a(new rc(Vu(l),l))}),up=(l,a,s,i)=>{const c={method:l,headers:a?.headers||{}};return l==="GET"||!i?c:(ip(i)?(c.headers=Object.assign({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(i)):c.body=i,a?.duplex&&(c.duplex=a.duplex),Object.assign(Object.assign({},c),s))};function Hs(l,a,s,i,c,d){return ne(this,void 0,void 0,function*(){return new Promise((f,m)=>{l(s,up(a,i,c,d)).then(g=>{if(!g.ok)throw g;return i?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>op(g,m,i))})})}function Ms(l,a,s,i){return ne(this,void 0,void 0,function*(){return Hs(l,"GET",a,s,i)})}function rn(l,a,s,i,c){return ne(this,void 0,void 0,function*(){return Hs(l,"POST",a,i,c,s)})}function ic(l,a,s,i,c){return ne(this,void 0,void 0,function*(){return Hs(l,"PUT",a,i,c,s)})}function cp(l,a,s,i){return ne(this,void 0,void 0,function*(){return Hs(l,"HEAD",a,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function pc(l,a,s,i,c){return ne(this,void 0,void 0,function*(){return Hs(l,"DELETE",a,i,c,s)})}class dp{constructor(a,s){this.downloadFn=a,this.shouldThrowOnError=s}then(a,s){return this.execute().then(a,s)}execute(){return ne(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}}var Lg;class fp{constructor(a,s){this.downloadFn=a,this.shouldThrowOnError=s,this[Lg]="BlobDownloadBuilder",this.promise=null}asStream(){return new dp(this.downloadFn,this.shouldThrowOnError)}then(a,s){return this.getPromise().then(a,s)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ne(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}}Lg=Symbol.toStringTag;const hp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gp{constructor(a,s={},i,c){this.shouldThrowOnError=!1,this.url=a,this.headers=s,this.bucketId=i,this.fetch=vc(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,s,i,c){return ne(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},$0),c);let m=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",this.encodeMetadata(g)),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),g&&!d.has("metadata")&&d.append("metadata",this.encodeMetadata(g))):(d=i,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),c?.headers&&(m=Object.assign(Object.assign({},m),c.headers));const y=this._removeEmptyFolders(s),_=this._getFinalPath(y),T=yield(a=="PUT"?ic:rn)(this.fetch,`${this.url}/object/${_}`,d,Object.assign({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:y,id:T.Id,fullPath:T.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Je(d))return{data:null,error:d};throw d}})}upload(a,s,i){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,s,i)})}uploadToSignedUrl(a,s,i,c){return ne(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(a),f=this._getFinalPath(d),m=new URL(this.url+`/object/upload/sign/${f}`);m.searchParams.set("token",s);try{let g;const y=Object.assign({upsert:$0.upsert},c),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",y.cacheControl)):(g=i,_["cache-control"]=`max-age=${y.cacheControl}`,_["content-type"]=y.contentType);const T=yield ic(this.fetch,m.toString(),g,{headers:_});return{data:{path:d,fullPath:T.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Je(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(a,s){return ne(this,void 0,void 0,function*(){try{let i=this._getFinalPath(a);const c=Object.assign({},this.headers);s?.upsert&&(c["x-upsert"]="true");const d=yield rn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:c}),f=new URL(this.url+d.url),m=f.searchParams.get("token");if(!m)throw new vl("No token returned by API");return{data:{signedUrl:f.toString(),path:a,token:m},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}update(a,s,i){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,s,i)})}move(a,s,i){return ne(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}})}copy(a,s,i){return ne(this,void 0,void 0,function*(){try{return{data:{path:(yield rn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}})}createSignedUrl(a,s,i){return ne(this,void 0,void 0,function*(){try{let c=this._getFinalPath(a),d=yield rn(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:s},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}})}createSignedUrls(a,s,i){return ne(this,void 0,void 0,function*(){try{const c=yield rn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:a},{headers:this.headers}),d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}})}download(a,s){const c=typeof s?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(s?.transform||{}),f=d?`?${d}`:"",m=this._getFinalPath(a),g=()=>Ms(this.fetch,`${this.url}/${c}/${m}${f}`,{headers:this.headers,noResolveJson:!0});return new fp(g,this.shouldThrowOnError)}info(a){return ne(this,void 0,void 0,function*(){const s=this._getFinalPath(a);try{const i=yield Ms(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:sc(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}exists(a){return ne(this,void 0,void 0,function*(){const s=this._getFinalPath(a);try{return yield cp(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i)&&i instanceof rc){const c=i.originalError;if([400,404].includes(c?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(a,s){const i=this._getFinalPath(a),c=[],d=s?.download?`download=${s.download===!0?"":s.download}`:"";d!==""&&c.push(d);const m=typeof s?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(s?.transform||{});g!==""&&c.push(g);let y=c.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${i}${y}`)}}}remove(a){return ne(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}list(a,s,i){return ne(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},hp),s),{prefix:a||""});return{data:yield rn(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},i),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}})}listV2(a,s){return ne(this,void 0,void 0,function*(){try{const i=Object.assign({},a);return{data:yield rn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const s=[];return a.width&&s.push(`width=${a.width}`),a.height&&s.push(`height=${a.height}`),a.resize&&s.push(`resize=${a.resize}`),a.format&&s.push(`format=${a.format}`),a.quality&&s.push(`quality=${a.quality}`),s.join("&")}}const Hg="2.86.0",$g={"X-Client-Info":`storage-js/${Hg}`};class mp{constructor(a,s={},i,c){this.shouldThrowOnError=!1;const d=new URL(a);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$g),s),this.fetch=vc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return ne(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(a);return{data:yield Ms(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}getBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:yield Ms(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}createBucket(a){return ne(this,arguments,void 0,function*(s,i={public:!1}){try{return{data:yield rn(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}})}updateBucket(a,s){return ne(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}emptyBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}deleteBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(a){const s={};return a&&("limit"in a&&(s.limit=String(a.limit)),"offset"in a&&(s.offset=String(a.offset)),a.search&&(s.search=a.search),a.sortColumn&&(s.sortColumn=a.sortColumn),a.sortOrder&&(s.sortOrder=a.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}var Bs=class extends Error{constructor(l,a){super(l),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function yp(l,a,s){const i=new URL(a,l);if(s)for(const[c,d]of Object.entries(s))d!==void 0&&i.searchParams.set(c,d);return i.toString()}async function vp(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function pp(l){const a=l.fetchImpl??globalThis.fetch;return{async request({method:s,path:i,query:c,body:d,headers:f}){const m=yp(l.baseUrl,i,c),g=await vp(l.auth),y=await a(m,{method:s,headers:{...d?{"Content-Type":"application/json"}:{},...g,...f},body:d?JSON.stringify(d):void 0}),_=await y.text(),T=(y.headers.get("content-type")||"").includes("application/json"),b=T&&_?JSON.parse(_):_;if(!y.ok){const S=T?b:void 0,j=S?.error;throw new Bs(j?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:j?.type,icebergCode:j?.code,details:S})}return{status:y.status,headers:y.headers,data:b}}}}function ol(l){return l.join("")}var bp=class{constructor(l,a=""){this.client=l,this.prefix=a}async listNamespaces(l){const a=l?{parent:ol(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(l,a){const s={namespace:l.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ol(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ol(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ol(l.namespace)}`}),!0}catch(a){if(a instanceof Bs&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(l,a){try{return await this.createNamespace(l,a)}catch(s){if(s instanceof Bs&&s.status===409)return;throw s}}};function wr(l){return l.join("")}var _p=class{constructor(l,a="",s){this.client=l,this.prefix=a,this.accessDelegation=s}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wr(l.namespace)}/tables`})).data.identifiers}async createTable(l,a){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wr(l.namespace)}/tables`,body:a,headers:s})).data.metadata}async updateTable(l,a){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wr(l.namespace)}/tables/${l.name}`,body:a});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(l,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wr(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(l){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wr(l.namespace)}/tables/${l.name}`,headers:a})).data.metadata}async tableExists(l){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wr(l.namespace)}/tables/${l.name}`,headers:a}),!0}catch(s){if(s instanceof Bs&&s.status===404)return!1;throw s}}async createTableIfNotExists(l,a){try{return await this.createTable(l,a)}catch(s){if(s instanceof Bs&&s.status===409)return await this.loadTable({namespace:l.namespace,name:a.name});throw s}}},wp=class{constructor(l){let a="v1";l.catalogName&&(a+=`/${l.catalogName}`);const s=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=pp({baseUrl:s,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=l.accessDelegation?.join(","),this.namespaceOps=new bp(this.client,a),this.tableOps=new _p(this.client,a,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,a){return this.namespaceOps.createNamespace(l,a)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,a){return this.tableOps.createTable(l,a)}async updateTable(l,a){return this.tableOps.updateTable(l,a)}async dropTable(l,a){await this.tableOps.dropTable(l,a)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,a){return this.namespaceOps.createNamespaceIfNotExists(l,a)}async createTableIfNotExists(l,a){return this.tableOps.createTableIfNotExists(l,a)}};class Sp{constructor(a,s={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$g),s),this.fetch=vc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}listBuckets(a){return ne(this,void 0,void 0,function*(){try{const s=new URLSearchParams;a?.limit!==void 0&&s.set("limit",a.limit.toString()),a?.offset!==void 0&&s.set("offset",a.offset.toString()),a?.sortColumn&&s.set("sortColumn",a.sortColumn),a?.sortOrder&&s.set("sortOrder",a.sortOrder),a?.search&&s.set("search",a.search);const i=s.toString(),c=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Ms(this.fetch,c,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}deleteBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}from(a){if(!lp(a))throw new vl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new wp({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:()=>ne(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const bc={"X-Client-Info":`storage-js/${Hg}`,"Content-Type":"application/json"};class Gg extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Lt(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}class Yu extends Gg{constructor(a,s,i){super(a),this.name="StorageVectorsApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xp extends Gg{constructor(a,s){super(a),this.name="StorageVectorsUnknownError",this.originalError=s}}var G0;(function(l){l.InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(G0||(G0={}));const _c=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),Tp=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},V0=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Ep=(l,a,s)=>ne(void 0,void 0,void 0,function*(){if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!s?.noResolveJson){const c=l.status||500,d=l;if(typeof d.json=="function")d.json().then(f=>{const m=f?.statusCode||f?.code||c+"";a(new Yu(V0(f),c,m))}).catch(()=>{const f=c+"",m=d.statusText||`HTTP ${c} error`;a(new Yu(m,c,f))});else{const f=c+"",m=d.statusText||`HTTP ${c} error`;a(new Yu(m,c,f))}}else a(new xp(V0(l),l))}),jp=(l,a,s,i)=>{const c={method:l,headers:a?.headers||{}};return i?(Tp(i)?(c.headers=Object.assign({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(i)):c.body=i,Object.assign(Object.assign({},c),s)):c};function Op(l,a,s,i,c,d){return ne(this,void 0,void 0,function*(){return new Promise((f,m)=>{l(s,jp(a,i,c,d)).then(g=>{if(!g.ok)throw g;if(i?.noResolveJson)return g;const y=g.headers.get("content-type");return!y||!y.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>Ep(g,m,i))})})}function Ht(l,a,s,i,c){return ne(this,void 0,void 0,function*(){return Op(l,"POST",a,i,c,s)})}class Ap{constructor(a,s={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bc),s),this.fetch=_c(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return ne(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}getIndex(a,s){return ne(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:s},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}listIndexes(a){return ne(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}deleteIndex(a,s){return ne(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:s},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}}class Np{constructor(a,s={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bc),s),this.fetch=_c(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return ne(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ht(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}getVectors(a){return ne(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}listVectors(a){return ne(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield Ht(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}queryVectors(a){return ne(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}deleteVectors(a){return ne(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ht(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}}class Rp{constructor(a,s={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bc),s),this.fetch=_c(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}getBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}listBuckets(){return ne(this,arguments,void 0,function*(a={}){try{return{data:yield Ht(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}deleteBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}}class kp extends Rp{constructor(a,s={}){super(a,s.headers||{},s.fetch)}from(a){return new Cp(this.url,this.headers,a,this.fetch)}createBucket(a){const s=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ne(this,void 0,void 0,function*(){return s.createBucket.call(this,a)})}getBucket(a){const s=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ne(this,void 0,void 0,function*(){return s.getBucket.call(this,a)})}listBuckets(){const a=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ne(this,arguments,void 0,function*(s={}){return a.listBuckets.call(this,s)})}deleteBucket(a){const s=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ne(this,void 0,void 0,function*(){return s.deleteBucket.call(this,a)})}}class Cp extends Ap{constructor(a,s,i,c){super(a,s,c),this.vectorBucketName=i}createIndex(a){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ne(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ne(this,arguments,void 0,function*(s={}){return a.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ne(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ne(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new Dp(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class Dp extends Np{constructor(a,s,i,c,d){super(a,s,d),this.vectorBucketName=i,this.indexName=c}putVectors(a){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ne(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ne(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ne(this,arguments,void 0,function*(s={}){return a.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ne(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ne(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Up extends mp{constructor(a,s={},i,c){super(a,s,i,c)}from(a){return new gp(this.url,this.headers,a,this.fetch)}get vectors(){return new kp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Sp(this.url+"/iceberg",this.headers,this.fetch)}}const zp="2.86.0";let Ds="";typeof Deno<"u"?Ds="deno":typeof document<"u"?Ds="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ds="react-native":Ds="node";const Mp={"X-Client-Info":`supabase-js-${Ds}/${zp}`},Bp={headers:Mp},qp={schema:"public"},Lp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hp={},$p=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),Gp=()=>Headers,Vp=(l,a,s)=>{const i=$p(s),c=Gp();return async(d,f)=>{var m;const g=(m=await a())!==null&&m!==void 0?m:l;let y=new c(f?.headers);return y.has("apikey")||y.set("apikey",l),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),i(d,Object.assign(Object.assign({},f),{headers:y}))}};function Yp(l){return l.endsWith("/")?l:l+"/"}function Kp(l,a){var s,i;const{db:c,auth:d,realtime:f,global:m}=l,{db:g,auth:y,realtime:_,global:T}=a,b={db:Object.assign(Object.assign({},g),c),auth:Object.assign(Object.assign({},y),d),realtime:Object.assign(Object.assign({},_),f),storage:{},global:Object.assign(Object.assign(Object.assign({},T),m),{headers:Object.assign(Object.assign({},(s=T?.headers)!==null&&s!==void 0?s:{}),(i=m?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return l.accessToken?b.accessToken=l.accessToken:delete b.accessToken,b}function Xp(l){const a=l?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Yp(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Vg="2.86.0",Or=30*1e3,lc=3,Ku=lc*Or,Qp="http://localhost:9999",Jp="supabase.auth.token",Ip={"X-Client-Info":`gotrue-js/${Vg}`},oc="X-Supabase-Api-Version",Yg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Zp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Pp=600*1e3;class qs extends Error{constructor(a,s,i){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function oe(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class Wp extends qs{constructor(a,s,i){super(a,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function Fp(l){return oe(l)&&l.name==="AuthApiError"}class Da extends qs{constructor(a,s){super(a),this.name="AuthUnknownError",this.originalError=s}}class ca extends qs{constructor(a,s,i,c){super(a,i,c),this.name=s,this.status=i}}class qt extends ca{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eb(l){return oe(l)&&l.name==="AuthSessionMissingError"}class Sr extends ca{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ul extends ca{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class cl extends ca{constructor(a,s=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tb(l){return oe(l)&&l.name==="AuthImplicitGrantRedirectError"}class Y0 extends ca{constructor(a,s=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uc extends ca{constructor(a,s){super(a,"AuthRetryableFetchError",s,void 0)}}function Xu(l){return oe(l)&&l.name==="AuthRetryableFetchError"}class K0 extends ca{constructor(a,s,i){super(a,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class cc extends ca{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const hl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),X0=` 	
\r=`.split(""),nb=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<X0.length;a+=1)l[X0[a].charCodeAt(0)]=-2;for(let a=0;a<hl.length;a+=1)l[hl[a].charCodeAt(0)]=a;return l})();function Q0(l,a,s){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;s(hl[i]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;s(hl[i]),a.queuedBits-=6}}function Kg(l,a,s){const i=nb[l];if(i>-1)for(a.queue=a.queue<<6|i,a.queuedBits+=6;a.queuedBits>=8;)s(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function J0(l){const a=[],s=f=>{a.push(String.fromCodePoint(f))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{sb(f,i,s)};for(let f=0;f<l.length;f+=1)Kg(l.charCodeAt(f),c,d);return a.join("")}function ab(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function rb(l,a){for(let s=0;s<l.length;s+=1){let i=l.charCodeAt(s);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(l.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}ab(i,a)}}function sb(l,a,s){if(a.utf8seq===0){if(l<=127){s(l);return}for(let i=1;i<6;i+=1)if((l>>7-i&1)===0){a.utf8seq=i;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&s(a.codepoint)}}function Nr(l){const a=[],s={queue:0,queuedBits:0},i=c=>{a.push(c)};for(let c=0;c<l.length;c+=1)Kg(l.charCodeAt(c),s,i);return new Uint8Array(a)}function ib(l){const a=[];return rb(l,s=>a.push(s)),new Uint8Array(a)}function Ua(l){const a=[],s={queue:0,queuedBits:0},i=c=>{a.push(c)};return l.forEach(c=>Q0(c,s,i)),Q0(null,s,i),a.join("")}function lb(l){return Math.round(Date.now()/1e3)+l}function ob(){return Symbol("auth-callback")}const pt=()=>typeof window<"u"&&typeof document<"u",Aa={tested:!1,writable:!1},Xg=()=>{if(!pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Aa.tested)return Aa.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Aa.tested=!0,Aa.writable=!0}catch{Aa.tested=!0,Aa.writable=!1}return Aa.writable};function ub(l){const a={},s=new URL(l);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,d)=>{a[d]=c})}catch{}return s.searchParams.forEach((i,c)=>{a[c]=i}),a}const Qg=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),cb=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Ar=async(l,a,s)=>{await l.setItem(a,JSON.stringify(s))},Na=async(l,a)=>{const s=await l.getItem(a);if(!s)return null;try{return JSON.parse(s)}catch{return s}},oa=async(l,a)=>{await l.removeItem(a)};class pl{constructor(){this.promise=new pl.promiseConstructor((a,s)=>{this.resolve=a,this.reject=s})}}pl.promiseConstructor=Promise;function Qu(l){const a=l.split(".");if(a.length!==3)throw new cc("Invalid JWT structure");for(let i=0;i<a.length;i++)if(!Zp.test(a[i]))throw new cc("JWT not in base64url format");return{header:JSON.parse(J0(a[0])),payload:JSON.parse(J0(a[1])),signature:Nr(a[2]),raw:{header:a[0],payload:a[1]}}}async function db(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function fb(l,a){return new Promise((i,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await l(d);if(!a(d,null,f)){i(f);return}}catch(f){if(!a(d,f)){c(f);return}}})()})}function hb(l){return("0"+l.toString(16)).substr(-2)}function gb(){const a=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let c="";for(let d=0;d<56;d++)c+=s.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(a),Array.from(a,hb).join("")}async function mb(l){const s=new TextEncoder().encode(l),i=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(i);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function yb(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const s=await mb(l);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xr(l,a,s=!1){const i=gb();let c=i;s&&(c+="/PASSWORD_RECOVERY"),await Ar(l,`${a}-code-verifier`,c);const d=await yb(i);return[d,i===d?"plain":"s256"]}const vb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pb(l){const a=l.headers.get(oc);if(!a||!a.match(vb))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function bb(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function _b(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tr(l){if(!wb.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ju(){const l={};return new Proxy(l,{get:(a,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Sb(l,a){return new Proxy(l,{get:(s,i,c)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const d=i.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,c)}return!a.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(s,i,c)}})}function I0(l){return JSON.parse(JSON.stringify(l))}const Ra=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),xb=[502,503,504];async function Z0(l){var a;if(!cb(l))throw new uc(Ra(l),0);if(xb.includes(l.status))throw new uc(Ra(l),l.status);let s;try{s=await l.json()}catch(d){throw new Da(Ra(d),d)}let i;const c=pb(l);if(c&&c.getTime()>=Yg["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new K0(Ra(s),l.status,((a=s.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(i==="session_not_found")throw new qt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new K0(Ra(s),l.status,s.weak_password.reasons);throw new Wp(Ra(s),l.status||500,i)}const Tb=(l,a,s,i)=>{const c={method:l,headers:a?.headers||{}};return l==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),s))};async function ge(l,a,s,i){var c;const d=Object.assign({},i?.headers);d[oc]||(d[oc]=Yg["2024-01-01"].name),i?.jwt&&(d.Authorization=`Bearer ${i.jwt}`);const f=(c=i?.query)!==null&&c!==void 0?c:{};i?.redirectTo&&(f.redirect_to=i.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await Eb(l,a,s+m,{headers:d,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(g):{data:Object.assign({},g),error:null}}async function Eb(l,a,s,i,c,d){const f=Tb(a,i,c,d);let m;try{m=await l(s,Object.assign({},f))}catch(g){throw console.error(g),new uc(Ra(g),0)}if(m.ok||await Z0(m),i?.noResolveJson)return m;try{return await m.json()}catch(g){await Z0(g)}}function an(l){var a;let s=null;Ab(l)&&(s=Object.assign({},l),l.expires_at||(s.expires_at=lb(l.expires_in)));const i=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:s,user:i},error:null}}function P0(l){const a=an(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(a.data.weak_password=l.weak_password),a}function ua(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function jb(l){return{data:l,error:null}}function Ob(l){const{action_link:a,email_otp:s,hashed_token:i,redirect_to:c,verification_type:d}=l,f=Cr(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:s,hashed_token:i,redirect_to:c,verification_type:d},g=Object.assign({},f);return{data:{properties:m,user:g},error:null}}function W0(l){return l}function Ab(l){return l.access_token&&l.refresh_token&&l.expires_in}const Iu=["global","local","others"];class Nb{constructor({url:a="",headers:s={},fetch:i}){this.url=a,this.headers=s,this.fetch=Qg(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,s=Iu[0]){if(Iu.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Iu.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(i){if(oe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(a,s={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ua})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async generateLink(a){try{const{options:s}=a,i=Cr(a,["options"]),c=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(c.new_email=i?.newEmail,delete c.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Ob,redirectTo:s?.redirectTo})}catch(s){if(oe(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(a){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:ua})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async listUsers(a){var s,i,c,d,f,m,g;try{const y={nextPage:null,lastPage:0,total:0},_=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=a?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(d=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:W0});if(_.error)throw _.error;const T=await _.json(),b=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(g=(m=_.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return S.length>0&&(S.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(j.split(";")[1].split("=")[1]);y[`${R}Page`]=N}),y.total=parseInt(b)),{data:Object.assign(Object.assign({},T),y),error:null}}catch(y){if(oe(y))return{data:{users:[]},error:y};throw y}}async getUserById(a){Tr(a);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:ua})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async updateUserById(a,s){Tr(a);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:s,headers:this.headers,xform:ua})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async deleteUser(a,s=!1){Tr(a);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:s},xform:ua})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async _listFactors(a){Tr(a.userId);try{const{data:s,error:i}=await ge(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:i}}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _deleteFactor(a){Tr(a.userId),Tr(a.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _listOAuthClients(a){var s,i,c,d,f,m,g;try{const y={nextPage:null,lastPage:0,total:0},_=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=a?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(d=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:W0});if(_.error)throw _.error;const T=await _.json(),b=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(g=(m=_.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return S.length>0&&(S.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(j.split(";")[1].split("=")[1]);y[`${R}Page`]=N}),y.total=parseInt(b)),{data:Object.assign(Object.assign({},T),y),error:null}}catch(y){if(oe(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(a){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _getOAuthClient(a){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _updateOAuthClient(a,s){try{return await ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(a){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(a){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}}function F0(l={}){return{getItem:a=>l[a]||null,setItem:(a,s)=>{l[a]=s},removeItem:a=>{delete l[a]}}}const Er={debug:!!(globalThis&&Xg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jg extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Rb extends Jg{}async function kb(l,a,s){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const i=new globalThis.AbortController;return a>0&&setTimeout(()=>{i.abort(),Er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,c.name);try{return await s()}finally{Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,c.name)}}else{if(a===0)throw Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new Rb(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(Er.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Cb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ig(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function Db(l){return parseInt(l,16)}function Ub(l){const a=new TextEncoder().encode(l);return"0x"+Array.from(a,i=>i.toString(16).padStart(2,"0")).join("")}function zb(l){var a;const{chainId:s,domain:i,expirationTime:c,issuedAt:d=new Date,nonce:f,notBefore:m,requestId:g,resources:y,scheme:_,uri:T,version:b}=l;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!T)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((a=l.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const S=Ig(l.address),j=_?`${_}://${i}`:i,N=l.statement?`${l.statement}
`:"",R=`${j} wants you to sign in with your Ethereum account:
${S}

${N}`;let z=`URI: ${T}
Version: ${b}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(c&&(z+=`
Expiration Time: ${c.toISOString()}`),m&&(z+=`
Not Before: ${m.toISOString()}`),g&&(z+=`
Request ID: ${g}`),y){let K=`
Resources:`;for(const U of y){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);K+=`
- ${U}`}z+=K}return`${R}
${z}`}class it extends Error{constructor({message:a,code:s,cause:i,name:c}){var d;super(a,{cause:i}),this.__isWebAuthnError=!0,this.name=(d=c??(i instanceof Error?i.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=s}}class gl extends it{constructor(a,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:a}),this.name="WebAuthnUnknownError",this.originalError=s}}function Mb({error:l,options:a}){var s,i,c;const{publicKey:d}=a;if(!d)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new it({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((s=d.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new it({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(a.mediation==="conditional"&&((i=d.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new it({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new it({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new it({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new it({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new it({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new it({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const f=window.location.hostname;if(Zg(f)){if(d.rp.id!==f)return new it({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new it({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function Bb({error:l,options:a}){const{publicKey:s}=a;if(!s)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new it({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new it({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const i=window.location.hostname;if(Zg(i)){if(s.rpId!==i)return new it({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class qb{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Lb=new qb;function Hb(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:a,user:s,excludeCredentials:i}=l,c=Cr(l,["challenge","user","excludeCredentials"]),d=Nr(a).buffer,f=Object.assign(Object.assign({},s),{id:Nr(s.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:d,user:f});if(i&&i.length>0){m.excludeCredentials=new Array(i.length);for(let g=0;g<i.length;g++){const y=i[g];m.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:Nr(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return m}function $b(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:a,allowCredentials:s}=l,i=Cr(l,["challenge","allowCredentials"]),c=Nr(a).buffer,d=Object.assign(Object.assign({},i),{challenge:c});if(s&&s.length>0){d.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const m=s[f];d.allowCredentials[f]=Object.assign(Object.assign({},m),{id:Nr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function Gb(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l;return{id:l.id,rawId:l.id,response:{attestationObject:Ua(new Uint8Array(l.response.attestationObject)),clientDataJSON:Ua(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Vb(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l,i=l.getClientExtensionResults(),c=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:Ua(new Uint8Array(c.authenticatorData)),clientDataJSON:Ua(new Uint8Array(c.clientDataJSON)),signature:Ua(new Uint8Array(c.signature)),userHandle:c.userHandle?Ua(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Zg(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function eg(){var l,a;return!!(pt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Yb(l){try{const a=await navigator.credentials.create(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new gl("Browser returned unexpected credential type",a)}:{data:null,error:new gl("Empty credential response",a)}}catch(a){return{data:null,error:Mb({error:a,options:l})}}}async function Kb(l){try{const a=await navigator.credentials.get(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new gl("Browser returned unexpected credential type",a)}:{data:null,error:new gl("Empty credential response",a)}}catch(a){return{data:null,error:Bb({error:a,options:l})}}}const Xb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Qb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ml(...l){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),i={};for(const c of l)if(c)for(const d in c){const f=c[d];if(f!==void 0)if(Array.isArray(f))i[d]=f;else if(s(f))i[d]=f;else if(a(f)){const m=i[d];a(m)?i[d]=ml(m,f):i[d]=ml(f)}else i[d]=f}return i}function Jb(l,a){return ml(Xb,l,a||{})}function Ib(l,a){return ml(Qb,l,a||{})}class Zb{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:s,friendlyName:i,signal:c},d){try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:s});if(!f)return{data:null,error:m};const g=c??Lb.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${i}`),y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=Jb(f.webauthn.credential_options.publicKey,d?.create),{data:_,error:T}=await Yb({publicKey:y,signal:g});return _?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:T}}case"request":{const y=Ib(f.webauthn.credential_options.publicKey,d?.request),{data:_,error:T}=await Kb(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:g}));return _?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:T}}}}catch(f){return oe(f)?{data:null,error:f}:{data:null,error:new Da("Unexpected error in challenge",f)}}}async _verify({challengeId:a,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:a,webauthn:i})}async _authenticate({factorId:a,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!s)return{data:null,error:new qs("rpId is required for WebAuthn authentication")};try{if(!eg())return{data:null,error:new Da("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:a,webauthn:{rpId:s,rpOrigins:i},signal:c},{request:d});if(!f)return{data:null,error:m};const{webauthn:g}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:i,credential_response:g.credential_response}})}catch(f){return oe(f)?{data:null,error:f}:{data:null,error:new Da("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!s)return{data:null,error:new qs("rpId is required for WebAuthn registration")};try{if(!eg())return{data:null,error:new Da("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(_=>{var T;return(T=_.data)===null||T===void 0?void 0:T.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===a&&b.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_?.id}):void 0),{data:null,error:m};const{data:g,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:c},{create:d});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:i,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(f){return oe(f)?{data:null,error:f}:{data:null,error:new Da("Unexpected error in register",f)}}}}Cb();const Pb={url:Qp,storageKey:Jp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ip,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function tg(l,a,s){return await s()}const jr={};class Ls{get jwks(){var a,s;return(s=(a=jr[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(a){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,s;return(s=(a=jr[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{cachedAt:a})}constructor(a){var s,i,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},Pb),a);if(this.storageKey=d.storageKey,this.instanceID=(s=Ls.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Ls.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&pt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new Nb({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Qg(d.fetch),this.lock=d.lock||tg,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:pt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=kb:this.lock=tg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Zb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:Xg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=F0(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=F0(this.memoryStorage)),pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Vg}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let s={},i="none";if(pt()&&(s=ub(window.location.href),this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce")),pt()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:d}=await this._getSessionFromURL(s,i);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),tb(d)){const g=(a=d.details)===null||a===void 0?void 0:a.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return oe(s)?this._returnResult({error:s}):this._returnResult({error:new Da("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var s,i,c;try{const d=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=a?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:an}),{data:f,error:m}=d;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(d){if(oe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(a){var s,i,c;try{let d;if("email"in a){const{email:_,password:T,options:b}=a;let S=null,j=null;this.flowType==="pkce"&&([S,j]=await xr(this.storage,this.storageKey)),d=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:_,password:T,data:(s=b?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:S,code_challenge_method:j},xform:an})}else if("phone"in a){const{phone:_,password:T,options:b}=a;d=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:T,data:(i=b?.data)!==null&&i!==void 0?i:{},channel:(c=b?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:an})}else throw new ul("You must provide either an email or phone number and a password");const{data:f,error:m}=d;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(d){if(oe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(a){try{let s;if("email"in a){const{email:d,password:f,options:m}=a;s=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:P0})}else if("phone"in a){const{phone:d,password:f,options:m}=a;s=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:P0})}else throw new ul("You must provide either an email or phone number and a password");const{data:i,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!i||!i.session||!i.user){const d=new Sr;return this._returnResult({data:{user:null,session:null},error:d})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(s){if(oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(a){var s,i,c,d;return await this._handleProviderSignIn(a.provider,{redirectTo:(s=a.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=a.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=a.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:s}=a;switch(s){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(a){var s,i,c,d,f,m,g,y,_,T,b;let S,j;if("message"in a)S=a.message,j=a.signature;else{const{chain:N,wallet:R,statement:z,options:K}=a;let U;if(pt())if(typeof R=="object")U=R;else{const me=window;if("ethereum"in me&&typeof me.ethereum=="object"&&"request"in me.ethereum&&typeof me.ethereum.request=="function")U=me.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!K?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=R}const X=new URL((s=K?.url)!==null&&s!==void 0?s:window.location.href),ie=await U.request({method:"eth_requestAccounts"}).then(me=>me).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ie||ie.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ee=Ig(ie[0]);let J=(i=K?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!J){const me=await U.request({method:"eth_chainId"});J=Db(me)}const P={domain:X.host,address:ee,statement:z,uri:X.href,version:"1",chainId:J,nonce:(c=K?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(d=K?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=K?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=K?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=K?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(_=K?.signInWithEthereum)===null||_===void 0?void 0:_.resources};S=zb(P),j=await U.request({method:"personal_sign",params:[Ub(S),ee]})}try{const{data:N,error:R}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:j},!((T=a.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(b=a.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:an});if(R)throw R;if(!N||!N.session||!N.user){const z=new Sr;return this._returnResult({data:{user:null,session:null},error:z})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:R})}catch(N){if(oe(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(a){var s,i,c,d,f,m,g,y,_,T,b,S;let j,N;if("message"in a)j=a.message,N=a.signature;else{const{chain:R,wallet:z,statement:K,options:U}=a;let X;if(pt())if(typeof z=="object")X=z;else{const ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))X=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=z}const ie=new URL((s=U?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in X&&X.signIn){const ee=await X.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:ie.host,uri:ie.href}),K?{statement:K}:null));let J;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")J=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)J=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)j=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),N=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in X)||typeof X.signMessage!="function"||!("publicKey"in X)||typeof X!="object"||!X.publicKey||!("toBase58"in X.publicKey)||typeof X.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${ie.host} wants you to sign in with your Solana account:`,X.publicKey.toBase58(),...K?["",K,""]:[""],"Version: 1",`URI: ${ie.href}`,`Issued At: ${(c=(i=U?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=U?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((f=U?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((m=U?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((g=U?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((y=U?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((T=(_=U?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||T===void 0)&&T.length?["Resources",...U.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const ee=await X.signMessage(new TextEncoder().encode(j),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=ee}}try{const{data:R,error:z}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Ua(N)},!((b=a.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=a.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:an});if(z)throw z;if(!R||!R.session||!R.user){const K=new Sr;return this._returnResult({data:{user:null,session:null},error:K})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:z})}catch(R){if(oe(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(a){const s=await Na(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(s??"").split("/");try{const{data:d,error:f}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:i},xform:an});if(await oa(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const m=new Sr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(oe(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(a){try{const{options:s,provider:i,token:c,access_token:d,nonce:f}=a,m=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:an}),{data:g,error:y}=m;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g||!g.session||!g.user){const _=new Sr;return this._returnResult({data:{user:null,session:null},error:_})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:y})}catch(s){if(oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(a){var s,i,c,d,f;try{if("email"in a){const{email:m,options:g}=a;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await xr(this.storage,this.storageKey));const{error:T}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(i=g?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:_},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:T})}if("phone"in a){const{phone:m,options:g}=a,{data:y,error:_}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=g?.data)!==null&&c!==void 0?c:{},create_user:(d=g?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:_})}throw new ul("You must provide either an email or phone number.")}catch(m){if(oe(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var s,i;try{let c,d;"options"in a&&(c=(s=a.options)===null||s===void 0?void 0:s.redirectTo,d=(i=a.options)===null||i===void 0?void 0:i.captchaToken);const{data:f,error:m}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:an});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,y=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(oe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var s,i,c,d,f;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await xr(this.storage,this.storageKey));const y=await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(i=(s=a.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:jb});return!((d=y.data)===null||d===void 0)&&d.url&&pt()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(m){if(oe(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)throw i;if(!s)throw new qt;const{error:c}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const s=`${this.url}/resend`;if("email"in a){const{email:i,type:c,options:d}=a,{error:f}=await ge(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:i,type:c,options:d}=a,{data:f,error:m}=await ge(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new ul("You must provide either an email or phone number and a type")}catch(s){if(oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(a,s){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await a(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const s=await Na(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?a=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const i=a.expires_at?a.expires_at*1e3-Date.now()<Ku:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",a.expires_at),!i){if(this.userStorage){const f=await Na(this.userStorage,this.storageKey+"-user");f?.user?a.user=f.user:a.user=Ju()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=Sb(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:ua}):await this._useSession(async s=>{var i,c,d;const{data:f,error:m}=s;if(m)throw m;return!(!((i=f.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qt}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:ua})})}catch(s){if(oe(s))return eb(s)&&(await this._removeSession(),await oa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(a,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,s))}async _updateUser(a,s={}){try{return await this._useSession(async i=>{const{data:c,error:d}=i;if(d)throw d;if(!c.session)throw new qt;const f=c.session;let m=null,g=null;this.flowType==="pkce"&&a.email!=null&&([m,g]=await xr(this.storage,this.storageKey));const{data:y,error:_}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:g}),jwt:f.access_token,xform:ua});if(_)throw _;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(i){if(oe(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new qt;const s=Date.now()/1e3;let i=s,c=!0,d=null;const{payload:f}=Qu(a.access_token);if(f.exp&&(i=f.exp,c=i<=s),c){const{data:m,error:g}=await this._callRefreshToken(a.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:g}=await this._getUser(a.access_token);if(g)throw g;d={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(s){if(oe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async s=>{var i;if(!a){const{data:f,error:m}=s;if(m)throw m;a=(i=f.session)!==null&&i!==void 0?i:void 0}if(!a?.refresh_token)throw new qt;const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(a,s){try{if(!pt())throw new cl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new cl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Y0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cl("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Y0("No code detected.");const{data:K,error:U}=await this._exchangeCodeForSession(a.code);if(U)throw U;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:K.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:m,expires_at:g,token_type:y}=a;if(!d||!m||!f||!y)throw new cl("No session defined in URL");const _=Math.round(Date.now()/1e3),T=parseInt(m);let b=_+T;g&&(b=parseInt(g));const S=b-_;S*1e3<=Or&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${T}s`);const j=b-T;_-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,b,_):_-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,b,_);const{data:N,error:R}=await this._getUser(d);if(R)throw R;const z={provider_token:i,provider_refresh_token:c,access_token:d,expires_in:T,expires_at:b,refresh_token:f,token_type:y,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:z,redirectType:a.type},error:null})}catch(i){if(oe(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const s=await Na(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&s)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:c,error:d}=s;if(d)return this._returnResult({error:d});const f=(i=c.session)===null||i===void 0?void 0:i.access_token;if(f){const{error:m}=await this.admin.signOut(f,a);if(m&&!(Fp(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await oa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const s=ob(),i={id:s,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(a){return await this._useSession(async s=>{var i,c;try{const{data:{session:d},error:f}=s;if(f)throw f;await((i=this.stateChangeEmitters.get(a))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",d),console.error(d)}})}async resetPasswordForEmail(a,s={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await xr(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if(oe(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var a;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(a=s.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var s;try{const{data:i,error:c}=await this._useSession(async d=>{var f,m,g,y,_;const{data:T,error:b}=d;if(b)throw b;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=a.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",S,{headers:this.headers,jwt:(_=(y=T.session)===null||y===void 0?void 0:y.access_token)!==null&&_!==void 0?_:void 0})});if(c)throw c;return pt()&&!(!((s=a.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:a.provider,url:i?.url},error:null})}catch(i){if(oe(i))return this._returnResult({data:{provider:a.provider,url:null},error:i});throw i}}async linkIdentityIdToken(a){return await this._useSession(async s=>{var i;try{const{error:c,data:{session:d}}=s;if(c)throw c;const{options:f,provider:m,token:g,access_token:y,nonce:_}=a,T=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=d?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:m,id_token:g,access_token:y,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:an}),{data:b,error:S}=T;return S?this._returnResult({data:{user:null,session:null},error:S}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Sr}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:S}))}catch(c){if(oe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async s=>{var i,c;const{data:d,error:f}=s;if(f)throw f;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(i=d.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(a){const s=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await fb(async c=>(c>0&&await db(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:an})),(c,d)=>{const f=200*Math.pow(2,c);return d&&Xu(d)&&Date.now()+f-i<Or})}catch(i){if(this._debug(s,"error",i),oe(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(s,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",s,"url",i),pt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:a,url:i},error:null}}async _recoverAndRefresh(){var a,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await Na(this.storage,this.storageKey);if(c&&this.userStorage){let f=await Na(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await Ar(this.userStorage,this.storageKey+"-user",f)),c.user=(a=f?.user)!==null&&a!==void 0?a:Ju()}else if(c&&!c.user&&!c.user){const f=await Na(this.storage,this.storageKey+"-user");f&&f?.user?(c.user=f.user,await oa(this.storage,this.storageKey+"-user"),await Ar(this.storage,this.storageKey,c)):c.user=Ju()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const d=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ku;if(this._debug(i,`session has${d?"":" not"} expired with margin of ${Ku}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),Xu(f)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(c.access_token);!m&&f?.user?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(i,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(a){var s,i;if(!a)throw new qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new pl;const{data:d,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!d.session)throw new qt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),oe(d)){const f={data:null,error:d};return Xu(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,s,i=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:a,session:s});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,s)}catch(g){d.push(g)}});if(await Promise.all(f),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;const s=Object.assign({},a),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Ar(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const d=I0(c);await Ar(this.storage,this.storageKey,d)}else{const c=I0(s);await Ar(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await oa(this.storage,this.storageKey),await oa(this.storage,this.storageKey+"-code-verifier"),await oa(this.storage,this.storageKey+"-user"),this.userStorage&&await oa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&pt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Or);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-a)/Or);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Or}ms, refresh threshold is ${lc} ticks`),c<=lc&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Jg)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const s=`#_onVisibilityChanged(${a})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,s,i){const c=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[d,f]=await xr(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(m.toString())}if(i?.queryParams){const d=new URLSearchParams(i.queryParams);c.push(d.toString())}return i?.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async s=>{var i;const{data:c,error:d}=s;return d?this._returnResult({data:null,error:d}):await ge(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(a){try{return await this._useSession(async s=>{var i,c;const{data:d,error:f}=s;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:g,error:y}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=d?.session)===null||i===void 0?void 0:i.access_token});return y?this._returnResult({data:null,error:y}):(a.factorType==="totp"&&g.type==="totp"&&(!((c=g?.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Gb(a.webauthn.credential_response):Vb(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:g}=await ge(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=await ge(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Hb(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:$b(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(a){const{data:s,error:i}=await this._challenge({factorId:a.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:a.factorId,challengeId:s.id,code:a.code})}async _listFactors(){var a;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(a=s?.factors)!==null&&a!==void 0?a:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var a,s;const{data:{session:i},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Qu(i.access_token);let f=null;d.aal&&(f=d.aal);let m=f;((s=(a=i.user.factors)===null||a===void 0?void 0:a.filter(_=>_.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const y=d.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async s=>{const{data:{session:i},error:c}=s;return c?this._returnResult({data:null,error:c}):i?await ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:i.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new qt})})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(a,s){try{return await this._useSession(async i=>{const{data:{session:c},error:d}=i;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new qt});const f=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&pt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(a,s){try{return await this._useSession(async i=>{const{data:{session:c},error:d}=i;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new qt});const f=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&pt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;return i?this._returnResult({data:null,error:i}):s?await ge(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new qt})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async s=>{const{data:{session:i},error:c}=s;return c?this._returnResult({data:null,error:c}):i?(await ge(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qt})})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(a,s={keys:[]}){let i=s.keys.find(m=>m.kid===a);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(m=>m.kid===a),i&&this.jwks_cached_at+Pp>c)return i;const{data:d,error:f}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,i=d.keys.find(m=>m.kid===a),!i)?null:i}async getClaims(a,s={}){try{let i=a;if(!i){const{data:S,error:j}=await this.getSession();if(j||!S.session)return this._returnResult({data:null,error:j});i=S.session.access_token}const{header:c,payload:d,signature:f,raw:{header:m,payload:g}}=Qu(i);s?.allowExpired||bb(d.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!y){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:d,header:c,signature:f},error:null}}const _=_b(c.alg),T=await crypto.subtle.importKey("jwk",y,_,!0,["verify"]);if(!await crypto.subtle.verify(_,T,f,ib(`${m}.${g}`)))throw new cc("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}}Ls.nextInstanceID={};const Wb=Ls;class Fb extends Wb{constructor(a){super(a)}}class e_{constructor(a,s,i){var c,d,f;this.supabaseUrl=a,this.supabaseKey=s;const m=Xp(a);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:qp,realtime:Hp,auth:Object.assign(Object.assign({},Lp),{storageKey:g}),global:Bp},_=Kp(i??{},y);this.storageKey=(c=_.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=_.global.headers)!==null&&d!==void 0?d:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(T,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=_.auth)!==null&&f!==void 0?f:{},this.headers,_.global.fetch),this.fetch=Vp(s,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.accessToken&&this.accessToken().then(T=>this.realtime.setAuth(T)).catch(T=>console.warn("Failed to set initial Realtime auth token:",T)),this.rest=new Hv(new URL("rest/v1",m).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new Up(this.storageUrl.href,this.headers,this.fetch,i?.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new Mv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,s={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,s,i)}channel(a,s={config:{}}){return this.realtime.channel(a,s)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a,s;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:s,detectSessionInUrl:i,storage:c,userStorage:d,storageKey:f,flowType:m,lock:g,debug:y,throwOnError:_},T,b){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fb({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),T),storageKey:f,autoRefreshToken:a,persistSession:s,detectSessionInUrl:i,storage:c,userStorage:d,flowType:m,lock:g,debug:y,throwOnError:_,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new ap(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i?.access_token)})}_handleTokenChanged(a,s,i){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const t_=(l,a,s)=>new e_(l,a,s);function n_(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const a=l.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}n_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const a_="https://zopwfborahwrerymgrqz.supabase.co",r_="sb_publishable_SfFwIKtYRd78SBrOUOYnLw_-qe5Z0C5",lt=t_(a_,r_),s_=({message:l,type:a="success",onClose:s})=>{Z.useEffect(()=>{const c=setTimeout(s,3e3);return()=>clearTimeout(c)},[s]);const i=a==="error";return p.jsxs("div",{className:"fixed bottom-6 right-6 bg-gray-800 text-white px-6 py-4 rounded shadow-lg z-50 flex items-center gap-3 toast-enter",children:[p.jsx("i",{className:`fas ${i?"fa-exclamation-circle text-red-400":"fa-check-circle text-green-400"} text-xl`}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-sm capitalize",children:a}),p.jsx("p",{className:"text-xs text-gray-300",children:l})]}),p.jsx("button",{onClick:s,className:"ml-4 text-gray-400 hover:text-white",children:p.jsx("i",{className:"fas fa-times"})})]})},Pg=Z.createContext(null),i_=({children:l})=>{const[a,s]=Z.useState(null),i=Z.useCallback((d,f="info")=>{s({message:d,type:f}),setTimeout(()=>{s(null)},3e3)},[]),c=Z.useCallback(()=>{s(null)},[]);return p.jsxs(Pg.Provider,{value:{showToast:i,hideToast:c},children:[l,a&&p.jsx(s_,{message:a.message,type:a.type,onClose:c})]})},bl=()=>{const l=Z.useContext(Pg);if(!l)throw new Error("useToast must be used within a ToastProvider");return l},Wg=Z.createContext(),l_=({children:l})=>{const[a,s]=Z.useState(()=>localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));Z.useEffect(()=>{const c=window.document.documentElement;a==="dark"?c.classList.add("dark"):c.classList.remove("dark"),localStorage.setItem("theme",a)},[a]);const i=()=>{s(c=>c==="dark"?"light":"dark")};return p.jsx(Wg.Provider,{value:{theme:a,toggleTheme:i},children:l})},o_=()=>Z.useContext(Wg),Fg="/MMI-LIMS/assets/ktu_mmi-CrP3ebcy.svg",u_=()=>{const[l,a]=Z.useState(!1),[s,i]=Z.useState(""),[c,d]=Z.useState(""),[f,m]=Z.useState(""),[g,y]=Z.useState(""),[_,T]=Z.useState(""),[b,S]=Z.useState(!1),{showToast:j}=bl(),N=async R=>{R.preventDefault(),a(!0);try{if(b){const{error:z}=await lt.auth.signUp({email:s,password:c,options:{data:{first_name:f,last_name:g,job_title:_,access_level:"user"}}});if(z)throw z;j("Registration successful! Please wait for admin approval.","success")}else{const{error:z}=await lt.auth.signInWithPassword({email:s,password:c});if(z)throw z}}catch(z){j(z.message,"error")}finally{a(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 to-blue-700 p-4",children:p.jsxs("div",{className:"bg-white/95 backdrop-blur-sm p-8 rounded-2xl shadow-2xl w-full max-w-md border border-white/20",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"bg-white p-4 rounded-full w-24 h-24 mx-auto mb-4 flex items-center justify-center shadow-md",children:p.jsx("img",{src:Fg,alt:"KTU MMI Logo",className:"h-12 w-auto"})}),p.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"MMI-LIMS"}),p.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Institute of Materials Science"})]}),p.jsxs("form",{onSubmit:N,className:"space-y-5",children:[b&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),p.jsx("input",{type:"text",required:!0,value:f,onChange:R=>m(R.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:"John"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),p.jsx("input",{type:"text",required:!0,value:g,onChange:R=>y(R.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:"Doe"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Title"}),p.jsx("input",{type:"text",required:!0,value:_,onChange:R=>T(R.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:"Researcher"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),p.jsx("input",{type:"email",required:!0,value:s,onChange:R=>i(R.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:"name@example.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),p.jsx("input",{type:"password",required:!0,value:c,onChange:R=>d(R.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:""})]}),p.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-900 to-blue-800 text-white font-semibold rounded-lg shadow-md hover:from-blue-800 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform transition-all active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed mt-6",children:l?p.jsxs("span",{className:"flex items-center justify-center",children:[p.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):b?"Create Account":"Sign In"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("button",{onClick:()=>S(!b),className:"text-sm text-blue-700 hover:text-blue-900 font-medium transition-colors",children:b?"Already have an account? Sign In":"Need an account? Sign Up"})}),p.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 text-center",children:p.jsx("p",{className:"text-xs text-gray-400",children:"Protected by Supabase Auth"})})]})})},c_=l=>{const[a,s]=l.split(":").map(Number);return a*60+s},dc=l=>{let a=Math.floor(l/60),s=Math.round(l%60);return s===60&&(a+=1,s=0),`${a.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`},ng=(l,a=30)=>Math.round(l/a)*a,Rr=l=>{const a=c_(l);return dc(a+30)},_l=l=>{if(!l.length)return[];const a=g=>g.slice(0,5),s=[],i=[];l.forEach(g=>{g.end_time||g.endTime?s.push({...g,startTime:a(g.time||g.startTime),endTime:a(g.end_time||g.endTime),ids:[g.id]}):i.push(g)});const c=[...i].sort((g,y)=>g.date!==y.date?g.date.localeCompare(y.date):g.tool_id!==y.tool_id?g.tool_id-y.tool_id:a(g.time).localeCompare(a(y.time))),d=[];let f=null;return c.forEach(g=>{const y=a(g.time);if(!f){f={...g,ids:[g.id],endTime:Rr(y),startTime:y};return}const _=g.date===f.date,T=g.tool_id===f.tool_id,b=g.user_id===f.user_id,S=g.project===f.project,j=g.created_at===f.created_at,N=y===f.endTime;_&&T&&b&&S&&j&&N?(f.ids.push(g.id),f.endTime=Rr(y)):(d.push(f),f={...g,ids:[g.id],endTime:Rr(y),startTime:y})}),f&&d.push(f),[...s,...d].sort((g,y)=>g.date!==y.date?g.date.localeCompare(y.date):a(g.startTime).localeCompare(a(y.startTime)))},em=(l,a,s=[])=>{const i=f=>{const[m,g]=f.split(":").map(Number);return m*60+g},c=i(l.startTime||l.time),d=i(l.endTime||l.end_time);return a.some(f=>{if(s.includes(f.id)||f.date!==l.date||f.tool_id!==l.tool_id)return!1;let m,g;const y=f.endTime||f.end_time;return y?(m=i(f.startTime||f.time),g=i(y)):(m=i(f.time),g=m+30),c<g&&d>m})},tm=l=>{if(!l.length)return[];const a=d=>{const[f,m]=d.split(":").map(Number);return f*60+m},s=[...l].sort((d,f)=>{const m=a(d.startTime),g=a(f.startTime);if(m!==g)return m-g;const y=a(d.endTime);return a(f.endTime)-y}),i=[];s.forEach(d=>{const f=a(d.startTime);a(d.endTime);let m=!1;for(let g=0;g<i.length;g++){const y=i[g][i[g].length-1],_=a(y.endTime);if(f>=_){i[g].push(d),d.colIndex=g,m=!0;break}}m||(i.push([d]),d.colIndex=i.length-1)});const c=i.length;return s.map(d=>({...d,width:100/c,left:d.colIndex*(100/c)}))},nm=({status:l})=>{const a={up:{color:"bg-green-500",text:"Available"},down:{color:"bg-red-500",text:"Down"},service:{color:"bg-yellow-500",text:"Service"}},s=a[l]||a.up;return p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:`status-dot ${s.color}`}),p.jsx("span",{className:"text-sm capitalize text-gray-700",children:l})]})},Pt=48,Zu=0,d_=({weekDates:l,existingBookings:a,user:s,isAdmin:i,isAdminOverride:c,onInteractionEnd:d,showToast:f})=>{const[m,g]=Z.useState(null),y=Z.useRef(null),_=b=>{try{return b.toISOString().split("T")[0]}catch{return""}},T=(b,S,j)=>{b.stopPropagation();const N=S.user_id===s.id;if(!i&&!N){f("You can only edit your own bookings.","error");return}const R=new Date,z=new Date(`${S.date}T${S.startTime}`),K=new Date(`${S.date}T${S.endTime}`);if(K<R&&!c){f("Cannot modify past bookings.","error");return}if(z<=R&&K>R){if(j==="move"&&!c){f("Cannot move an in-progress booking. Only duration can be adjusted.","error");return}if(j==="resize-top"){f("Cannot change start time of an in-progress booking.","error");return}}const X=b.currentTarget.parentElement.getBoundingClientRect(),ie=parseInt(S.startTime.split(":")[0]),ee=parseInt(S.startTime.split(":")[1]),J=parseInt(S.endTime.split(":")[0]),P=parseInt(S.endTime.split(":")[1]),me=(ie-Zu)*60+ee,We=(J-Zu)*60+P-me,De=me/30*Pt,Me=We/30*Pt,tt=b.type.includes("touch")?b.touches[0].clientX:b.clientX,Qe=b.type.includes("touch")?b.touches[0].clientY:b.clientY,B={type:j,bookingId:S.ids[0],originalBooking:S,startY:Qe,startX:tt,initialTop:De,initialHeight:Me,currentTop:De,currentHeight:Me,currentDate:S.date,dayWidth:X.width,isValid:!0,hasMoved:!1};y.current=B,b.type.includes("touch")&&g(B)};return Z.useEffect(()=>{const b=j=>{if(!y.current)return;const N=y.current;let R,z;if(j.type==="touchmove"?(j.cancelable&&j.preventDefault(),R=j.touches[0].clientX,z=j.touches[0].clientY):(R=j.clientX,z=j.clientY),!N.hasMoved){if(Math.sqrt(Math.pow(R-N.startX,2)+Math.pow(z-N.startY,2))<5)return;N.hasMoved=!0,g(N)}const K=z-N.startY,U=R-N.startX,X=Math.round(K/Pt)*Pt;let ie=0;N.type==="move"&&(ie=Math.round(U/N.dayWidth));let ee=N.initialTop,J=N.initialHeight,P=N.currentDate,me=N.initialTop,Ae=N.initialHeight;if(N.type==="move"){ee+=X,me=ee;const F=l.findIndex(ce=>_(ce)===N.originalBooking.date)+ie;F>=0&&F<7&&(P=_(l[F]))}else N.type==="resize-bottom"?(J+=X,Ae=J):N.type==="resize-top"&&(ee+=X,J-=X,me=ee,Ae=J);if(J<Pt){const I=Pt-J;J=Pt,N.type==="resize-top"&&(ee-=I)}if(Ae<Pt){const I=Pt-Ae;Ae=Pt,N.type==="resize-top"&&(me-=I)}const We=ee/Pt*30,De=J/Pt*30,Me=ng(Zu*60+We),tt=ng(Me+De),Qe=dc(Me),B=dc(tt),Y=new Date,ae=new Date(`${P}T${Qe}`),we=Me>=0&&tt<=1440,_e=new Date(`${N.originalBooking.date}T${N.originalBooking.startTime}`)<=Y&&new Date(`${N.originalBooking.date}T${N.originalBooking.endTime}`)>Y,x=_e||c?!0:ae>=Y,A=!_e||c||new Date(`${P}T${B}`)>Y;let G=we&&x&&A;if(G){const I={date:P,startTime:Qe,endTime:B,tool_id:N.originalBooking.tool_id},F=N.originalBooking.ids||[N.originalBooking.id];em(I,a,F)&&(G=!1,console.log("Validation failed: Collision detected",{tempBooking:I,ignoredIds:F}))}else console.log("Validation failed:",{isValidTime:we,isFuture:x,isEndTimeValid:A,newDate:P,newStartTime:Qe,now:Y.toISOString(),startDateTime:ae.toISOString()});const V={...N,currentTop:N.type==="move"||N.type==="resize-top"?me:N.initialTop,currentHeight:Ae,currentDate:P,isValid:G,newStartTime:Qe,newEndTime:B};y.current=V,g(V)},S=()=>{if(!y.current)return;const j=y.current;if(j.hasMoved&&j.isValid){const N={...j.originalBooking,date:j.currentDate,startTime:j.newStartTime,endTime:j.newEndTime,time:j.newStartTime,end_time:j.newEndTime};d(N)}j.hasMoved?setTimeout(()=>{g(null),y.current=null},100):(g(null),y.current=null)};return window.addEventListener("mousemove",b),window.addEventListener("mouseup",S),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",S),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",S),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",S)}},[l,a,d,f]),{interaction:m,startInteraction:T}},f_=({tool:l,user:a,profile:s,onClose:i,onConfirm:c,onUpdate:d,onCancel:f,existingBookings:m=[],initialDate:g,initialBooking:y=null,isAdminOverride:_=!1})=>{const[T,b]=Z.useState(()=>{const $=g?new Date(g):new Date,Q=$.getDay(),re=$.getDate()-Q+(Q===0?-6:1),fe=new Date($);return fe.setDate(re),fe}),[S,j]=Z.useState([]),[N,R]=Z.useState(!1),[z,K]=Z.useState(y||null),[U,X]=Z.useState(y?y.project:"General"),ie=Z.useRef(null),[ee,J]=Z.useState(!1),P=Z.useRef(null),me=Z.useRef(null),[Ae,We]=Z.useState(new Date);Z.useEffect(()=>{const $=setInterval(()=>We(new Date),6e4);return()=>clearInterval($)},[]);const{showToast:De}=bl(),Me=s?.access_level==="admin",tt=Array.isArray(s?.licenses)?s.licenses.includes(l.id):!1,Qe=l.status==="up",B=Me||tt&&Qe||_,Y=Z.useMemo(()=>{const $=[];try{for(let Q=0;Q<7;Q++){const re=new Date(T);re.setDate(T.getDate()+Q),$.push(re)}}catch(Q){console.error("Error generating week dates",Q)}return $},[T]),ae=Z.useMemo(()=>{const $=[];for(let Q=0;Q<24;Q++){const re=Q<10?"0"+Q:Q;$.push(`${re}:00`),$.push(`${re}:30`)}return $},[]),we=48,_e=0;Z.useEffect(()=>{if(ie.current){let $=9,Q=0;if(y){const le=y.time||y.startTime;if(le){const[W,Ie]=le.split(":").map(Number);$=W,Q=Ie}}const re=$-_e,fe=Q,ve=(re*60+fe)/30*we;ie.current.scrollTop=ve}},[]);const x=$=>{try{return $.toISOString().split("T")[0]}catch{return""}},A=$=>{try{return $.toLocaleDateString("en-US",{weekday:"short",month:"numeric",day:"numeric"})}catch{return"Invalid Date"}},G=$=>{const[Q,re]=$.split(":").map(Number);return Q*60+re},V=($,Q)=>{const re=new Date,fe=new Date(`${$}T${Q}`),he=new Date(re),le=re.getMinutes()<30?0:30;return he.setMinutes(le,0,0),fe<he},I=($,Q)=>{const re=G(Q),fe=re+30;return m.some(he=>{if(he.date!==$||he.tool_id!==l.id)return!1;const ve=G(he.startTime||he.time);let le;const W=he.endTime||he.end_time;return W?le=G(W):le=ve+30,re<le&&fe>ve})},F=()=>{const $=Ae.getHours(),Q=Ae.getMinutes();return(($-_e)*60+Q)/30*we},ce=$=>{const Q=new Date;return $.getDate()===Q.getDate()&&$.getMonth()===Q.getMonth()&&$.getFullYear()===Q.getFullYear()},Te=Z.useMemo(()=>{if(!z)return m;const $=z.ids||[z.id],Q=$[0];return Q?m.map(fe=>fe.id===Q?z:$.includes(fe.id)?null:fe).filter(Boolean):m},[m,z]),Ce=Z.useMemo(()=>{const $=Te.filter(Q=>Q.tool_id===l.id);return _l($)},[Te,l.id]),{interaction:$e,startInteraction:ln}=d_({weekDates:Y,existingBookings:Te,user:a,isAdmin:Me,isAdminOverride:_,onInteractionEnd:$=>{console.log("onInteractionEnd called with:",$),K($)},showToast:De}),Un=$=>{const Q=parseInt($.startTime.split(":")[0]),re=parseInt($.startTime.split(":")[1]),fe=parseInt($.endTime.split(":")[0]),he=parseInt($.endTime.split(":")[1]),ve=(Q-_e)*60+re,W=(fe-_e)*60+he-ve,Ie=ve/30*we,St=W/30*we;return{top:`${Ie}px`,height:`${St-1}px`,left:$.left!==void 0?`${$.left}%`:"2px",width:$.width!==void 0?`${$.width}%`:"calc(100% - 4px)",position:"absolute",zIndex:10}},hn=($,Q)=>{if($.stopPropagation(),$e){console.log("handleBookingClick blocked by interaction");return}console.log("handleBookingClick fired",Q);const re=Q.user_id===a.id;if(!Me&&!re)return;const fe=Q.ids[0],he={...Q,id:fe};K(he),X(Q.project),j([])},wt=()=>{K(null)},Wt=($,Q)=>{$.stopPropagation(),f&&Q&&Q.ids&&(f(Q.ids),K(null))},Ur=($,Q)=>{if(K(null),!B)return;const re=ae[Q];if(I($,re))return;if(V($,re)&&!_){De("Cannot book in the past.","error");return}J(!0);const fe=Y.findIndex(ve=>x(ve)===$),he={startDIndex:fe,startTIndex:Q,currentDIndex:fe,currentTIndex:Q};P.current=he,zn(he)},wl=($,Q)=>{if(ee&&P.current){const re=Y.findIndex(fe=>x(fe)===$);P.current.currentDIndex=re,P.current.currentTIndex=Q,zn(P.current)}},zn=$=>{const Q=Math.min($.startDIndex,$.currentDIndex),re=Math.max($.startDIndex,$.currentDIndex),fe=Math.min($.startTIndex,$.currentTIndex),he=Math.max($.startTIndex,$.currentTIndex),ve=[];for(let le=Q;le<=re;le++)for(let W=fe;W<=he;W++){const Ie=x(Y[le]),St=ae[W];!I(Ie,St)&&(_||!V(Ie,St))&&ve.push({date:Ie,time:St})}j(ve)};Z.useEffect(()=>{if(!ee)return;const $=re=>{re.cancelable&&re.preventDefault();const fe=re.touches[0],he=document.elementFromPoint(fe.clientX,fe.clientY);if(he&&he.dataset.date&&he.dataset.timeindex){const ve=he.dataset.date,le=parseInt(he.dataset.timeindex,10),W=Y.findIndex(Ie=>x(Ie)===ve);W!==-1&&P.current&&(W!==P.current.currentDIndex||le!==P.current.currentTIndex)&&(P.current.currentDIndex=W,P.current.currentTIndex=le,zn(P.current))}},Q=()=>{J(!1),P.current=null};return window.addEventListener("touchmove",$,{passive:!1}),window.addEventListener("touchend",Q),window.addEventListener("mouseup",Q),()=>{window.removeEventListener("touchmove",$),window.removeEventListener("touchend",Q),window.removeEventListener("mouseup",Q)}},[ee,Y]);const zr=($,Q,re)=>{$.persist(),me.current=setTimeout(()=>{if(K(null),!B)return;const fe=ae[re];if(I(Q,fe))return;if(V(Q,fe)&&!_){De("Cannot book in the past.","error");return}J(!0);const he=Y.findIndex(le=>x(le)===Q),ve={startDIndex:he,startTIndex:re,currentDIndex:he,currentTIndex:re};P.current=ve,zn(ve),navigator.vibrate&&navigator.vibrate(50)},500)},Mr=$=>{!ee&&me.current&&(clearTimeout(me.current),me.current=null)},Br=()=>{me.current&&(clearTimeout(me.current),me.current=null)};Z.useEffect(()=>{if(!ee)return;const $=re=>{re.cancelable&&re.preventDefault();const fe=re.touches[0],he=document.elementFromPoint(fe.clientX,fe.clientY);if(he&&he.dataset.date&&he.dataset.timeindex){const ve=he.dataset.date,le=parseInt(he.dataset.timeindex,10),W=Y.findIndex(Ie=>x(Ie)===ve);W!==-1&&P.current&&(W!==P.current.currentDIndex||le!==P.current.currentTIndex)&&(P.current.currentDIndex=W,P.current.currentTIndex=le,zn(P.current))}},Q=()=>{J(!1),P.current=null};return window.addEventListener("touchmove",$,{passive:!1}),window.addEventListener("touchend",Q),()=>{window.removeEventListener("touchmove",$),window.removeEventListener("touchend",Q)}},[ee,Y]);const gn=Z.useRef(null),qr=($,Q,re)=>{$.stopPropagation();const fe=$.currentTarget,he=$.touches[0],ve=he.clientX,le=he.clientY;gn.current={x:ve,y:le},me.current=setTimeout(()=>{const W=Q.user_id===a.id;if(!Me&&!W)return;ln({stopPropagation:()=>{},currentTarget:fe,type:"touchstart",touches:[{clientX:ve,clientY:le}]},Q,re),me.current=null,navigator.vibrate&&navigator.vibrate(50)},500)},ft=$=>{if(me.current&&gn.current){if(!$.cancelable){clearTimeout(me.current),me.current=null,gn.current=null;return}const Q=$.touches[0],re=Q.clientX,fe=Q.clientY,he=Math.abs(re-gn.current.x),ve=Math.abs(fe-gn.current.y);(he>5||ve>5)&&(clearTimeout(me.current),me.current=null,gn.current=null)}},Lr=()=>{me.current&&(clearTimeout(me.current),me.current=null),gn.current=null},$s=()=>{const $=new Date(T);$.setDate($.getDate()-7),b($),j([])},Gs=()=>{const $=new Date(T);$.setDate($.getDate()+7),b($),j([])},za=async()=>{if(z){R(!0);const le=z.ids||[z.id],W={...z,project:U};await d(le,W),R(!1),K(null);return}if(S.length===0){De("Please select at least one time slot.","error");return}R(!0);const $=new Date().toISOString(),Q=[...S].sort((le,W)=>le.date!==W.date?le.date.localeCompare(W.date):le.time.localeCompare(W.time)),re=[];let fe=null;Q.forEach(le=>{if(!fe){fe={date:le.date,startTime:le.time,endTime:Rr(le.time)};return}const W=le.date===fe.date,Ie=le.time===fe.endTime;W&&Ie?fe.endTime=Rr(le.time):(re.push(fe),fe={date:le.date,startTime:le.time,endTime:Rr(le.time)})}),fe&&re.push(fe);const he=re.map(le=>({tool_id:l.id,tool_name:l.name,user_id:a.id,user_name:s?`${s.first_name} ${s.last_name}`:a.email,project:U,date:le.date,time:le.startTime,end_time:le.endTime,created_at:$}));if(he.some(le=>em(le,m))){De("One or more selected slots are already booked.","error"),R(!1);return}await c(he),R(!1),j([])};return p.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-5xl h-[90vh] flex flex-col overflow-hidden m-4 transition-colors border dark:border-gray-700",onClick:()=>K(null),children:[p.jsxs("div",{className:"bg-blue-900 dark:bg-blue-950 text-white p-4 flex justify-between items-center shrink-0 transition-colors",children:[p.jsxs("h2",{className:"text-xl font-bold",children:[p.jsx("i",{className:"fas fa-calendar-alt mr-2"}),"Weekly Schedule"]}),p.jsx("button",{onClick:i,className:"hover:text-gray-300 transition-colors",children:p.jsx("i",{className:"fas fa-times text-xl"})})]}),p.jsxs("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex flex-col sm:flex-row justify-between items-center shrink-0 gap-4 sm:gap-0 transition-colors",children:[p.jsxs("div",{className:"text-center sm:text-left",children:[p.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-gray-200 transition-colors",children:l.name}),p.jsxs("div",{className:"flex gap-2 text-sm mt-1 justify-center sm:justify-start",children:[p.jsx(nm,{status:l.status}),tt?p.jsx("span",{className:"text-green-700 bg-green-100 px-2 rounded font-bold",children:"Licensed"}):p.jsx("span",{className:"text-red-700 bg-red-100 px-2 rounded font-bold",children:"No License"})]})]}),p.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 w-full sm:w-auto justify-between sm:justify-end",children:[p.jsx("button",{onClick:$s,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 rounded transition-colors",children:p.jsx("i",{className:"fas fa-chevron-left"})}),p.jsxs("div",{className:"font-bold text-gray-700 dark:text-gray-300 w-full sm:w-48 text-center text-sm sm:text-base transition-colors",children:[Y[0].toLocaleDateString()," - ",Y[6].toLocaleDateString()]}),p.jsx("button",{onClick:Gs,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 rounded transition-colors",children:p.jsx("i",{className:"fas fa-chevron-right"})})]})]}),!B&&p.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800 p-2 text-center text-red-700 dark:text-red-400 text-sm font-bold shrink-0 transition-colors",children:Qe?"You do not have a license for this tool.":"Tool is currently down for maintenance."}),p.jsx("div",{ref:ie,className:"flex-1 overflow-auto custom-scroll relative select-none",children:p.jsxs("div",{className:"min-w-[800px] flex",children:[p.jsxs("div",{className:"w-[50px] shrink-0 bg-gray-50 dark:bg-gray-900 border-r dark:border-gray-700 sticky left-0 z-30 transition-colors",children:[p.jsx("div",{className:"h-10 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900 transition-colors"}),ae.map($=>p.jsx("div",{className:"h-12 border-b dark:border-gray-700 text-right pr-2 text-xs text-gray-500 dark:text-gray-400 font-mono flex items-center justify-end transition-colors",children:$},$))]}),p.jsx("div",{className:"flex-1 flex",children:Y.map(($,Q)=>{const re=x($),fe=Ce.filter(W=>W.date===re),he=tm(fe),ve=$e&&$e.currentDate===re,le=$e&&$e.originalBooking;return p.jsxs("div",{className:"flex-1 min-w-[100px] border-r dark:border-gray-700 last:border-0 relative transition-colors",children:[p.jsx("div",{className:"h-10 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-center font-semibold text-gray-700 dark:text-gray-300 text-sm flex items-center justify-center sticky top-0 z-20 transition-colors",children:A($)}),p.jsxs("div",{className:"relative",children:[ae.map((W,Ie)=>{const St=S.some(Ft=>Ft.date===re&&Ft.time===W),Mn=V(re,W);return p.jsx("div",{"data-date":re,"data-timeindex":Ie,className:`h-12 border-b dark:border-gray-700 ${St?"bg-blue-200 dark:bg-blue-800":""} ${Mn?"bg-gray-200 dark:bg-black/40 cursor-not-allowed":""} transition-colors`,onMouseDown:()=>Ur(re,Ie),onMouseEnter:()=>wl(re,Ie),onTouchStart:Ft=>zr(Ft,re,Ie),onTouchMove:Mr,onTouchEnd:Br},W)}),ce($)&&p.jsx("div",{className:"absolute w-full border-b-2 border-red-500 z-40 pointer-events-none",style:{top:`${F()}px`},children:p.jsx("div",{className:"absolute -left-1 -top-[4px] w-2 h-2 bg-red-500 rounded-full"})}),he.map(W=>{if($e&&$e.bookingId===W.ids[0])return null;const St=W.user_id===a.id,Mn=Me||St,Ft=new Date,Bn=new Date(`${W.date}T${W.startTime}`)<=Ft,on=Mn&&(!Bn||_),Ma=Mn&&(!Bn||_);return p.jsxs("div",{className:`absolute border rounded p-1 text-xs overflow-hidden transition-all group 
                                                            ${St?"bg-blue-100 dark:bg-blue-900/60 border-blue-300 dark:border-blue-700":"bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600"}
                                                            ${Mn?"hover:z-10 hover:shadow-md cursor-pointer":""}
                                                            ${z&&z.id===W.ids[0]?"ring-2 ring-blue-500 z-20":""}
                                                            `,style:Un(W),onMouseDown:Ve=>on&&ln(Ve,W,"move"),onTouchStart:Ve=>on&&qr(Ve,W,"move"),onTouchMove:ft,onTouchEnd:Lr,onClick:Ve=>hn(Ve,W),title:`Booked by: ${W.user_name}
Project: ${W.project}`,children:[Ma&&p.jsx("div",{className:"absolute top-0 left-0 right-0 h-3 z-20 cursor-ns-resize opacity-0 group-hover:opacity-100 bg-blue-400/20",onMouseDown:Ve=>{Ve.stopPropagation(),ln(Ve,W,"resize-top")},onTouchStart:Ve=>{Ve.stopPropagation(),qr(Ve,W,"resize-top")},onTouchMove:ft,onTouchEnd:Lr}),p.jsx("div",{className:`font-bold truncate pointer-events-none ${St?"text-blue-900 dark:text-blue-100":"text-gray-800 dark:text-gray-200"}`,children:W.user_name}),p.jsx("div",{className:`truncate text-[10px] pointer-events-none ${St?"text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-400"}`,children:W.project}),z&&z.id===W.ids[0]&&(Me||St)&&(!Bn||_)&&p.jsx("div",{className:"absolute top-0 right-0 p-1 cursor-pointer text-red-600 hover:text-red-800 bg-white/50 hover:bg-white rounded-bl z-30",onClick:Ve=>Wt(Ve,W),title:"Cancel Booking",children:p.jsx("i",{className:"fas fa-times text-xs"})}),Mn&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 z-20 cursor-ns-resize opacity-0 group-hover:opacity-100 bg-blue-400/20",onMouseDown:Ve=>{Ve.stopPropagation(),ln(Ve,W,"resize-bottom")},onTouchStart:Ve=>{Ve.stopPropagation(),qr(Ve,W,"resize-bottom")},onTouchMove:ft,onTouchEnd:Lr})]},W.ids[0])}),ve&&p.jsxs("div",{className:`absolute border border-dashed rounded p-1 text-xs overflow-hidden z-50 opacity-80 pointer-events-none
                                                        ${$e.isValid?"bg-blue-200 border-blue-500":"bg-red-200 border-red-500"}`,style:{top:`${$e.currentTop}px`,height:`${$e.currentHeight-1}px`,left:"2px",right:"2px"},children:[p.jsx("div",{className:`font-bold truncate ${$e.isValid?"text-blue-900":"text-red-900"}`,children:le.user_name}),p.jsx("div",{className:`truncate text-[10px] ${$e.isValid?"text-blue-700":"text-red-700"}`,children:le.project})]})]})]},Q)})})]})}),p.jsxs("div",{className:"p-4 border-t dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col-reverse sm:flex-row justify-end gap-3 shrink-0 z-30 transition-colors",children:[p.jsxs("div",{className:"mr-auto flex flex-wrap items-center gap-4 text-sm mb-2 sm:mb-0 text-gray-600 dark:text-gray-400",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-4 h-4 bg-white dark:bg-gray-800 border dark:border-gray-600"})," Available"]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-4 h-4 bg-blue-200 dark:bg-blue-800 rounded"})," Selected"]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-4 h-4 bg-blue-100 dark:bg-blue-900/60 border border-blue-300 dark:border-blue-700 rounded"})," My Booking"]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-4 h-4 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded"})," Other's Booking"]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Project:"}),p.jsxs("select",{value:U,onChange:$=>X($.target.value),onClick:$=>$.stopPropagation(),className:"border dark:border-gray-600 rounded p-1 text-sm focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-800 dark:text-white",children:[p.jsx("option",{value:"General",children:"General"}),s?.projects?.map(($,Q)=>p.jsx("option",{value:$,children:$},Q))]})]}),p.jsx("button",{onClick:z?wt:i,className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:"Cancel"}),p.jsxs("button",{disabled:S.length===0&&!z||N,onClick:$=>{$.stopPropagation(),za()},className:`px-6 py-2 rounded text-white font-bold transition flex items-center gap-2 ${S.length===0&&!z||N?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:[N&&p.jsx("i",{className:"fas fa-spinner fa-spin"}),N?z?"Updating...":"Booking...":z?"Update Booking":"Confirm Booking"]})]})]})})},h_=({isOpen:l,title:a,message:s,onConfirm:i,onCancel:c})=>l?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm p-6 transform transition-all scale-100",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:p.jsx("i",{className:"fas fa-exclamation-triangle text-red-600 text-xl"})}),p.jsx("h3",{className:"text-lg font-bold text-gray-900",children:a}),p.jsx("p",{className:"text-sm text-gray-500 mt-2",children:s})]}),p.jsxs("div",{className:"mt-6 flex gap-3",children:[p.jsx("button",{onClick:c,className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:text-sm",children:"Cancel"}),p.jsx("button",{onClick:i,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 sm:text-sm",children:"Confirm"})]})]})}):null,ag=({toolsList:l,title:a,profile:s,onStatusChange:i,onBook:c})=>p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded shadow-sm overflow-x-auto border dark:border-gray-700 mb-8 transition-colors",children:[p.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 border-b dark:border-gray-700 font-bold text-gray-700 dark:text-gray-200 transition-colors",children:[a," (",l.length,")"]}),p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900 border-b dark:border-gray-700 transition-colors",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"ID"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Name"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Category"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Status"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"License"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300 text-right",children:"Action"})]})}),p.jsx("tbody",{children:l.map(d=>p.jsxs("tr",{className:"tool-row border-b dark:border-gray-700 last:border-0 transition-colors",children:[p.jsx("td",{className:"p-4 text-gray-500 dark:text-gray-400 font-mono text-sm",children:d.id}),p.jsxs("td",{className:"p-4",children:[p.jsx("div",{className:"font-bold text-gray-800 dark:text-gray-200",children:d.name}),p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:d.description})]}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded text-xs font-semibold",children:d.category})}),p.jsx("td",{className:"p-4",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(nm,{status:d.status}),s?.access_level==="admin"&&p.jsxs("select",{value:d.status,onChange:f=>i(d.id,f.target.value),className:"text-xs border dark:border-gray-600 rounded p-1 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200",onClick:f=>f.stopPropagation(),children:[p.jsx("option",{value:"up",children:"Up"}),p.jsx("option",{value:"down",children:"Down"}),p.jsx("option",{value:"service",children:"Service"})]})]})}),p.jsx("td",{className:"p-4",children:d.license_req?s?.licenses?.includes(d.id)?p.jsxs("span",{className:"text-green-700 dark:text-green-400 font-bold flex items-center gap-1 text-sm",children:[p.jsx("i",{className:"fas fa-check-circle"})," Active"]}):p.jsxs("span",{className:"text-gray-400 dark:text-gray-500 flex items-center gap-1 text-sm",children:[p.jsx("i",{className:"fas fa-times-circle"})," Missing"]}):p.jsx("span",{className:"text-green-600 dark:text-green-400 text-xs font-bold bg-green-50 dark:bg-green-900/20 px-2 py-1 rounded",children:"Not Required"})}),p.jsx("td",{className:"p-4 text-right",children:p.jsx("button",{onClick:()=>c(d),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm font-medium shadow-sm transition-colors",children:"Book"})})]},d.id))})]}),l.length===0&&p.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"No tools found in this section."})]}),g_=({tools:l,profile:a,onStatusChange:s,onBook:i})=>{const[c,d]=Z.useState("All"),[f,m]=Z.useState(""),g=Z.useMemo(()=>{const b=new Set(l.map(S=>S.category));return["All",...Array.from(b).sort()]},[l]),y=l.filter(b=>{const S=c==="All"||b.category===c,j=b.name.toLowerCase().includes(f.toLowerCase())||b.id.toString().includes(f)||b.description&&b.description.toLowerCase().includes(f.toLowerCase());return S&&j}),_=y.filter(b=>!b.license_req||a?.licenses?.includes(b.id)),T=y.filter(b=>b.license_req&&!a?.licenses?.includes(b.id));return p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white dark:bg-gray-800 p-4 rounded shadow-sm transition-colors",children:[p.jsx("div",{className:"flex-1",children:p.jsx("input",{type:"text",placeholder:"Search tool name, ID, or description...",className:"w-full border dark:border-gray-600 p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-gray-700 text-gray-800 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 transition-colors",value:f,onChange:b=>m(b.target.value)})}),p.jsx("select",{className:"border dark:border-gray-600 p-2 rounded bg-white dark:bg-gray-700 text-gray-800 dark:text-white transition-colors",value:c,onChange:b=>d(b.target.value),children:g.map(b=>p.jsx("option",{value:b,children:b},b))})]}),p.jsx(ag,{toolsList:_,title:"My Authorized Tools",profile:a,onStatusChange:s,onBook:i}),p.jsx(ag,{toolsList:T,title:"Other Tools",profile:a,onStatusChange:s,onBook:i})]})},Pu=({bookings:l,onCancel:a,onUpdate:s,onEdit:i,allBookings:c,isAdminView:d=!1,readOnly:f=!1})=>{const m=Z.useMemo(()=>_l(l),[l]);return p.jsx("div",{className:"space-y-6",children:m.length===0?p.jsx("p",{className:"text-gray-500 dark:text-gray-400 transition-colors",children:d?"No bookings found in the system.":"No bookings found."}):p.jsx("div",{className:"space-y-2",children:m.map(g=>p.jsxs("div",{className:`bg-white dark:bg-gray-800 p-4 rounded shadow-sm border dark:border-gray-700 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0 transition-colors ${f?"opacity-75 bg-gray-50 dark:bg-gray-900":""}`,children:[p.jsxs("div",{children:[p.jsx("div",{className:`font-bold ${f?"text-gray-700 dark:text-gray-300":"text-blue-900 dark:text-blue-100"}`,children:g.tool_name}),p.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d&&p.jsxs("span",{className:"font-semibold text-gray-800 dark:text-gray-200 mr-1",children:[g.user_name," |"]}),g.date," | ",g.startTime," - ",g.endTime]}),d&&p.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Project: ",g.project]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>i(g),disabled:f,className:`text-sm font-semibold border px-3 py-1 rounded transition-colors ${f?"text-gray-400 dark:text-gray-600 border-gray-200 dark:border-gray-700 cursor-not-allowed":"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 border-blue-200 dark:border-blue-800 hover:bg-blue-50 dark:hover:bg-blue-900/30"}`,children:"Edit"}),p.jsx("button",{onClick:()=>a(g.ids),disabled:f,className:`text-sm font-semibold border px-3 py-1 rounded transition-colors ${f?"text-gray-400 dark:text-gray-600 border-gray-200 dark:border-gray-700 cursor-not-allowed":"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 border-red-200 dark:border-red-800 hover:bg-red-50 dark:hover:bg-red-900/20"}`,children:d?"Delete":"Cancel"})]})]},g.ids[0]))})})},m_=({bookings:l,currentWeekStart:a,onWeekChange:s,onBookingClick:i})=>{const c=Z.useRef(null),d=Z.useMemo(()=>{const U=[];try{for(let X=0;X<7;X++){const ie=new Date(a);ie.setDate(a.getDate()+X),U.push(ie)}}catch(X){console.error("Error generating week dates",X)}return U},[a]),f=Z.useMemo(()=>{const U=[];for(let X=0;X<24;X++){const ie=X<10?"0"+X:X;U.push(`${ie}:00`),U.push(`${ie}:30`)}return U},[]),m=48,g=0,[y,_]=Z.useState(new Date);Z.useEffect(()=>{const U=setInterval(()=>{_(new Date)},6e4);return()=>clearInterval(U)},[]);const T=()=>{const U=y.getHours(),X=y.getMinutes();return((U-g)*60+X)/30*m},b=U=>{const X=new Date;return U.getDate()===X.getDate()&&U.getMonth()===X.getMonth()&&U.getFullYear()===X.getFullYear()};Z.useEffect(()=>{if(c.current){const ie=(9-g)*2*m;c.current.scrollTop=ie}},[]);const S=U=>{try{return U.toISOString().split("T")[0]}catch{return""}},j=U=>{try{return U.toLocaleDateString("en-US",{weekday:"short",month:"numeric",day:"numeric"})}catch{return"Invalid Date"}},N=Z.useMemo(()=>_l(l),[l]),R=U=>{const X=parseInt(U.startTime.split(":")[0]),ie=parseInt(U.startTime.split(":")[1]),ee=parseInt(U.endTime.split(":")[0]),J=parseInt(U.endTime.split(":")[1]),P=(X-g)*60+ie,Ae=(ee-g)*60+J-P,We=P/30*m,De=Ae/30*m;return{top:`${We}px`,height:`${De-1}px`,left:U.left!==void 0?`${U.left}%`:"2px",width:U.width!==void 0?`${U.width}%`:"calc(100% - 4px)",position:"absolute",zIndex:10}},z=()=>{const U=new Date(a);U.setDate(U.getDate()-7),s(U)},K=()=>{const U=new Date(a);U.setDate(U.getDate()+7),s(U)};return p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 flex flex-col overflow-hidden h-[950px] transition-colors",children:[p.jsx("div",{className:"p-1 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex justify-between items-center shrink-0 transition-colors",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:z,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 rounded transition-colors",children:p.jsx("i",{className:"fas fa-chevron-left"})}),p.jsxs("div",{className:"font-bold text-gray-700 dark:text-gray-200 w-48 text-center transition-colors",children:[d[0].toLocaleDateString()," - ",d[6].toLocaleDateString()]}),p.jsx("button",{onClick:K,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 rounded transition-colors",children:p.jsx("i",{className:"fas fa-chevron-right"})})]})}),p.jsx("div",{ref:c,className:"flex-1 overflow-auto custom-scroll relative select-none",children:p.jsxs("div",{className:"min-w-[800px] flex",children:[p.jsxs("div",{className:"w-[50px] shrink-0 bg-gray-50 dark:bg-gray-900 border-r dark:border-gray-700 sticky left-0 z-30 transition-colors",children:[p.jsx("div",{className:"h-10 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900 transition-colors"})," ",f.map(U=>p.jsx("div",{className:"h-12 border-b dark:border-gray-700 text-right pr-2 text-xs text-gray-500 dark:text-gray-400 font-mono flex items-center justify-end transition-colors",children:U},U))]}),p.jsx("div",{className:"flex-1 flex",children:d.map((U,X)=>{const ie=S(U),ee=N.filter(P=>P.date===ie),J=tm(ee);return p.jsxs("div",{className:"flex-1 min-w-[100px] border-r dark:border-gray-700 last:border-0 relative transition-colors",children:[p.jsx("div",{className:"h-10 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-center font-semibold text-gray-700 dark:text-gray-300 text-sm flex items-center justify-center sticky top-0 z-20 transition-colors",children:j(U)}),p.jsxs("div",{className:"relative",children:[f.map(P=>p.jsx("div",{className:"h-12 border-b dark:border-gray-700 transition-colors"},P)),b(U)&&p.jsx("div",{className:"absolute w-full border-b-2 border-red-500 z-40 pointer-events-none",style:{top:`${T()}px`},title:"Current Time",children:p.jsx("div",{className:"absolute -left-1 -top-[4px] w-2 h-2 bg-red-500 rounded-full"})}),J.map(P=>p.jsxs("div",{className:"absolute bg-blue-100 dark:bg-blue-900/50 border border-blue-300 dark:border-blue-700 rounded p-1 text-xs overflow-hidden transition-all hover:z-10 hover:shadow-md cursor-pointer",style:R(P),onClick:()=>i&&i(P),title:"Click to edit booking",children:[p.jsx("div",{className:"font-bold text-blue-900 dark:text-blue-100 truncate pointer-events-none",children:P.tool_name}),p.jsx("div",{className:"text-blue-700 dark:text-blue-300 truncate text-[10px] pointer-events-none",children:P.project}),p.jsxs("div",{className:"text-blue-600 dark:text-blue-400 text-[10px] pointer-events-none",children:[P.startTime," - ",P.endTime]})]},P.ids[0]))]})]},X)})})]})})]})},y_=({tools:l,currentUser:a,onProfileUpdate:s})=>{const[i,c]=Z.useState([]),[d,f]=Z.useState(null),{showToast:m}=bl();Z.useEffect(()=>{(async()=>{console.log("Fetching all users...");const{data:S,error:j}=await lt.from("profiles").select("*").order("last_name",{ascending:!0});j?(console.error("Error fetching users:",j),m("Failed to fetch users","error")):(console.log("Fetched users:",S),c(S))})()},[m]);const g=async(b,S)=>{const j=i.find(z=>z.id===b);if(!j)return;const N=j.licenses||[];let R;N.includes(S)?R=N.filter(z=>z!==S):R=[...N,S];try{console.log(`Updating licenses for user ${b} to:`,R);const{data:z,error:K}=await lt.from("profiles").update({licenses:R}).eq("id",b).select();if(K)throw console.error("Supabase update error:",K),K;console.log("Supabase update success:",z),c(i.map(U=>U.id===b?{...U,licenses:R}:U)),d?.id===b&&f({...d,licenses:R}),a&&a.id===b&&s&&s(),m("Licenses updated successfully.")}catch(z){console.error("Error updating licenses:",z),m("Failed to update licenses: "+z.message,"error")}},y=async b=>{try{const{error:S}=await lt.from("profiles").update({is_approved:!0}).eq("id",b);if(S)throw S;c(i.map(j=>j.id===b?{...j,is_approved:!0}:j)),m("User approved successfully.")}catch(S){console.error("Error approving user:",S),m("Failed to approve user: "+S.message,"error")}},_=async(b,S)=>{const j=i.find(z=>z.id===b);if(!j)return;const N=j.projects||[];if(N.includes(S)){m("Project already assigned.","error");return}const R=[...N,S];try{const{error:z}=await lt.from("profiles").update({projects:R}).eq("id",b);if(z)throw z;c(i.map(K=>K.id===b?{...K,projects:R}:K)),d?.id===b&&f({...d,projects:R}),a&&a.id===b&&s&&s(),m("Project added successfully.")}catch(z){console.error("Error adding project:",z),m("Failed to add project: "+z.message,"error")}},T=async(b,S)=>{const j=i.find(R=>R.id===b);if(!j)return;const N=(j.projects||[]).filter(R=>R!==S);try{const{error:R}=await lt.from("profiles").update({projects:N}).eq("id",b);if(R)throw R;c(i.map(z=>z.id===b?{...z,projects:N}:z)),d?.id===b&&f({...d,projects:N}),a&&a.id===b&&s&&s(),m("Project removed successfully.")}catch(R){console.error("Error removing project:",R),m("Failed to remove project: "+R.message,"error")}};return p.jsxs("div",{className:"space-y-6",children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 transition-colors",children:"User Management"}),p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded shadow-sm overflow-hidden border dark:border-gray-700 transition-colors",children:p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900 border-b dark:border-gray-700 transition-colors",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Name"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Job Title"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Access"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Status"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300",children:"Licenses"}),p.jsx("th",{className:"p-4 font-semibold text-gray-600 dark:text-gray-300 text-right",children:"Action"})]})}),p.jsx("tbody",{children:i.map(b=>p.jsxs("tr",{className:"border-b dark:border-gray-700 last:border-0 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[p.jsxs("td",{className:"p-4 font-bold text-gray-800 dark:text-gray-200",children:[b.first_name," ",b.last_name]}),p.jsx("td",{className:"p-4 text-gray-600 dark:text-gray-400",children:b.job_title}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${b.access_level==="admin"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"}`,children:b.access_level})}),p.jsx("td",{className:"p-4",children:b.is_approved?p.jsx("span",{className:"px-2 py-1 rounded text-xs font-bold uppercase bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",children:"Active"}):p.jsx("button",{onClick:()=>y(b.id),className:"px-2 py-1 rounded text-xs font-bold uppercase bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 hover:bg-yellow-200 dark:hover:bg-yellow-900/50 transition-colors",children:"Approve"})}),p.jsx("td",{className:"p-4 text-gray-600 dark:text-gray-400",children:b.licenses?.length||0}),p.jsx("td",{className:"p-4 text-right",children:p.jsx("button",{onClick:()=>f(d?.id===b.id?null:b),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-semibold text-sm transition-colors",children:d?.id===b.id?"Close":"Manage"})})]},b.id))})]})}),d&&p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded shadow-sm border border-blue-200 dark:border-blue-900 animate-fade-in transition-colors",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h4",{className:"font-bold text-lg text-gray-800 dark:text-gray-200",children:["Manage ",d.first_name," ",d.last_name]}),p.jsx("button",{onClick:()=>f(null),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",children:p.jsx("i",{className:"fas fa-times"})})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("h5",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tool Licenses"}),p.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-60 overflow-y-auto pr-2 custom-scroll",children:l.map(b=>{const S=d.licenses?.includes(b.id);return p.jsxs("div",{className:`p-2 rounded border flex items-center justify-between cursor-pointer transition-colors text-sm ${S?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600"}`,onClick:()=>g(d.id,b.id),children:[p.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:b.name}),S?p.jsx("i",{className:"fas fa-check-circle text-green-600 dark:text-green-400"}):p.jsx("i",{className:"far fa-circle text-gray-400 dark:text-gray-500"})]},b.id)})})]}),p.jsxs("div",{children:[p.jsx("h5",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Assigned Projects"}),p.jsxs("div",{className:"flex gap-2 mb-2",children:[p.jsx("input",{type:"text",placeholder:"New Project Name",className:"flex-1 border dark:border-gray-600 rounded px-2 py-1 text-sm bg-white dark:bg-gray-700 text-gray-800 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 outline-none focus:ring-2 focus:ring-blue-500 transition-colors",onKeyDown:b=>{if(b.key==="Enter"){const S=b.target.value.trim();S&&(_(d.id,S),b.target.value="")}},id:"new-project-input"}),p.jsx("button",{onClick:()=>{const b=document.getElementById("new-project-input"),S=b.value.trim();S&&(_(d.id,S),b.value="")},className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm transition-colors",children:"Add"})]}),p.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2 custom-scroll",children:[(!d.projects||d.projects.length===0)&&p.jsx("div",{className:"text-gray-400 dark:text-gray-500 text-sm italic",children:"No projects assigned."}),d.projects?.map((b,S)=>p.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700 p-2 rounded border dark:border-gray-600 text-sm transition-colors",children:[p.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:b}),p.jsx("button",{onClick:()=>T(d.id,b),className:"text-red-500 hover:text-red-700",children:p.jsx("i",{className:"fas fa-trash-alt"})})]},S))]})]})]})]})]})},v_=({user:l,onLogout:a})=>{const[s,i]=Z.useState("dashboard"),[c,d]=Z.useState([]),[f,m]=Z.useState([]),[g,y]=Z.useState(null),[_,T]=Z.useState(null),[b,S]=Z.useState(null),[j,N]=Z.useState(null),[R,z]=Z.useState(!0),[K,U]=Z.useState(!1),[X,ie]=Z.useState(!1),[ee,J]=Z.useState(null),[P,me]=Z.useState(()=>{const A=new Date,G=A.getDay(),V=A.getDate()-G+(G===0?-6:1);return new Date(A.setDate(V))}),{showToast:Ae}=bl(),{theme:We,toggleTheme:De}=o_();Z.useEffect(()=>{const A=async(V=!1)=>{V||z(!0);try{const{data:I,error:F}=await lt.from("tools").select("*").order("id",{ascending:!0});if(F)throw F;I&&d(I);const{data:ce,error:Te}=await lt.from("profiles").select("*").eq("id",l.id).single();if(Te&&Te.code!=="PGRST116")throw Te;ce&&y(ce);const{data:Ce,error:$e}=await lt.from("bookings").select("*");if($e)throw $e;Ce&&m(Ce)}catch(I){console.error("Error fetching data:",I),V||Ae("Error fetching data: "+I.message,"error")}finally{V||z(!1)}};A();const G=setInterval(()=>{A(!0)},1e4);return()=>clearInterval(G)},[l.id,Ae]);const Me=f.filter(A=>A.user_id===l.id);Z.useMemo(()=>_l(Me),[f,l.id]);const tt=Z.useMemo(()=>{const A=new Set,G=[],V=[...Me].sort((I,F)=>new Date(F.created_at)-new Date(I.created_at));for(const I of V){if(!A.has(I.tool_id)){A.add(I.tool_id);const F=c.find(ce=>ce.id===I.tool_id);F&&G.push(F)}if(G.length>=3)break}return G},[Me,c]),Qe=async A=>{const G=Array.isArray(A)?A:[A],V=new Date,I=G.some(ce=>new Date(`${ce.date}T${ce.end_time||ce.endTime}`)<V),F=g?.access_level==="admin"&&s==="all_bookings";if(I&&!F){Ae("Cannot create bookings in the past.","error");return}try{const{data:ce,error:Te}=await lt.from("bookings").insert(G).select();if(Te)throw Te;m([...f,...ce]),T(null),S(null),Ae(`Successfully created ${ce.length} booking(s).`)}catch(ce){console.error("Error creating booking:",ce),Ae("Failed to create booking: "+ce.message,"error")}},B=A=>{const G=Array.isArray(A)?A:[A],V=f.filter(Te=>G.includes(Te.id)),I=new Date,F=V.some(Te=>{const Ce=new Date(`${Te.date}T${Te.time}`),$e=new Date(`${Te.date}T${Te.end_time}`);return Ce<=I&&$e>I}),ce=g?.access_level==="admin"&&s==="all_bookings";if(F&&!ce){Ae("Cannot cancel an in-progress booking.","error");return}J(A),ie(!0)},Y=async()=>{if(ee)try{const{error:A}=await lt.from("bookings").delete().in("id",ee);if(A)throw A;m(f.filter(G=>!ee.includes(G.id))),Ae("Booking has been cancelled.")}catch(A){console.error("Error cancelling booking:",A),Ae("Failed to cancel booking.","error")}finally{ie(!1),J(null)}},ae=async(A,G)=>{try{const V=A[0];if(!V)throw new Error("No booking ID provided for update");if(A.length>1){const hn=A.slice(1),{error:wt}=await lt.from("bookings").delete().in("id",hn);wt&&console.error("Error deleting secondary slots:",wt)}const F=(Array.isArray(G)?G:[G])[0],ce=new Date,Te=new Date(`${F.date}T${F.end_time||F.endTime}`),Ce=g?.access_level==="admin"&&s==="all_bookings";if(Te<ce&&!Ce)throw new Error("Cannot move booking to the past.");const $e={project:F.project,date:F.date,time:F.startTime||F.time,end_time:F.endTime||F.end_time},{data:ln,error:Un}=await lt.from("bookings").update($e).eq("id",V).select();if(Un)throw Un;m(hn=>{let wt=hn;return A.length>1&&(wt=hn.filter(Wt=>!A.slice(1).includes(Wt.id))),wt.map(Wt=>Wt.id===V?{...Wt,...$e}:Wt)}),Ae("Booking updated successfully.")}catch(V){console.error("Error updating booking:",V),Ae("Failed to update booking: "+V.message,"error")}},we=async(A,G)=>{try{const{error:V}=await lt.from("tools").update({status:G}).eq("id",A);if(V)throw V;d(c.map(I=>I.id===A?{...I,status:G}:I)),Ae(`Tool status updated to ${G}`)}catch(V){console.error("Error updating status:",V),Ae("Failed to update status.","error")}},_e=A=>{const G=c.find(V=>V.id===A.tool_id);G?(T(G),S(A.date),N(A)):Ae("Tool details not found.","error")};if(R)return p.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."});const x=A=>{i(A),U(!1)};return p.jsxs("div",{className:"flex h-screen bg-gray-100",children:[K&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>U(!1)}),p.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 shadow-lg flex flex-col transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-auto ${K?"translate-x-0":"-translate-x-full"}`,children:[p.jsx("div",{className:"h-16 flex items-center justify-center border-b border-blue-900 bg-blue-900 dark:bg-blue-950 text-white transition-colors",children:p.jsxs("div",{className:"font-bold text-xl tracking-wider flex items-center",children:[p.jsx("img",{src:Fg,alt:"Logo",className:"h-8 mr-2 brightness-0 invert"}),"MMI-LIMS"]})}),p.jsxs("div",{className:"p-4 border-b dark:border-gray-700",children:[p.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Logged in as"}),p.jsx("div",{className:"font-bold text-gray-800 dark:text-gray-200 truncate",children:g?`${g.first_name} ${g.last_name}`:l.email}),p.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-semibold uppercase mt-1",children:[g?.job_title||"Researcher",g?.access_level==="admin"&&p.jsx("span",{className:"ml-2 bg-red-600 text-white px-1 rounded text-[10px]",children:"ADMIN"})]})]}),p.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[p.jsxs("button",{onClick:()=>x("dashboard"),className:`w-full flex items-center p-3 rounded transition ${s==="dashboard"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-bold":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[p.jsx("i",{className:"fas fa-home w-8"})," Dashboard"]}),p.jsxs("button",{onClick:()=>x("tools"),className:`w-full flex items-center p-3 rounded transition ${s==="tools"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-bold":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[p.jsx("i",{className:"fas fa-tools w-8"})," Tool List"]}),g?.access_level==="admin"&&p.jsxs("button",{onClick:()=>x("users"),className:`w-full flex items-center p-3 rounded transition ${s==="users"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-bold":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[p.jsx("i",{className:"fas fa-users w-8"})," Users"]}),g?.access_level==="admin"&&p.jsxs("button",{onClick:()=>x("all_bookings"),className:`w-full flex items-center p-3 rounded transition ${s==="all_bookings"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-bold":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[p.jsx("i",{className:"fas fa-calendar-check w-8"})," All Bookings"]})]}),p.jsxs("div",{className:"p-4 border-t dark:border-gray-700 space-y-2",children:[p.jsxs("button",{onClick:De,className:"w-full flex items-center p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 rounded transition",children:[p.jsx("i",{className:`fas ${We==="dark"?"fa-sun":"fa-moon"} w-8`})," ",We==="dark"?"Light Mode":"Dark Mode"]}),p.jsxs("button",{onClick:a,className:"w-full flex items-center p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition",children:[p.jsx("i",{className:"fas fa-sign-out-alt w-8"})," Logout"]})]})]}),p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-gray-100 dark:bg-gray-900 transition-colors",children:[p.jsx("header",{className:"h-16 bg-white dark:bg-gray-800 shadow-sm flex items-center justify-between px-6 transition-colors",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:()=>U(!0),className:"lg:hidden text-gray-600 dark:text-gray-300 hover:text-blue-900 dark:hover:text-blue-400",children:p.jsx("i",{className:"fas fa-bars text-xl"})}),p.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white capitalize",children:s.replace("-"," ")})]})}),p.jsxs("main",{className:"flex-1 overflow-y-auto p-6 custom-scroll",children:[s==="dashboard"&&p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[p.jsxs("div",{className:"lg:col-span-2 flex flex-col",children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4",children:"My Bookings Calendar"}),p.jsx(m_,{bookings:Me,allBookings:f,onUpdate:ae,currentWeekStart:P,onWeekChange:me,onBookingClick:_e})]}),p.jsxs("div",{className:"lg:col-span-1 flex flex-col gap-6",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4",children:"Quick Book"}),p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 transition-colors flex flex-col max-h-[350px]",children:p.jsx("div",{className:"overflow-y-auto p-4 custom-scroll",children:tt.length>0?p.jsx("div",{className:"grid grid-cols-1 gap-4",children:tt.map(A=>p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-3 rounded-lg border dark:border-gray-700 hover:shadow-md transition cursor-pointer flex justify-between items-center group",onClick:()=>T(A),children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-sm text-gray-800 dark:text-gray-200 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:A.name}),p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:A.category})]}),p.jsx("div",{className:"h-6 w-6 bg-white dark:bg-gray-800 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 group-hover:bg-blue-100 dark:group-hover:bg-blue-800/50 transition-colors shadow-sm",children:p.jsx("i",{className:"fas fa-plus text-xs"})})]},A.id))}):p.jsx("div",{className:"flex items-center justify-center text-gray-400 italic py-4",children:"No recent tools found."})})})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4",children:"Upcoming Bookings"}),p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 transition-colors flex flex-col max-h-[350px]",children:p.jsx("div",{className:"overflow-y-auto p-4 custom-scroll",children:p.jsx(Pu,{bookings:Me.filter(A=>new Date(`${A.date}T${A.end_time||A.endTime}`)>=new Date),allBookings:f,onCancel:B,onUpdate:ae,onEdit:_e})})})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h3",{className:"font-bold text-gray-600 dark:text-gray-400 mb-4",children:"Past Bookings"}),p.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg shadow-sm border dark:border-gray-700 transition-colors flex flex-col max-h-[350px]",children:p.jsx("div",{className:"overflow-y-auto p-4 custom-scroll",children:p.jsx(Pu,{bookings:Me.filter(A=>new Date(`${A.date}T${A.end_time||A.endTime}`)<new Date),allBookings:f,onCancel:B,onUpdate:ae,onEdit:_e,readOnly:!0})})})]})]})]}),s==="tools"&&p.jsx(g_,{tools:c,profile:g,onStatusChange:we,onBook:T}),s==="all_bookings"&&g?.access_level==="admin"&&p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4",children:"All Bookings List"}),p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 p-4 transition-colors",children:p.jsx(Pu,{bookings:f,onCancel:B,onUpdate:ae,onEdit:_e,isAdminView:!0})})]}),s==="users"&&g?.access_level==="admin"&&p.jsx(y_,{tools:c,currentUser:l,onProfileUpdate:async()=>{const{data:A}=await lt.from("profiles").select("*").eq("id",l.id).single();A&&y(A)}})]})]}),_&&p.jsx(f_,{tool:_,user:l,profile:g,existingBookings:f,initialDate:b,initialBooking:j,onClose:()=>{T(null),S(null),N(null)},onConfirm:Qe,onUpdate:ae,onCancel:B,isAdminOverride:g?.access_level==="admin"&&s==="all_bookings"}),p.jsx(h_,{isOpen:X,title:"Cancel Booking",message:"Are you sure you want to cancel this booking? This action cannot be undone.",onConfirm:Y,onCancel:()=>{ie(!1),J(null)}})]})},am=()=>p.jsx("div",{className:"flex justify-center items-center h-full",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-900"})}),p_=({session:l,onLogout:a})=>{const[s,i]=Z.useState(null),[c,d]=Z.useState(!0);return Z.useEffect(()=>{(async()=>{const{data:m,error:g}=await lt.from("profiles").select("*").eq("id",l.user.id).single();g?console.error("Error fetching profile:",g):i(m),d(!1)})()},[l]),c?p.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:p.jsx(am,{})}):s&&!s.is_approved?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-md text-center border-t-4 border-yellow-500",children:[p.jsx("div",{className:"mb-4",children:p.jsx("i",{className:"fas fa-clock text-5xl text-yellow-500"})}),p.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Account Pending Approval"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been created but requires administrator approval before you can access the system. Please check back later or contact the lab manager."}),p.jsx("button",{onClick:a,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition",children:"Sign Out"})]})}):p.jsx(v_,{user:l.user,profile:s,onLogout:a})};function b_(){const[l,a]=Z.useState(null),[s,i]=Z.useState(!0);return Z.useEffect(()=>{lt.auth.getSession().then(({data:{session:d}})=>{a(d),i(!1)});const{data:{subscription:c}}=lt.auth.onAuthStateChange((d,f)=>{a(f),i(!1)});return()=>c.unsubscribe()},[]),s?p.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:p.jsx(am,{})}):p.jsx(l_,{children:p.jsx(i_,{children:l?p.jsx(p_,{session:l,onLogout:()=>lt.auth.signOut()}):p.jsx(u_,{})})})}Nv.createRoot(document.getElementById("root")).render(p.jsx(Z.StrictMode,{children:p.jsx(b_,{})}));
